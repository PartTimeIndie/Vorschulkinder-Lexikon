/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/index";
exports.ids = ["pages/index"];
exports.modules = {

/***/ "__barrel_optimize__?names=motion!=!./node_modules/framer-motion/dist/es/index.mjs":
/*!*****************************************************************************************!*\
  !*** __barrel_optimize__?names=motion!=!./node_modules/framer-motion/dist/es/index.mjs ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   motion: () => (/* reexport safe */ _render_dom_motion_mjs__WEBPACK_IMPORTED_MODULE_0__.motion)
/* harmony export */ });
/* harmony import */ var _render_dom_motion_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./render/dom/motion.mjs */ "./node_modules/framer-motion/dist/es/render/dom/motion.mjs");



/***/ }),

/***/ "./public/websiteBaseImages/questionmark.png":
/*!***************************************************!*\
  !*** ./public/websiteBaseImages/questionmark.png ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\"src\":\"/_next/static/media/questionmark.7cf4244c.png\",\"height\":1024,\"width\":1024,\"blurDataURL\":\"/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Fquestionmark.7cf4244c.png&w=8&q=70\",\"blurWidth\":8,\"blurHeight\":8});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvd2Vic2l0ZUJhc2VJbWFnZXMvcXVlc3Rpb25tYXJrLnBuZyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsQ0FBQyw4TUFBOE0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9raW5kZXJsZXhpa29uLy4vcHVibGljL3dlYnNpdGVCYXNlSW1hZ2VzL3F1ZXN0aW9ubWFyay5wbmc/MzBkOCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XCJzcmNcIjpcIi9fbmV4dC9zdGF0aWMvbWVkaWEvcXVlc3Rpb25tYXJrLjdjZjQyNDRjLnBuZ1wiLFwiaGVpZ2h0XCI6MTAyNCxcIndpZHRoXCI6MTAyNCxcImJsdXJEYXRhVVJMXCI6XCIvX25leHQvaW1hZ2U/dXJsPSUyRl9uZXh0JTJGc3RhdGljJTJGbWVkaWElMkZxdWVzdGlvbm1hcmsuN2NmNDI0NGMucG5nJnc9OCZxPTcwXCIsXCJibHVyV2lkdGhcIjo4LFwiYmx1ckhlaWdodFwiOjh9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/websiteBaseImages/questionmark.png\n");

/***/ }),

/***/ "./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%5Cindex.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%5Cindex.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getServerSideProps: () => (/* binding */ getServerSideProps),\n/* harmony export */   getStaticPaths: () => (/* binding */ getStaticPaths),\n/* harmony export */   getStaticProps: () => (/* binding */ getStaticProps),\n/* harmony export */   reportWebVitals: () => (/* binding */ reportWebVitals),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   unstable_getServerProps: () => (/* binding */ unstable_getServerProps),\n/* harmony export */   unstable_getServerSideProps: () => (/* binding */ unstable_getServerSideProps),\n/* harmony export */   unstable_getStaticParams: () => (/* binding */ unstable_getStaticParams),\n/* harmony export */   unstable_getStaticPaths: () => (/* binding */ unstable_getStaticPaths),\n/* harmony export */   unstable_getStaticProps: () => (/* binding */ unstable_getStaticProps)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages/module.compiled */ \"./node_modules/next/dist/server/future/route-modules/pages/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! private-next-pages/_document */ \"./pages/_document.js\");\n/* harmony import */ var private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! private-next-pages/_app */ \"./pages/_app.js\");\n/* harmony import */ var _pages_index_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pages\\index.js */ \"./pages/index.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__, _pages_index_js__WEBPACK_IMPORTED_MODULE_5__]);\n([private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__, _pages_index_js__WEBPACK_IMPORTED_MODULE_5__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n// Import the app and document modules.\n\n\n// Import the userland code.\n\n// Re-export the component (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"default\"));\n// Re-export methods.\nconst getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"getStaticProps\");\nconst getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"getStaticPaths\");\nconst getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"getServerSideProps\");\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"config\");\nconst reportWebVitals = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"reportWebVitals\");\n// Re-export legacy methods.\nconst unstable_getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticProps\");\nconst unstable_getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticPaths\");\nconst unstable_getStaticParams = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticParams\");\nconst unstable_getServerProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerProps\");\nconst unstable_getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerSideProps\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES,\n        page: \"/index\",\n        pathname: \"/\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    components: {\n        App: private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n        Document: private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__[\"default\"]\n    },\n    userland: _pages_index_js__WEBPACK_IMPORTED_MODULE_5__\n});\n\n//# sourceMappingURL=pages.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTJnBhZ2U9JTJGJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlNUNpbmRleC5qcyZhYnNvbHV0ZUFwcFBhdGg9cHJpdmF0ZS1uZXh0LXBhZ2VzJTJGX2FwcCZhYnNvbHV0ZURvY3VtZW50UGF0aD1wcml2YXRlLW5leHQtcGFnZXMlMkZfZG9jdW1lbnQmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDaEM7QUFDTDtBQUMxRDtBQUNvRDtBQUNWO0FBQzFDO0FBQzhDO0FBQzlDO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyw0Q0FBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyx1QkFBdUIsd0VBQUssQ0FBQyw0Q0FBUTtBQUNyQyx1QkFBdUIsd0VBQUssQ0FBQyw0Q0FBUTtBQUNyQywyQkFBMkIsd0VBQUssQ0FBQyw0Q0FBUTtBQUN6QyxlQUFlLHdFQUFLLENBQUMsNENBQVE7QUFDN0Isd0JBQXdCLHdFQUFLLENBQUMsNENBQVE7QUFDN0M7QUFDTyxnQ0FBZ0Msd0VBQUssQ0FBQyw0Q0FBUTtBQUM5QyxnQ0FBZ0Msd0VBQUssQ0FBQyw0Q0FBUTtBQUM5QyxpQ0FBaUMsd0VBQUssQ0FBQyw0Q0FBUTtBQUMvQyxnQ0FBZ0Msd0VBQUssQ0FBQyw0Q0FBUTtBQUM5QyxvQ0FBb0Msd0VBQUssQ0FBQyw0Q0FBUTtBQUN6RDtBQUNPLHdCQUF3Qix5R0FBZ0I7QUFDL0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxXQUFXO0FBQ1gsZ0JBQWdCO0FBQ2hCLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCxpQyIsInNvdXJjZXMiOlsid2VicGFjazovL2tpbmRlcmxleGlrb24vPzJjZTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSBhcHAgYW5kIGRvY3VtZW50IG1vZHVsZXMuXG5pbXBvcnQgRG9jdW1lbnQgZnJvbSBcInByaXZhdGUtbmV4dC1wYWdlcy9fZG9jdW1lbnRcIjtcbmltcG9ydCBBcHAgZnJvbSBcInByaXZhdGUtbmV4dC1wYWdlcy9fYXBwXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlc1xcXFxpbmRleC5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBjb21wb25lbnQgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBtZXRob2RzLlxuZXhwb3J0IGNvbnN0IGdldFN0YXRpY1Byb3BzID0gaG9pc3QodXNlcmxhbmQsIFwiZ2V0U3RhdGljUHJvcHNcIik7XG5leHBvcnQgY29uc3QgZ2V0U3RhdGljUGF0aHMgPSBob2lzdCh1c2VybGFuZCwgXCJnZXRTdGF0aWNQYXRoc1wiKTtcbmV4cG9ydCBjb25zdCBnZXRTZXJ2ZXJTaWRlUHJvcHMgPSBob2lzdCh1c2VybGFuZCwgXCJnZXRTZXJ2ZXJTaWRlUHJvcHNcIik7XG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuZXhwb3J0IGNvbnN0IHJlcG9ydFdlYlZpdGFscyA9IGhvaXN0KHVzZXJsYW5kLCBcInJlcG9ydFdlYlZpdGFsc1wiKTtcbi8vIFJlLWV4cG9ydCBsZWdhY3kgbWV0aG9kcy5cbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9nZXRTdGF0aWNQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCBcInVuc3RhYmxlX2dldFN0YXRpY1Byb3BzXCIpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFN0YXRpY1BhdGhzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U3RhdGljUGF0aHNcIik7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U3RhdGljUGFyYW1zID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U3RhdGljUGFyYW1zXCIpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFNlcnZlclByb3BzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U2VydmVyUHJvcHNcIik7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U2VydmVyU2lkZVByb3BzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U2VydmVyU2lkZVByb3BzXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVMsXG4gICAgICAgIHBhZ2U6IFwiL2luZGV4XCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9cIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgY29tcG9uZW50czoge1xuICAgICAgICBBcHAsXG4gICAgICAgIERvY3VtZW50XG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%5Cindex.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "./components/CategoryTile.js":
/*!************************************!*\
  !*** ./components/CategoryTile.js ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/image */ \"./node_modules/next/image.js\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_image__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _barrel_optimize_names_motion_framer_motion__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=motion!=!framer-motion */ \"__barrel_optimize__?names=motion!=!./node_modules/framer-motion/dist/es/index.mjs\");\n/* harmony import */ var _utils_animationManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/animationManager */ \"./utils/animationManager.js\");\n/* harmony import */ var _utils_imageCache__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/imageCache */ \"./utils/imageCache.js\");\n/* harmony import */ var _public_websiteBaseImages_questionmark_png__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../public/websiteBaseImages/questionmark.png */ \"./public/websiteBaseImages/questionmark.png\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_utils_imageCache__WEBPACK_IMPORTED_MODULE_4__]);\n_utils_imageCache__WEBPACK_IMPORTED_MODULE_4__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n\n\nconst CategoryTile = ({ poolTile, delay = 0, base64Image, tileKey// <-- Add this prop to receive the key\n })=>{\n    const isDebugTile = poolTile?.id === \"tile-0\";\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isDebugTile) console.log(`[TILE] MOUNT id=${poolTile?.id}, contentId=${poolTile?.content?.id}, animationMode=${poolTile?.animationMode}, key=${tileKey}`);\n        return ()=>{\n            if (isDebugTile) console.log(`[TILE] UNMOUNT id=${poolTile?.id}, contentId=${poolTile?.content?.id}, animationMode=${poolTile?.animationMode}, key=${tileKey}`);\n        };\n    }, [\n        tileKey\n    ]);\n    const [imgLoaded, setImgLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const lastImageUrlRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Bild-URL ermitteln (muss immer definiert sein, auch wenn das Tile nicht sichtbar ist)\n    const getImageUrl = ()=>{\n        const category = poolTile?.content;\n        if (!category?.image?.filename) {\n            return null; // No real image, use placeholder\n        }\n        const protocol =  false ? 0 : \"http:\";\n        const hostname =  false ? 0 : \"localhost\";\n        const port = \"5000\";\n        const tileSize = 300;\n        const quality = 75;\n        return `${protocol}//${hostname}:${port}/images/${category.image.filename}?w=${tileSize}&h=${tileSize}&q=${quality}`;\n    };\n    const imageUrl = getImageUrl(); // immer berechnen\n    // State for the actual image source (Base64 or URL)\n    const [imgSrc, setImgSrc] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(imageUrl);\n    const [prevImgSrc, setPrevImgSrc] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let isMounted = true;\n        if (imageUrl) {\n            // Save previous image before loading new one\n            setPrevImgSrc(imgSrc);\n            (0,_utils_imageCache__WEBPACK_IMPORTED_MODULE_4__.getCachedImage)(imageUrl).then((base64)=>{\n                if (isMounted && base64) setImgSrc(base64);\n            }).catch(()=>{\n                if (isMounted) setImgSrc(imageUrl);\n            });\n        } else {\n            setPrevImgSrc(null);\n            setImgSrc(null);\n        }\n        return ()=>{\n            isMounted = false;\n        };\n    }, [\n        imageUrl\n    ]);\n    // Only reset imgLoaded if the imageUrl actually changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (lastImageUrlRef.current !== imageUrl) {\n            setImgLoaded(false);\n            if (isDebugTile) console.log(`[TILE] imgLoaded set to FALSE for id=${poolTile?.id}, imageUrl=${imageUrl}, key=${tileKey}`);\n            lastImageUrlRef.current = imageUrl;\n        }\n    }, [\n        imageUrl,\n        tileKey\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isDebugTile) console.log(`[IMG] MOUNT for tileId=${poolTile?.id}, imageUrl=${imageUrl}, key=${tileKey}`);\n        return ()=>{\n            if (isDebugTile) console.log(`[IMG] UNMOUNT for tileId=${poolTile?.id}, imageUrl=${imageUrl}, key=${tileKey}`);\n        };\n    }, [\n        imageUrl,\n        tileKey\n    ]);\n    if (isDebugTile) console.log(`[TILE] RENDER id=${poolTile?.id}, contentId=${poolTile?.content?.id}, animationMode=${poolTile?.animationMode}, imageUrl=${imageUrl}, imgLoaded=${imgLoaded}, key=${tileKey}`);\n    if (!poolTile?.isVisible || !poolTile?.content) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"category-tile\",\n            style: {\n                opacity: 0,\n                pointerEvents: \"none\",\n                visibility: \"hidden\",\n                width: \"100%\",\n                height: \"100%\"\n            }\n        }, void 0, false, {\n            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\components\\\\CategoryTile.js\",\n            lineNumber: 85,\n            columnNumber: 7\n        }, undefined);\n    }\n    const { content: category, animationMode, isAnimal, isPlayed, isCurrentlyPlaying, onClick } = poolTile;\n    const handleClick = ()=>{\n        if (animationMode) return;\n        if (onClick) {\n            onClick(category);\n        }\n    };\n    const isClicked = animationMode === \"clicked\";\n    const isFlyingOut = animationMode && animationMode.startsWith(\"fall-out-\");\n    let tileVariants;\n    let animateState;\n    if (isClicked) {\n        tileVariants = _utils_animationManager__WEBPACK_IMPORTED_MODULE_3__.animationManager.getClickedTileVariants();\n        animateState = \"clicked\";\n    } else if (isFlyingOut) {\n        const direction = animationMode.replace(\"fall-out-\", \"\");\n        tileVariants = _utils_animationManager__WEBPACK_IMPORTED_MODULE_3__.animationManager.getFlyOutTileVariants(direction);\n        animateState = \"flyOut\";\n    } else {\n        tileVariants = {\n            normal: {\n                opacity: 1,\n                scale: 1,\n                x: 0,\n                y: 0\n            }\n        };\n        animateState = \"normal\";\n    }\n    const getTileClasses = ()=>{\n        let classes = \"category-tile\";\n        if (isAnimal && isCurrentlyPlaying) {\n            classes += \" currently-playing\";\n        }\n        return classes;\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_motion_framer_motion__WEBPACK_IMPORTED_MODULE_6__.motion.div, {\n        className: getTileClasses(),\n        onClick: handleClick,\n        variants: tileVariants,\n        initial: \"normal\",\n        animate: animateState,\n        transition: {\n            duration: 1.8,\n            ease: \"easeInOut\"\n        },\n        style: {\n            pointerEvents: animationMode ? \"none\" : \"auto\",\n            zIndex: isClicked ? 1000 : \"auto\",\n            transform: \"translateZ(0)\",\n            backfaceVisibility: \"hidden\",\n            WebkitBackfaceVisibility: \"hidden\",\n            willChange: animationMode ? \"transform, opacity\" : \"auto\",\n            background: imgLoaded ? \"linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%)\" : \"transparent\"\n        },\n        children: [\n            isAnimal && isPlayed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"completion-badge\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                    src: \"/websiteBaseImages/abzeichen.png\",\n                    alt: \"Bereits geh\\xf6rt\",\n                    width: 40,\n                    height: 40,\n                    style: {\n                        objectFit: \"contain\"\n                    }\n                }, void 0, false, {\n                    fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\components\\\\CategoryTile.js\",\n                    lineNumber: 163,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\components\\\\CategoryTile.js\",\n                lineNumber: 162,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: \"absolute\",\n                    inset: 0,\n                    width: \"100%\",\n                    height: \"100%\"\n                },\n                children: [\n                    prevImgSrc && !imgLoaded && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                        src: prevImgSrc,\n                        alt: \"\",\n                        width: 300,\n                        height: 180,\n                        className: \"category-image\",\n                        style: {\n                            objectFit: \"cover\",\n                            position: \"absolute\",\n                            inset: 0,\n                            width: \"100%\",\n                            height: \"100%\",\n                            zIndex: 0,\n                            opacity: 1,\n                            transition: \"opacity 0.2s\"\n                        },\n                        draggable: false\n                    }, void 0, false, {\n                        fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\components\\\\CategoryTile.js\",\n                        lineNumber: 175,\n                        columnNumber: 11\n                    }, undefined),\n                    imgSrc && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                        src: imgSrc,\n                        alt: category.image?.alt || category.name,\n                        width: 300,\n                        height: 180,\n                        className: \"category-image\",\n                        style: {\n                            objectFit: \"cover\",\n                            position: \"absolute\",\n                            inset: 0,\n                            width: \"100%\",\n                            height: \"100%\",\n                            zIndex: 1,\n                            opacity: imgLoaded ? 1 : 0,\n                            transition: \"opacity 0.2s\"\n                        },\n                        onLoad: ()=>{\n                            setImgLoaded(true);\n                            setPrevImgSrc(null);\n                            if (isDebugTile) console.log(`[IMG] onLoad for tileId=${poolTile?.id}, imageUrl=${imageUrl}`);\n                        },\n                        onError: ()=>{\n                            setImgLoaded(true);\n                            setPrevImgSrc(null);\n                            if (isDebugTile) console.log(`[IMG] onError for tileId=${poolTile?.id}, imageUrl=${imageUrl}`);\n                        },\n                        draggable: false\n                    }, imageUrl, false, {\n                        fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\components\\\\CategoryTile.js\",\n                        lineNumber: 186,\n                        columnNumber: 11\n                    }, undefined),\n                    !imgSrc && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                        src: _public_websiteBaseImages_questionmark_png__WEBPACK_IMPORTED_MODULE_5__[\"default\"].src,\n                        alt: \"?\",\n                        width: 300,\n                        height: 180,\n                        className: \"category-image\",\n                        style: {\n                            objectFit: \"cover\",\n                            position: \"absolute\",\n                            inset: 0,\n                            width: \"100%\",\n                            height: \"100%\",\n                            zIndex: 1,\n                            opacity: 1,\n                            transition: \"opacity 0.2s\"\n                        },\n                        draggable: false\n                    }, void 0, false, {\n                        fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\components\\\\CategoryTile.js\",\n                        lineNumber: 208,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\components\\\\CategoryTile.js\",\n                lineNumber: 173,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"category-content\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                        className: \"category-title\",\n                        children: category.name\n                    }, void 0, false, {\n                        fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\components\\\\CategoryTile.js\",\n                        lineNumber: 220,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"category-description\",\n                        children: category.description || \"\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\components\\\\CategoryTile.js\",\n                        lineNumber: 221,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\components\\\\CategoryTile.js\",\n                lineNumber: 219,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\components\\\\CategoryTile.js\",\n        lineNumber: 141,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CategoryTile);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Ozs7Ozs7Ozs7Ozs7MEJBSWpCLDhEQUFDOUM7Z0JBQUlDLFdBQVU7O2tDQUNiLDhEQUFDaUQ7d0JBQUdqRCxXQUFVO2tDQUFrQnRCLFNBQVNvRSxJQUFJOzs7Ozs7a0NBQzdDLDhEQUFDSTt3QkFBRWxELFdBQVU7a0NBQ1Z0QixTQUFTeUUsV0FBVyxJQUFJOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLbkM7QUFFQSxpRUFBZXhGLFlBQVlBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9raW5kZXJsZXhpa29uLy4vY29tcG9uZW50cy9DYXRlZ29yeVRpbGUuanM/Y2QxYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgSW1hZ2UgZnJvbSAnbmV4dC9pbWFnZSc7XG5pbXBvcnQgeyBtb3Rpb24gfSBmcm9tICdmcmFtZXItbW90aW9uJztcbmltcG9ydCB7IGFuaW1hdGlvbk1hbmFnZXIgfSBmcm9tICcuLi91dGlscy9hbmltYXRpb25NYW5hZ2VyJztcbmltcG9ydCB7IGdldENhY2hlZEltYWdlIH0gZnJvbSAnLi4vdXRpbHMvaW1hZ2VDYWNoZSc7XG5pbXBvcnQgcXVlc3Rpb25tYXJrIGZyb20gJy4uL3B1YmxpYy93ZWJzaXRlQmFzZUltYWdlcy9xdWVzdGlvbm1hcmsucG5nJztcblxuY29uc3QgQ2F0ZWdvcnlUaWxlID0gKHsgXG4gIHBvb2xUaWxlLCAgLy8gSmV0enQgbmVobWVuIHdpciBkYXMga29tcGxldHRlIFRpbGUgYXVzIGRlbSBQb29sXG4gIGRlbGF5ID0gMCxcbiAgYmFzZTY0SW1hZ2UsIC8vIEbDvGdlIGJhc2U2NEltYWdlIGFscyBvcHRpb25hbGVzIFByb3AgaGluenUgKGbDvHIgc3DDpHRlcmUgT3B0aW1pZXJ1bmcpXG4gIHRpbGVLZXkgLy8gPC0tIEFkZCB0aGlzIHByb3AgdG8gcmVjZWl2ZSB0aGUga2V5XG59KSA9PiB7XG4gIGNvbnN0IGlzRGVidWdUaWxlID0gcG9vbFRpbGU/LmlkID09PSAndGlsZS0wJztcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc0RlYnVnVGlsZSkgY29uc29sZS5sb2coYFtUSUxFXSBNT1VOVCBpZD0ke3Bvb2xUaWxlPy5pZH0sIGNvbnRlbnRJZD0ke3Bvb2xUaWxlPy5jb250ZW50Py5pZH0sIGFuaW1hdGlvbk1vZGU9JHtwb29sVGlsZT8uYW5pbWF0aW9uTW9kZX0sIGtleT0ke3RpbGVLZXl9YCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChpc0RlYnVnVGlsZSkgY29uc29sZS5sb2coYFtUSUxFXSBVTk1PVU5UIGlkPSR7cG9vbFRpbGU/LmlkfSwgY29udGVudElkPSR7cG9vbFRpbGU/LmNvbnRlbnQ/LmlkfSwgYW5pbWF0aW9uTW9kZT0ke3Bvb2xUaWxlPy5hbmltYXRpb25Nb2RlfSwga2V5PSR7dGlsZUtleX1gKTtcbiAgICB9O1xuICB9LCBbdGlsZUtleV0pO1xuXG4gIGNvbnN0IFtpbWdMb2FkZWQsIHNldEltZ0xvYWRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IGxhc3RJbWFnZVVybFJlZiA9IHVzZVJlZihudWxsKTtcblxuICAvLyBCaWxkLVVSTCBlcm1pdHRlbG4gKG11c3MgaW1tZXIgZGVmaW5pZXJ0IHNlaW4sIGF1Y2ggd2VubiBkYXMgVGlsZSBuaWNodCBzaWNodGJhciBpc3QpXG4gIGNvbnN0IGdldEltYWdlVXJsID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhdGVnb3J5ID0gcG9vbFRpbGU/LmNvbnRlbnQ7XG4gICAgaWYgKCFjYXRlZ29yeT8uaW1hZ2U/LmZpbGVuYW1lKSB7XG4gICAgICByZXR1cm4gbnVsbDsgLy8gTm8gcmVhbCBpbWFnZSwgdXNlIHBsYWNlaG9sZGVyXG4gICAgfVxuICAgIGNvbnN0IHByb3RvY29sID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgOiAnaHR0cDonO1xuICAgIGNvbnN0IGhvc3RuYW1lID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgOiAnbG9jYWxob3N0JztcbiAgICBjb25zdCBwb3J0ID0gJzUwMDAnO1xuICAgIGNvbnN0IHRpbGVTaXplID0gMzAwO1xuICAgIGNvbnN0IHF1YWxpdHkgPSA3NTtcbiAgICByZXR1cm4gYCR7cHJvdG9jb2x9Ly8ke2hvc3RuYW1lfToke3BvcnR9L2ltYWdlcy8ke2NhdGVnb3J5LmltYWdlLmZpbGVuYW1lfT93PSR7dGlsZVNpemV9Jmg9JHt0aWxlU2l6ZX0mcT0ke3F1YWxpdHl9YDtcbiAgfTtcblxuICBjb25zdCBpbWFnZVVybCA9IGdldEltYWdlVXJsKCk7IC8vIGltbWVyIGJlcmVjaG5lblxuXG4gIC8vIFN0YXRlIGZvciB0aGUgYWN0dWFsIGltYWdlIHNvdXJjZSAoQmFzZTY0IG9yIFVSTClcbiAgY29uc3QgW2ltZ1NyYywgc2V0SW1nU3JjXSA9IHVzZVN0YXRlKGltYWdlVXJsKTtcbiAgY29uc3QgW3ByZXZJbWdTcmMsIHNldFByZXZJbWdTcmNdID0gdXNlU3RhdGUobnVsbCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgaXNNb3VudGVkID0gdHJ1ZTtcbiAgICBpZiAoaW1hZ2VVcmwpIHtcbiAgICAgIC8vIFNhdmUgcHJldmlvdXMgaW1hZ2UgYmVmb3JlIGxvYWRpbmcgbmV3IG9uZVxuICAgICAgc2V0UHJldkltZ1NyYyhpbWdTcmMpO1xuICAgICAgZ2V0Q2FjaGVkSW1hZ2UoaW1hZ2VVcmwpXG4gICAgICAgIC50aGVuKGJhc2U2NCA9PiB7XG4gICAgICAgICAgaWYgKGlzTW91bnRlZCAmJiBiYXNlNjQpIHNldEltZ1NyYyhiYXNlNjQpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgIGlmIChpc01vdW50ZWQpIHNldEltZ1NyYyhpbWFnZVVybCk7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRQcmV2SW1nU3JjKG51bGwpO1xuICAgICAgc2V0SW1nU3JjKG51bGwpO1xuICAgIH1cbiAgICByZXR1cm4gKCkgPT4geyBpc01vdW50ZWQgPSBmYWxzZTsgfTtcbiAgfSwgW2ltYWdlVXJsXSk7XG5cbiAgLy8gT25seSByZXNldCBpbWdMb2FkZWQgaWYgdGhlIGltYWdlVXJsIGFjdHVhbGx5IGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAobGFzdEltYWdlVXJsUmVmLmN1cnJlbnQgIT09IGltYWdlVXJsKSB7XG4gICAgICBzZXRJbWdMb2FkZWQoZmFsc2UpO1xuICAgICAgaWYgKGlzRGVidWdUaWxlKSBjb25zb2xlLmxvZyhgW1RJTEVdIGltZ0xvYWRlZCBzZXQgdG8gRkFMU0UgZm9yIGlkPSR7cG9vbFRpbGU/LmlkfSwgaW1hZ2VVcmw9JHtpbWFnZVVybH0sIGtleT0ke3RpbGVLZXl9YCk7XG4gICAgICBsYXN0SW1hZ2VVcmxSZWYuY3VycmVudCA9IGltYWdlVXJsO1xuICAgIH1cbiAgfSwgW2ltYWdlVXJsLCB0aWxlS2V5XSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNEZWJ1Z1RpbGUpIGNvbnNvbGUubG9nKGBbSU1HXSBNT1VOVCBmb3IgdGlsZUlkPSR7cG9vbFRpbGU/LmlkfSwgaW1hZ2VVcmw9JHtpbWFnZVVybH0sIGtleT0ke3RpbGVLZXl9YCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChpc0RlYnVnVGlsZSkgY29uc29sZS5sb2coYFtJTUddIFVOTU9VTlQgZm9yIHRpbGVJZD0ke3Bvb2xUaWxlPy5pZH0sIGltYWdlVXJsPSR7aW1hZ2VVcmx9LCBrZXk9JHt0aWxlS2V5fWApO1xuICAgIH07XG4gIH0sIFtpbWFnZVVybCwgdGlsZUtleV0pO1xuXG4gIGlmIChpc0RlYnVnVGlsZSkgY29uc29sZS5sb2coYFtUSUxFXSBSRU5ERVIgaWQ9JHtwb29sVGlsZT8uaWR9LCBjb250ZW50SWQ9JHtwb29sVGlsZT8uY29udGVudD8uaWR9LCBhbmltYXRpb25Nb2RlPSR7cG9vbFRpbGU/LmFuaW1hdGlvbk1vZGV9LCBpbWFnZVVybD0ke2ltYWdlVXJsfSwgaW1nTG9hZGVkPSR7aW1nTG9hZGVkfSwga2V5PSR7dGlsZUtleX1gKTtcblxuICBpZiAoIXBvb2xUaWxlPy5pc1Zpc2libGUgfHwgIXBvb2xUaWxlPy5jb250ZW50KSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgXG4gICAgICAgIGNsYXNzTmFtZT1cImNhdGVnb3J5LXRpbGVcIiBcbiAgICAgICAgc3R5bGU9e3sgXG4gICAgICAgICAgb3BhY2l0eTogMCwgXG4gICAgICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgICAgICAgIHZpc2liaWxpdHk6ICdoaWRkZW4nLFxuICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgaGVpZ2h0OiAnMTAwJSdcbiAgICAgICAgfX1cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxuICBcbiAgY29uc3QgeyBjb250ZW50OiBjYXRlZ29yeSwgYW5pbWF0aW9uTW9kZSwgaXNBbmltYWwsIGlzUGxheWVkLCBpc0N1cnJlbnRseVBsYXlpbmcsIG9uQ2xpY2sgfSA9IHBvb2xUaWxlO1xuXG4gIGNvbnN0IGhhbmRsZUNsaWNrID0gKCkgPT4ge1xuICAgIGlmIChhbmltYXRpb25Nb2RlKSByZXR1cm47XG4gICAgaWYgKG9uQ2xpY2spIHtcbiAgICAgIG9uQ2xpY2soY2F0ZWdvcnkpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBpc0NsaWNrZWQgPSBhbmltYXRpb25Nb2RlID09PSAnY2xpY2tlZCc7XG4gIGNvbnN0IGlzRmx5aW5nT3V0ID0gYW5pbWF0aW9uTW9kZSAmJiBhbmltYXRpb25Nb2RlLnN0YXJ0c1dpdGgoJ2ZhbGwtb3V0LScpO1xuXG4gIGxldCB0aWxlVmFyaWFudHM7XG4gIGxldCBhbmltYXRlU3RhdGU7XG5cbiAgaWYgKGlzQ2xpY2tlZCkge1xuICAgIHRpbGVWYXJpYW50cyA9IGFuaW1hdGlvbk1hbmFnZXIuZ2V0Q2xpY2tlZFRpbGVWYXJpYW50cygpO1xuICAgIGFuaW1hdGVTdGF0ZSA9ICdjbGlja2VkJztcbiAgfSBlbHNlIGlmIChpc0ZseWluZ091dCkge1xuICAgIGNvbnN0IGRpcmVjdGlvbiA9IGFuaW1hdGlvbk1vZGUucmVwbGFjZSgnZmFsbC1vdXQtJywgJycpO1xuICAgIHRpbGVWYXJpYW50cyA9IGFuaW1hdGlvbk1hbmFnZXIuZ2V0Rmx5T3V0VGlsZVZhcmlhbnRzKGRpcmVjdGlvbik7XG4gICAgYW5pbWF0ZVN0YXRlID0gJ2ZseU91dCc7XG4gIH0gZWxzZSB7XG4gICAgdGlsZVZhcmlhbnRzID0ge1xuICAgICAgbm9ybWFsOiB7IFxuICAgICAgICBvcGFjaXR5OiAxLCBcbiAgICAgICAgc2NhbGU6IDEsIFxuICAgICAgICB4OiAwLCBcbiAgICAgICAgeTogMFxuICAgICAgfVxuICAgIH07XG4gICAgYW5pbWF0ZVN0YXRlID0gJ25vcm1hbCc7XG4gIH1cblxuICBjb25zdCBnZXRUaWxlQ2xhc3NlcyA9ICgpID0+IHtcbiAgICBsZXQgY2xhc3NlcyA9IFwiY2F0ZWdvcnktdGlsZVwiO1xuICAgIGlmIChpc0FuaW1hbCAmJiBpc0N1cnJlbnRseVBsYXlpbmcpIHtcbiAgICAgIGNsYXNzZXMgKz0gXCIgY3VycmVudGx5LXBsYXlpbmdcIjtcbiAgICB9XG4gICAgcmV0dXJuIGNsYXNzZXM7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8bW90aW9uLmRpdiBcbiAgICAgIGNsYXNzTmFtZT17Z2V0VGlsZUNsYXNzZXMoKX1cbiAgICAgIG9uQ2xpY2s9e2hhbmRsZUNsaWNrfVxuICAgICAgdmFyaWFudHM9e3RpbGVWYXJpYW50c31cbiAgICAgIGluaXRpYWw9XCJub3JtYWxcIlxuICAgICAgYW5pbWF0ZT17YW5pbWF0ZVN0YXRlfVxuICAgICAgdHJhbnNpdGlvbj17eyBcbiAgICAgICAgZHVyYXRpb246IDEuOCwgXG4gICAgICAgIGVhc2U6IFwiZWFzZUluT3V0XCJcbiAgICAgIH19XG4gICAgICBzdHlsZT17eyBcbiAgICAgICAgcG9pbnRlckV2ZW50czogYW5pbWF0aW9uTW9kZSA/ICdub25lJyA6ICdhdXRvJyxcbiAgICAgICAgekluZGV4OiBpc0NsaWNrZWQgPyAxMDAwIDogJ2F1dG8nLFxuICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGVaKDApJyxcbiAgICAgICAgYmFja2ZhY2VWaXNpYmlsaXR5OiAnaGlkZGVuJyxcbiAgICAgICAgV2Via2l0QmFja2ZhY2VWaXNpYmlsaXR5OiAnaGlkZGVuJyxcbiAgICAgICAgd2lsbENoYW5nZTogYW5pbWF0aW9uTW9kZSA/ICd0cmFuc2Zvcm0sIG9wYWNpdHknIDogJ2F1dG8nLFxuICAgICAgICBiYWNrZ3JvdW5kOiBpbWdMb2FkZWQgPyAnbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2U4ZjVlOCAwJSwgI2M4ZTZjOSAxMDAlKScgOiAndHJhbnNwYXJlbnQnLFxuICAgICAgfX1cbiAgICA+XG4gICAgICB7aXNBbmltYWwgJiYgaXNQbGF5ZWQgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbXBsZXRpb24tYmFkZ2VcIj5cbiAgICAgICAgICA8aW1nXG4gICAgICAgICAgICBzcmM9XCIvd2Vic2l0ZUJhc2VJbWFnZXMvYWJ6ZWljaGVuLnBuZ1wiXG4gICAgICAgICAgICBhbHQ9XCJCZXJlaXRzIGdlaMO2cnRcIlxuICAgICAgICAgICAgd2lkdGg9ezQwfVxuICAgICAgICAgICAgaGVpZ2h0PXs0MH1cbiAgICAgICAgICAgIHN0eWxlPXt7IG9iamVjdEZpdDogJ2NvbnRhaW4nIH19XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAgey8qIENyb3NzZmFkZTogc2hvdyBwcmV2aW91cyBpbWFnZSB1bnRpbCBuZXcgb25lIGlzIGxvYWRlZCAqL31cbiAgICAgIDxkaXYgc3R5bGU9e3twb3NpdGlvbjogJ2Fic29sdXRlJywgaW5zZXQ6IDAsIHdpZHRoOiAnMTAwJScsIGhlaWdodDogJzEwMCUnfX0+XG4gICAgICAgIHtwcmV2SW1nU3JjICYmICFpbWdMb2FkZWQgJiYgKFxuICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgIHNyYz17cHJldkltZ1NyY31cbiAgICAgICAgICAgIGFsdD1cIlwiXG4gICAgICAgICAgICB3aWR0aD17MzAwfVxuICAgICAgICAgICAgaGVpZ2h0PXsxODB9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJjYXRlZ29yeS1pbWFnZVwiXG4gICAgICAgICAgICBzdHlsZT17eyBvYmplY3RGaXQ6ICdjb3ZlcicsIHBvc2l0aW9uOiAnYWJzb2x1dGUnLCBpbnNldDogMCwgd2lkdGg6ICcxMDAlJywgaGVpZ2h0OiAnMTAwJScsIHpJbmRleDogMCwgb3BhY2l0eTogMSwgdHJhbnNpdGlvbjogJ29wYWNpdHkgMC4ycycgfX1cbiAgICAgICAgICAgIGRyYWdnYWJsZT17ZmFsc2V9XG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgICAge2ltZ1NyYyAmJiAoXG4gICAgICAgICAgPGltZ1xuICAgICAgICAgICAga2V5PXtpbWFnZVVybH1cbiAgICAgICAgICAgIHNyYz17aW1nU3JjfVxuICAgICAgICAgICAgYWx0PXtjYXRlZ29yeS5pbWFnZT8uYWx0IHx8IGNhdGVnb3J5Lm5hbWV9XG4gICAgICAgICAgICB3aWR0aD17MzAwfVxuICAgICAgICAgICAgaGVpZ2h0PXsxODB9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJjYXRlZ29yeS1pbWFnZVwiXG4gICAgICAgICAgICBzdHlsZT17eyBvYmplY3RGaXQ6ICdjb3ZlcicsIHBvc2l0aW9uOiAnYWJzb2x1dGUnLCBpbnNldDogMCwgd2lkdGg6ICcxMDAlJywgaGVpZ2h0OiAnMTAwJScsIHpJbmRleDogMSwgb3BhY2l0eTogaW1nTG9hZGVkID8gMSA6IDAsIHRyYW5zaXRpb246ICdvcGFjaXR5IDAuMnMnIH19XG4gICAgICAgICAgICBvbkxvYWQ9eygpID0+IHtcbiAgICAgICAgICAgICAgc2V0SW1nTG9hZGVkKHRydWUpO1xuICAgICAgICAgICAgICBzZXRQcmV2SW1nU3JjKG51bGwpO1xuICAgICAgICAgICAgICBpZiAoaXNEZWJ1Z1RpbGUpIGNvbnNvbGUubG9nKGBbSU1HXSBvbkxvYWQgZm9yIHRpbGVJZD0ke3Bvb2xUaWxlPy5pZH0sIGltYWdlVXJsPSR7aW1hZ2VVcmx9YCk7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgb25FcnJvcj17KCkgPT4ge1xuICAgICAgICAgICAgICBzZXRJbWdMb2FkZWQodHJ1ZSk7XG4gICAgICAgICAgICAgIHNldFByZXZJbWdTcmMobnVsbCk7XG4gICAgICAgICAgICAgIGlmIChpc0RlYnVnVGlsZSkgY29uc29sZS5sb2coYFtJTUddIG9uRXJyb3IgZm9yIHRpbGVJZD0ke3Bvb2xUaWxlPy5pZH0sIGltYWdlVXJsPSR7aW1hZ2VVcmx9YCk7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgZHJhZ2dhYmxlPXtmYWxzZX1cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgICB7IWltZ1NyYyAmJiAoXG4gICAgICAgICAgPGltZ1xuICAgICAgICAgICAgc3JjPXtxdWVzdGlvbm1hcmsuc3JjfVxuICAgICAgICAgICAgYWx0PVwiP1wiXG4gICAgICAgICAgICB3aWR0aD17MzAwfVxuICAgICAgICAgICAgaGVpZ2h0PXsxODB9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJjYXRlZ29yeS1pbWFnZVwiXG4gICAgICAgICAgICBzdHlsZT17eyBvYmplY3RGaXQ6ICdjb3ZlcicsIHBvc2l0aW9uOiAnYWJzb2x1dGUnLCBpbnNldDogMCwgd2lkdGg6ICcxMDAlJywgaGVpZ2h0OiAnMTAwJScsIHpJbmRleDogMSwgb3BhY2l0eTogMSwgdHJhbnNpdGlvbjogJ29wYWNpdHkgMC4ycycgfX1cbiAgICAgICAgICAgIGRyYWdnYWJsZT17ZmFsc2V9XG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXRlZ29yeS1jb250ZW50XCI+XG4gICAgICAgIDxoMyBjbGFzc05hbWU9XCJjYXRlZ29yeS10aXRsZVwiPntjYXRlZ29yeS5uYW1lfTwvaDM+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cImNhdGVnb3J5LWRlc2NyaXB0aW9uXCI+XG4gICAgICAgICAge2NhdGVnb3J5LmRlc2NyaXB0aW9uIHx8ICcnfVxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cbiAgICA8L21vdGlvbi5kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBDYXRlZ29yeVRpbGU7ICJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJlZiIsIkltYWdlIiwibW90aW9uIiwiYW5pbWF0aW9uTWFuYWdlciIsImdldENhY2hlZEltYWdlIiwicXVlc3Rpb25tYXJrIiwiQ2F0ZWdvcnlUaWxlIiwicG9vbFRpbGUiLCJkZWxheSIsImJhc2U2NEltYWdlIiwidGlsZUtleSIsImlzRGVidWdUaWxlIiwiaWQiLCJjb25zb2xlIiwibG9nIiwiY29udGVudCIsImFuaW1hdGlvbk1vZGUiLCJpbWdMb2FkZWQiLCJzZXRJbWdMb2FkZWQiLCJsYXN0SW1hZ2VVcmxSZWYiLCJnZXRJbWFnZVVybCIsImNhdGVnb3J5IiwiaW1hZ2UiLCJmaWxlbmFtZSIsInByb3RvY29sIiwid2luZG93IiwibG9jYXRpb24iLCJob3N0bmFtZSIsInBvcnQiLCJ0aWxlU2l6ZSIsInF1YWxpdHkiLCJpbWFnZVVybCIsImltZ1NyYyIsInNldEltZ1NyYyIsInByZXZJbWdTcmMiLCJzZXRQcmV2SW1nU3JjIiwiaXNNb3VudGVkIiwidGhlbiIsImJhc2U2NCIsImNhdGNoIiwiY3VycmVudCIsImlzVmlzaWJsZSIsImRpdiIsImNsYXNzTmFtZSIsInN0eWxlIiwib3BhY2l0eSIsInBvaW50ZXJFdmVudHMiLCJ2aXNpYmlsaXR5Iiwid2lkdGgiLCJoZWlnaHQiLCJpc0FuaW1hbCIsImlzUGxheWVkIiwiaXNDdXJyZW50bHlQbGF5aW5nIiwib25DbGljayIsImhhbmRsZUNsaWNrIiwiaXNDbGlja2VkIiwiaXNGbHlpbmdPdXQiLCJzdGFydHNXaXRoIiwidGlsZVZhcmlhbnRzIiwiYW5pbWF0ZVN0YXRlIiwiZ2V0Q2xpY2tlZFRpbGVWYXJpYW50cyIsImRpcmVjdGlvbiIsInJlcGxhY2UiLCJnZXRGbHlPdXRUaWxlVmFyaWFudHMiLCJub3JtYWwiLCJzY2FsZSIsIngiLCJ5IiwiZ2V0VGlsZUNsYXNzZXMiLCJjbGFzc2VzIiwidmFyaWFudHMiLCJpbml0aWFsIiwiYW5pbWF0ZSIsInRyYW5zaXRpb24iLCJkdXJhdGlvbiIsImVhc2UiLCJ6SW5kZXgiLCJ0cmFuc2Zvcm0iLCJiYWNrZmFjZVZpc2liaWxpdHkiLCJXZWJraXRCYWNrZmFjZVZpc2liaWxpdHkiLCJ3aWxsQ2hhbmdlIiwiYmFja2dyb3VuZCIsImltZyIsInNyYyIsImFsdCIsIm9iamVjdEZpdCIsInBvc2l0aW9uIiwiaW5zZXQiLCJkcmFnZ2FibGUiLCJuYW1lIiwib25Mb2FkIiwib25FcnJvciIsImgzIiwicCIsImRlc2NyaXB0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/CategoryTile.js\n");

/***/ }),

/***/ "./components/Character.js":
/*!*********************************!*\
  !*** ./components/Character.js ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/image */ \"./node_modules/next/image.js\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_image__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _utils_imageCache__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/imageCache */ \"./utils/imageCache.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_utils_imageCache__WEBPACK_IMPORTED_MODULE_3__]);\n_utils_imageCache__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n// Statische Variable um sicherzustellen dass Character nur EINMAL initialisiert wird\nlet characterInitialized = false;\n// Entferne die Hilfsfunktion getCharacterImageUrl\nconst Character = ({ currentContext = \"idle\", onEmotionChange })=>{\n    const [currentEmotion, setCurrentEmotion] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"idle\");\n    const [isRotating, setIsRotating] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [rotationPhase, setRotationPhase] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"idle\"); // 'idle', 'out', 'in'\n    const [availableEmotions, setAvailableEmotions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([\n        \"idle\",\n        \"curious\"\n    ]);\n    const [hasLoaded, setHasLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(characterInitialized); // Fr initiale Fly-In Animation - einmal fr immer\n    const [lastProcessedContext, setLastProcessedContext] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null); // Verhindert mehrfache Emotion-Wechsel\n    const [lastEmotionChangeTime, setLastEmotionChangeTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0); // Cooldown fr Emotion-Changes\n    const autoResetTimer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const emotionChangeTimer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Character-Bilder-Varianten definieren\n    const characterVariants = {\n        idle: [\n            \"/Characters/Character-idle.png\",\n            \"/Characters/Character-idle-2.png\",\n            \"/Characters/Character-idle-3.png\"\n        ],\n        excited: [\n            \"/Characters/Character-excited.png\",\n            \"/Characters/Character-excited-2.png\",\n            \"/Characters/Character-excited-3.png\"\n        ],\n        curious: [\n            \"/Characters/Character-curious.png\",\n            \"/Characters/Character-curious-2.png\",\n            \"/Characters/Character-curious-3.png\"\n        ],\n        surprised: [\n            \"/Characters/Character-surprised.png\",\n            \"/Characters/Character-surprised-2.png\",\n            \"/Characters/Character-surprised-3.png\"\n        ],\n        thinking: [\n            \"/Characters/Character-thinking.png\",\n            \"/Characters/Character-thinking-2.png\",\n            \"/Characters/Character-thinking-3.png\"\n        ],\n        laughing: [\n            \"/Characters/Character-laughing.png\",\n            \"/Characters/Character-laughing-2.png\"\n        ],\n        exploring: [\n            \"/Characters/Character-excited.png\",\n            \"/Characters/Character-excited-2.png\",\n            \"/Characters/Character-excited-3.png\"\n        ],\n        scared: [\n            \"/Characters/Character-surprised.png\",\n            \"/Characters/Character-surprised-2.png\",\n            \"/Characters/Character-surprised-3.png\"\n        ]\n    };\n    // State fr gewhlte Variante pro Emotion\n    const [selectedVariant, setSelectedVariant] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"/Characters/Character-idle.png\");\n    const [imgLoaded, setImgLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Zufllige Variante fr Emotion whlen und speichern (NIEMALS die gleiche)\n    const selectVariantForEmotion = (emotion)=>{\n        const variants = characterVariants[emotion] || characterVariants.idle;\n        // Wenn nur eine Variante vorhanden, diese nehmen\n        if (variants.length === 1) {\n            const variant = variants[0];\n            setSelectedVariant(variant);\n            return variant;\n        }\n        // Aktuelle Variante rausfiltern um Wiederholung zu vermeiden\n        const otherVariants = variants.filter((variant)=>variant !== selectedVariant);\n        // Falls alle Varianten die gleiche sind (sollte nicht passieren), erste nehmen\n        if (otherVariants.length === 0) {\n            const variant = variants[0];\n            setSelectedVariant(variant);\n            return variant;\n        }\n        // Zufllige andere Variante whlen\n        const randomVariant = otherVariants[Math.floor(Math.random() * otherVariants.length)];\n        setSelectedVariant(randomVariant);\n        return randomVariant;\n    };\n    // Zufllige Emotion aus verfgbaren Emotionen whlen\n    const getRandomEmotion = (emotions = availableEmotions)=>{\n        const filtered = emotions.filter((e)=>e !== currentEmotion);\n        if (filtered.length === 0) return emotions[0];\n        return filtered[Math.floor(Math.random() * filtered.length)];\n    };\n    // Emotion-Wechsel mit ursprnglicher Flip-Animation\n    const changeEmotion = (newEmotion, immediate = false)=>{\n        console.log(` Emotion change: ${currentEmotion}  ${newEmotion} (immediate: ${immediate})`);\n        if (newEmotion === currentEmotion) {\n            console.log(` Same emotion, skipping`);\n            return;\n        }\n        if (immediate) {\n            // Direkter Wechsel ohne Animation\n            console.log(` Immediate change to ${newEmotion}`);\n            setCurrentEmotion(newEmotion);\n            selectVariantForEmotion(newEmotion);\n            return;\n        }\n        // Flip-Animation: Raus -> Bild wechseln -> Rein\n        console.log(` Starting flip animation: out  change  in`);\n        setIsRotating(true);\n        setRotationPhase(\"out\");\n        // Nach Raus-Animation (200ms): Bild wechseln\n        setTimeout(()=>{\n            console.log(` Flip animation: Changing image to ${newEmotion}`);\n            setCurrentEmotion(newEmotion);\n            selectVariantForEmotion(newEmotion);\n            setRotationPhase(\"in\");\n            // Nach Rein-Animation (200ms): Animation beenden\n            setTimeout(()=>{\n                console.log(` Flip animation: Complete!`);\n                setRotationPhase(\"idle\");\n                setIsRotating(false);\n            }, 200);\n        }, 200);\n    };\n    // Auto-Reset entfernt - Character wechselt nur bei Interaktionen\n    // Context-abhngige Emotionen laden\n    const loadContextEmotions = async (context)=>{\n        console.log(` loadContextEmotions called with context: '${context}' (lastProcessed: '${lastProcessedContext}')`);\n        try {\n            const response = await fetch(`/api/character/random-emotion/${context}`);\n            const data = await response.json();\n            if (data.emotions) {\n                setAvailableEmotions(data.emotions);\n                // Cooldown prfen: Keine Emotion-Wechsel wenn der letzte vor weniger als 2 Sekunden war\n                const now = Date.now();\n                const timeSinceLastChange = now - lastEmotionChangeTime;\n                const EMOTION_COOLDOWN = 2000; // 2 Sekunden Cooldown\n                console.log(` Context check: context=${context}, lastProcessed=${lastProcessedContext}, cooldown=${timeSinceLastChange}ms`);\n                if (context !== \"idle\" && context !== lastProcessedContext && timeSinceLastChange >= EMOTION_COOLDOWN) {\n                    console.log(` TRIGGERING emotion change for context '${context}'`);\n                    const randomEmotion = data.emotions[Math.floor(Math.random() * data.emotions.length)];\n                    changeEmotion(randomEmotion, false); // Mit Flip-Animation\n                    setLastProcessedContext(context); // Merke dass wir diesen Context schon verarbeitet haben\n                    setLastEmotionChangeTime(now); // Setze Cooldown-Timer\n                } else if (context === lastProcessedContext) {\n                    console.log(` BLOCKED: Context '${context}' already processed`);\n                } else if (timeSinceLastChange < EMOTION_COOLDOWN) {\n                    console.log(` BLOCKED: Cooldown active (${timeSinceLastChange}ms < ${EMOTION_COOLDOWN}ms)`);\n                } else if (context === \"idle\") {\n                    // Bei idle-Context: Reset lastProcessedContext fr nchste Interaktion (aber kein Cooldown Reset)\n                    console.log(` RESET: Idle context, clearing lastProcessedContext`);\n                    setLastProcessedContext(null);\n                // Character wird NICHT neu instanziert, nur hasLoaded bleibt true\n                }\n            }\n        } catch (error) {\n            console.error(\"Error loading context emotions:\", error);\n            setAvailableEmotions([\n                \"idle\",\n                \"curious\"\n            ]);\n        }\n    };\n    // Zuflliges Lachen abspielen (ohne Voice-Overs zu unterbrechen)\n    const playRandomLaughter = ()=>{\n        const laughterFiles = [\n            \"/audio/LaughingKid/laughing-1.wav\",\n            \"/audio/LaughingKid/laughing-2.wav\",\n            \"/audio/LaughingKid/laughing-3.wav\",\n            \"/audio/LaughingKid/laughing-4.wav\",\n            \"/audio/LaughingKid/laughing-5.wav\",\n            \"/audio/LaughingKid/laughing-6.wav\",\n            \"/audio/LaughingKid/laughing-7.wav\"\n        ];\n        // Zufllige Lacher-Datei auswhlen\n        const randomLaughter = laughterFiles[Math.floor(Math.random() * laughterFiles.length)];\n        try {\n            // SEPARATES Audio-Element fr Lacher (nicht global!)\n            const laughterAudio = new Audio(randomLaughter);\n            laughterAudio.volume = 0.7; // Etwas leiser als Voice-Overs\n            laughterAudio.play().catch((err)=>{\n                console.log(\"Lacher-Audio autoplay verhindert:\", err);\n            });\n            console.log(\"\\uD83E\\uDD23 Lacher abgespielt:\", randomLaughter);\n        } catch (error) {\n            console.error(\"Lacher-Audio-Fehler:\", error);\n        }\n    };\n    // Character antippen - Rotation, Emotion-Wechsel UND Lachen\n    const handleCharacterClick = ()=>{\n        // Zu laughing oder excited wechseln, aber NIEMALS die aktuelle Emotion\n        const happyEmotions = [\n            \"laughing\",\n            \"excited\"\n        ];\n        let randomHappyEmotion;\n        // Andere Emotion whlen als die aktuelle\n        if (currentEmotion === \"laughing\") {\n            randomHappyEmotion = \"excited\";\n        } else if (currentEmotion === \"excited\") {\n            randomHappyEmotion = \"laughing\";\n        } else {\n            // Wenn weder laughing noch excited, zufllig whlen\n            randomHappyEmotion = happyEmotions[Math.floor(Math.random() * happyEmotions.length)];\n        }\n        changeEmotion(randomHappyEmotion, false); // Mit Flip-Animation\n        setLastEmotionChangeTime(Date.now()); // Cooldown-Timer auch bei direktem Character-Klick setzen\n        // Zuflliges Lachen abspielen (parallel zu Voice-Overs)\n        playRandomLaughter();\n        // Callback fr Emotion-nderung\n        if (onEmotionChange) {\n            onEmotionChange(randomHappyEmotion);\n        }\n    };\n    // Initial Fly-In Animation starten - NUR EINMAL in der gesamten App-Laufzeit\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!characterInitialized) {\n            console.log(` Character FIRST TIME INITIALIZATION`);\n            characterInitialized = true; // Setze statische Variable\n            // Nach kurzer Verzgerung Character reinfliegen lassen\n            const loadTimer = setTimeout(()=>{\n                console.log(` Setting hasLoaded to true`);\n                setHasLoaded(true);\n            }, 300);\n            return ()=>clearTimeout(loadTimer);\n        } else {\n            console.log(` Character ALREADY INITIALIZED - setting hasLoaded immediately`);\n            setHasLoaded(true); // Bei Re-Render sofort auf loaded setzen\n        }\n    }, []);\n    // Context-nderungen berwachen - mit Ref um doppelte Aufrufe zu verhindern\n    const lastContextRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (currentContext && currentContext !== lastContextRef.current) {\n            console.log(` Processing NEW context: '${currentContext}'`);\n            lastContextRef.current = currentContext;\n            loadContextEmotions(currentContext);\n        }\n    }, [\n        currentContext\n    ]);\n    // Cleanup Timer\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        return ()=>{\n            if (autoResetTimer.current) clearTimeout(autoResetTimer.current);\n            if (emotionChangeTimer.current) clearTimeout(emotionChangeTimer.current);\n        };\n    }, []);\n    // Preload image via Base64 cache, but do not use it for rendering\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!selectedVariant) return;\n        (0,_utils_imageCache__WEBPACK_IMPORTED_MODULE_3__.getCachedImage)(selectedVariant).catch(()=>{});\n    }, [\n        selectedVariant\n    ]);\n    // Track loading state for the real image\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let didCancel = false;\n        let fallbackTimer;\n        setImgLoaded(false);\n        if (selectedVariant) {\n            fallbackTimer = setTimeout(()=>{\n                if (!didCancel) setImgLoaded(true);\n            }, 500);\n        }\n        return ()=>{\n            didCancel = true;\n            if (fallbackTimer) clearTimeout(fallbackTimer);\n        };\n    }, [\n        selectedVariant\n    ]);\n    // Animation-Klassen bestimmen\n    const getAnimationClasses = ()=>{\n        let classes = \"character-image\";\n        // Initial Fly-In Animation beim ersten Laden\n        if (!hasLoaded) {\n            classes += \" character-fly-in\";\n            console.log(` CSS Classes: ${classes} (fly-in)`);\n            return classes;\n        }\n        // Rotation-Animation hat Prioritt\n        if (rotationPhase === \"out\") {\n            classes += \" character-rotate-out\";\n            console.log(` CSS Classes: ${classes} (rotating OUT)`);\n        } else if (rotationPhase === \"in\") {\n            classes += \" character-rotate-in\";\n            console.log(` CSS Classes: ${classes} (rotating IN)`);\n        } else if (rotationPhase === \"idle\" && !isRotating) {\n            // Subtile Loop-Animation nur wenn wirklich idle\n            classes += \" character-subtle-animation\";\n            console.log(` CSS Classes: ${classes} (subtle idle)`);\n        } else {\n            console.log(` CSS Classes: ${classes} (no extra animation)`);\n        }\n        return classes;\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"character-container\",\n        onClick: handleCharacterClick,\n        title: \"Character antippen f\\xfcr Emotionen!\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n            src: selectedVariant,\n            alt: `Character ${currentEmotion}`,\n            width: 120,\n            height: 150,\n            className: getAnimationClasses(),\n            style: {\n                objectFit: \"contain\",\n                position: \"relative\",\n                zIndex: 1,\n                opacity: imgLoaded ? 1 : 0,\n                transition: \"opacity 0.2s\"\n            },\n            onLoad: ()=>setImgLoaded(true),\n            onError: ()=>setImgLoaded(true)\n        }, void 0, false, {\n            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\components\\\\Character.js\",\n            lineNumber: 338,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\components\\\\Character.js\",\n        lineNumber: 333,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Character); // Cache-Refresh: Updated Character Animation and removed isBouncing \n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0lBRUEscUJBQ0UsOERBQUNDO1FBQ0NDLFdBQVU7UUFDVkMsU0FBU2I7UUFDVGMsT0FBTTtrQkFFTiw0RUFBQ0M7WUFDQ0MsS0FBSzlEO1lBQ0wrRCxLQUFLLENBQUMsVUFBVSxFQUFFeEYsZUFBZSxDQUFDO1lBQ2xDeUYsT0FBTztZQUNQQyxRQUFRO1lBQ1JQLFdBQVdIO1lBQ1hXLE9BQU87Z0JBQUVDLFdBQVc7Z0JBQVdDLFVBQVU7Z0JBQVlDLFFBQVE7Z0JBQUdDLFNBQVNwRSxZQUFZLElBQUk7Z0JBQUdxRSxZQUFZO1lBQWU7WUFDdkhDLFFBQVEsSUFBTXJFLGFBQWE7WUFDM0JzRSxTQUFTLElBQU10RSxhQUFhOzs7Ozs7Ozs7OztBQUlwQztBQUVBLGlFQUFlL0IsU0FBU0EsRUFBQyxDQUN6QixxRUFBcUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9raW5kZXJsZXhpa29uLy4vY29tcG9uZW50cy9DaGFyYWN0ZXIuanM/ZTI3ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgSW1hZ2UgZnJvbSAnbmV4dC9pbWFnZSc7XG5pbXBvcnQgeyBnZXRDYWNoZWRJbWFnZSB9IGZyb20gJy4uL3V0aWxzL2ltYWdlQ2FjaGUnO1xuXG4vLyBTdGF0aXNjaGUgVmFyaWFibGUgdW0gc2ljaGVyenVzdGVsbGVuIGRhc3MgQ2hhcmFjdGVyIG51ciBFSU5NQUwgaW5pdGlhbGlzaWVydCB3aXJkXG5sZXQgY2hhcmFjdGVySW5pdGlhbGl6ZWQgPSBmYWxzZTtcblxuLy8gRW50ZmVybmUgZGllIEhpbGZzZnVua3Rpb24gZ2V0Q2hhcmFjdGVySW1hZ2VVcmxcblxuY29uc3QgQ2hhcmFjdGVyID0gKHsgY3VycmVudENvbnRleHQgPSAnaWRsZScsIG9uRW1vdGlvbkNoYW5nZSB9KSA9PiB7XG4gIGNvbnN0IFtjdXJyZW50RW1vdGlvbiwgc2V0Q3VycmVudEVtb3Rpb25dID0gdXNlU3RhdGUoJ2lkbGUnKTtcbiAgY29uc3QgW2lzUm90YXRpbmcsIHNldElzUm90YXRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcm90YXRpb25QaGFzZSwgc2V0Um90YXRpb25QaGFzZV0gPSB1c2VTdGF0ZSgnaWRsZScpOyAvLyAnaWRsZScsICdvdXQnLCAnaW4nXG4gIGNvbnN0IFthdmFpbGFibGVFbW90aW9ucywgc2V0QXZhaWxhYmxlRW1vdGlvbnNdID0gdXNlU3RhdGUoWydpZGxlJywgJ2N1cmlvdXMnXSk7XG4gIGNvbnN0IFtoYXNMb2FkZWQsIHNldEhhc0xvYWRlZF0gPSB1c2VTdGF0ZShjaGFyYWN0ZXJJbml0aWFsaXplZCk7IC8vIEbDvHIgaW5pdGlhbGUgRmx5LUluIEFuaW1hdGlvbiAtIGVpbm1hbCBmw7xyIGltbWVyXG4gIGNvbnN0IFtsYXN0UHJvY2Vzc2VkQ29udGV4dCwgc2V0TGFzdFByb2Nlc3NlZENvbnRleHRdID0gdXNlU3RhdGUobnVsbCk7IC8vIFZlcmhpbmRlcnQgbWVocmZhY2hlIEVtb3Rpb24tV2VjaHNlbFxuICBjb25zdCBbbGFzdEVtb3Rpb25DaGFuZ2VUaW1lLCBzZXRMYXN0RW1vdGlvbkNoYW5nZVRpbWVdID0gdXNlU3RhdGUoMCk7IC8vIENvb2xkb3duIGbDvHIgRW1vdGlvbi1DaGFuZ2VzXG4gIFxuICBjb25zdCBhdXRvUmVzZXRUaW1lciA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgZW1vdGlvbkNoYW5nZVRpbWVyID0gdXNlUmVmKG51bGwpO1xuXG4gIC8vIENoYXJhY3Rlci1CaWxkZXItVmFyaWFudGVuIGRlZmluaWVyZW5cbiAgY29uc3QgY2hhcmFjdGVyVmFyaWFudHMgPSB7XG4gICAgaWRsZTogW1xuICAgICAgJy9DaGFyYWN0ZXJzL0NoYXJhY3Rlci1pZGxlLnBuZycsXG4gICAgICAnL0NoYXJhY3RlcnMvQ2hhcmFjdGVyLWlkbGUtMi5wbmcnLFxuICAgICAgJy9DaGFyYWN0ZXJzL0NoYXJhY3Rlci1pZGxlLTMucG5nJ1xuICAgIF0sXG4gICAgZXhjaXRlZDogW1xuICAgICAgJy9DaGFyYWN0ZXJzL0NoYXJhY3Rlci1leGNpdGVkLnBuZycsXG4gICAgICAnL0NoYXJhY3RlcnMvQ2hhcmFjdGVyLWV4Y2l0ZWQtMi5wbmcnLFxuICAgICAgJy9DaGFyYWN0ZXJzL0NoYXJhY3Rlci1leGNpdGVkLTMucG5nJ1xuICAgIF0sXG4gICAgY3VyaW91czogW1xuICAgICAgJy9DaGFyYWN0ZXJzL0NoYXJhY3Rlci1jdXJpb3VzLnBuZycsXG4gICAgICAnL0NoYXJhY3RlcnMvQ2hhcmFjdGVyLWN1cmlvdXMtMi5wbmcnLFxuICAgICAgJy9DaGFyYWN0ZXJzL0NoYXJhY3Rlci1jdXJpb3VzLTMucG5nJ1xuICAgIF0sXG4gICAgc3VycHJpc2VkOiBbXG4gICAgICAnL0NoYXJhY3RlcnMvQ2hhcmFjdGVyLXN1cnByaXNlZC5wbmcnLFxuICAgICAgJy9DaGFyYWN0ZXJzL0NoYXJhY3Rlci1zdXJwcmlzZWQtMi5wbmcnLFxuICAgICAgJy9DaGFyYWN0ZXJzL0NoYXJhY3Rlci1zdXJwcmlzZWQtMy5wbmcnXG4gICAgXSxcbiAgICB0aGlua2luZzogW1xuICAgICAgJy9DaGFyYWN0ZXJzL0NoYXJhY3Rlci10aGlua2luZy5wbmcnLFxuICAgICAgJy9DaGFyYWN0ZXJzL0NoYXJhY3Rlci10aGlua2luZy0yLnBuZycsXG4gICAgICAnL0NoYXJhY3RlcnMvQ2hhcmFjdGVyLXRoaW5raW5nLTMucG5nJ1xuICAgIF0sXG4gICAgbGF1Z2hpbmc6IFtcbiAgICAgICcvQ2hhcmFjdGVycy9DaGFyYWN0ZXItbGF1Z2hpbmcucG5nJyxcbiAgICAgICcvQ2hhcmFjdGVycy9DaGFyYWN0ZXItbGF1Z2hpbmctMi5wbmcnXG4gICAgXSxcbiAgICBleHBsb3Jpbmc6IFtcbiAgICAgICcvQ2hhcmFjdGVycy9DaGFyYWN0ZXItZXhjaXRlZC5wbmcnLFxuICAgICAgJy9DaGFyYWN0ZXJzL0NoYXJhY3Rlci1leGNpdGVkLTIucG5nJyxcbiAgICAgICcvQ2hhcmFjdGVycy9DaGFyYWN0ZXItZXhjaXRlZC0zLnBuZydcbiAgICBdLFxuICAgIHNjYXJlZDogW1xuICAgICAgJy9DaGFyYWN0ZXJzL0NoYXJhY3Rlci1zdXJwcmlzZWQucG5nJyxcbiAgICAgICcvQ2hhcmFjdGVycy9DaGFyYWN0ZXItc3VycHJpc2VkLTIucG5nJyxcbiAgICAgICcvQ2hhcmFjdGVycy9DaGFyYWN0ZXItc3VycHJpc2VkLTMucG5nJ1xuICAgIF0sXG4gIH07XG5cbiAgLy8gU3RhdGUgZsO8ciBnZXfDpGhsdGUgVmFyaWFudGUgcHJvIEVtb3Rpb25cbiAgY29uc3QgW3NlbGVjdGVkVmFyaWFudCwgc2V0U2VsZWN0ZWRWYXJpYW50XSA9IHVzZVN0YXRlKCcvQ2hhcmFjdGVycy9DaGFyYWN0ZXItaWRsZS5wbmcnKTtcbiAgY29uc3QgW2ltZ0xvYWRlZCwgc2V0SW1nTG9hZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAvLyBadWbDpGxsaWdlIFZhcmlhbnRlIGbDvHIgRW1vdGlvbiB3w6RobGVuIHVuZCBzcGVpY2hlcm4gKE5JRU1BTFMgZGllIGdsZWljaGUpXG4gIGNvbnN0IHNlbGVjdFZhcmlhbnRGb3JFbW90aW9uID0gKGVtb3Rpb24pID0+IHtcbiAgICBjb25zdCB2YXJpYW50cyA9IGNoYXJhY3RlclZhcmlhbnRzW2Vtb3Rpb25dIHx8IGNoYXJhY3RlclZhcmlhbnRzLmlkbGU7XG4gICAgXG4gICAgLy8gV2VubiBudXIgZWluZSBWYXJpYW50ZSB2b3JoYW5kZW4sIGRpZXNlIG5laG1lblxuICAgIGlmICh2YXJpYW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgIGNvbnN0IHZhcmlhbnQgPSB2YXJpYW50c1swXTtcbiAgICAgIHNldFNlbGVjdGVkVmFyaWFudCh2YXJpYW50KTtcbiAgICAgIHJldHVybiB2YXJpYW50O1xuICAgIH1cbiAgICBcbiAgICAvLyBBa3R1ZWxsZSBWYXJpYW50ZSByYXVzZmlsdGVybiB1bSBXaWVkZXJob2x1bmcgenUgdmVybWVpZGVuXG4gICAgY29uc3Qgb3RoZXJWYXJpYW50cyA9IHZhcmlhbnRzLmZpbHRlcih2YXJpYW50ID0+IHZhcmlhbnQgIT09IHNlbGVjdGVkVmFyaWFudCk7XG4gICAgXG4gICAgLy8gRmFsbHMgYWxsZSBWYXJpYW50ZW4gZGllIGdsZWljaGUgc2luZCAoc29sbHRlIG5pY2h0IHBhc3NpZXJlbiksIGVyc3RlIG5laG1lblxuICAgIGlmIChvdGhlclZhcmlhbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29uc3QgdmFyaWFudCA9IHZhcmlhbnRzWzBdO1xuICAgICAgc2V0U2VsZWN0ZWRWYXJpYW50KHZhcmlhbnQpO1xuICAgICAgcmV0dXJuIHZhcmlhbnQ7XG4gICAgfVxuICAgIFxuICAgIC8vIFp1ZsOkbGxpZ2UgYW5kZXJlIFZhcmlhbnRlIHfDpGhsZW5cbiAgICBjb25zdCByYW5kb21WYXJpYW50ID0gb3RoZXJWYXJpYW50c1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBvdGhlclZhcmlhbnRzLmxlbmd0aCldO1xuICAgIHNldFNlbGVjdGVkVmFyaWFudChyYW5kb21WYXJpYW50KTtcbiAgICByZXR1cm4gcmFuZG9tVmFyaWFudDtcbiAgfTtcblxuICAvLyBadWbDpGxsaWdlIEVtb3Rpb24gYXVzIHZlcmbDvGdiYXJlbiBFbW90aW9uZW4gd8OkaGxlblxuICBjb25zdCBnZXRSYW5kb21FbW90aW9uID0gKGVtb3Rpb25zID0gYXZhaWxhYmxlRW1vdGlvbnMpID0+IHtcbiAgICBjb25zdCBmaWx0ZXJlZCA9IGVtb3Rpb25zLmZpbHRlcihlID0+IGUgIT09IGN1cnJlbnRFbW90aW9uKTtcbiAgICBpZiAoZmlsdGVyZWQubGVuZ3RoID09PSAwKSByZXR1cm4gZW1vdGlvbnNbMF07XG4gICAgcmV0dXJuIGZpbHRlcmVkW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGZpbHRlcmVkLmxlbmd0aCldO1xuICB9O1xuXG4gIC8vIEVtb3Rpb24tV2VjaHNlbCBtaXQgdXJzcHLDvG5nbGljaGVyIEZsaXAtQW5pbWF0aW9uXG4gIGNvbnN0IGNoYW5nZUVtb3Rpb24gPSAobmV3RW1vdGlvbiwgaW1tZWRpYXRlID0gZmFsc2UpID0+IHtcbiAgICBjb25zb2xlLmxvZyhg8J+OrSBFbW90aW9uIGNoYW5nZTogJHtjdXJyZW50RW1vdGlvbn0g4oaSICR7bmV3RW1vdGlvbn0gKGltbWVkaWF0ZTogJHtpbW1lZGlhdGV9KWApO1xuICAgIFxuICAgIGlmIChuZXdFbW90aW9uID09PSBjdXJyZW50RW1vdGlvbikge1xuICAgICAgY29uc29sZS5sb2coYPCfjq0gU2FtZSBlbW90aW9uLCBza2lwcGluZ2ApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBpZiAoaW1tZWRpYXRlKSB7XG4gICAgICAvLyBEaXJla3RlciBXZWNoc2VsIG9obmUgQW5pbWF0aW9uXG4gICAgICBjb25zb2xlLmxvZyhg8J+OrSBJbW1lZGlhdGUgY2hhbmdlIHRvICR7bmV3RW1vdGlvbn1gKTtcbiAgICAgIHNldEN1cnJlbnRFbW90aW9uKG5ld0Vtb3Rpb24pO1xuICAgICAgc2VsZWN0VmFyaWFudEZvckVtb3Rpb24obmV3RW1vdGlvbik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIEZsaXAtQW5pbWF0aW9uOiBSYXVzIC0+IEJpbGQgd2VjaHNlbG4gLT4gUmVpblxuICAgIGNvbnNvbGUubG9nKGDwn46tIFN0YXJ0aW5nIGZsaXAgYW5pbWF0aW9uOiBvdXQg4oaSIGNoYW5nZSDihpIgaW5gKTtcbiAgICBzZXRJc1JvdGF0aW5nKHRydWUpO1xuICAgIHNldFJvdGF0aW9uUGhhc2UoJ291dCcpO1xuICAgIFxuICAgIC8vIE5hY2ggUmF1cy1BbmltYXRpb24gKDIwMG1zKTogQmlsZCB3ZWNoc2VsblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coYPCfjq0gRmxpcCBhbmltYXRpb246IENoYW5naW5nIGltYWdlIHRvICR7bmV3RW1vdGlvbn1gKTtcbiAgICAgIHNldEN1cnJlbnRFbW90aW9uKG5ld0Vtb3Rpb24pO1xuICAgICAgc2VsZWN0VmFyaWFudEZvckVtb3Rpb24obmV3RW1vdGlvbik7XG4gICAgICBzZXRSb3RhdGlvblBoYXNlKCdpbicpO1xuICAgICAgXG4gICAgICAvLyBOYWNoIFJlaW4tQW5pbWF0aW9uICgyMDBtcyk6IEFuaW1hdGlvbiBiZWVuZGVuXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coYPCfjq0gRmxpcCBhbmltYXRpb246IENvbXBsZXRlIWApO1xuICAgICAgICBzZXRSb3RhdGlvblBoYXNlKCdpZGxlJyk7XG4gICAgICAgIHNldElzUm90YXRpbmcoZmFsc2UpO1xuICAgICAgfSwgMjAwKTtcbiAgICB9LCAyMDApO1xuICB9O1xuXG4gIC8vIEF1dG8tUmVzZXQgZW50ZmVybnQgLSBDaGFyYWN0ZXIgd2VjaHNlbHQgbnVyIGJlaSBJbnRlcmFrdGlvbmVuXG5cbiAgLy8gQ29udGV4dC1hYmjDpG5naWdlIEVtb3Rpb25lbiBsYWRlblxuICBjb25zdCBsb2FkQ29udGV4dEVtb3Rpb25zID0gYXN5bmMgKGNvbnRleHQpID0+IHtcbiAgICBjb25zb2xlLmxvZyhg8J+OrSBsb2FkQ29udGV4dEVtb3Rpb25zIGNhbGxlZCB3aXRoIGNvbnRleHQ6ICcke2NvbnRleHR9JyAobGFzdFByb2Nlc3NlZDogJyR7bGFzdFByb2Nlc3NlZENvbnRleHR9JylgKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9jaGFyYWN0ZXIvcmFuZG9tLWVtb3Rpb24vJHtjb250ZXh0fWApO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIFxuICAgICAgaWYgKGRhdGEuZW1vdGlvbnMpIHtcbiAgICAgICAgc2V0QXZhaWxhYmxlRW1vdGlvbnMoZGF0YS5lbW90aW9ucyk7XG4gICAgICAgIFxuICAgICAgICAvLyBDb29sZG93biBwcsO8ZmVuOiBLZWluZSBFbW90aW9uLVdlY2hzZWwgd2VubiBkZXIgbGV0enRlIHZvciB3ZW5pZ2VyIGFscyAyIFNla3VuZGVuIHdhclxuICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICBjb25zdCB0aW1lU2luY2VMYXN0Q2hhbmdlID0gbm93IC0gbGFzdEVtb3Rpb25DaGFuZ2VUaW1lO1xuICAgICAgICBjb25zdCBFTU9USU9OX0NPT0xET1dOID0gMjAwMDsgLy8gMiBTZWt1bmRlbiBDb29sZG93blxuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coYPCfjq0gQ29udGV4dCBjaGVjazogY29udGV4dD0ke2NvbnRleHR9LCBsYXN0UHJvY2Vzc2VkPSR7bGFzdFByb2Nlc3NlZENvbnRleHR9LCBjb29sZG93bj0ke3RpbWVTaW5jZUxhc3RDaGFuZ2V9bXNgKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChjb250ZXh0ICE9PSAnaWRsZScgJiYgY29udGV4dCAhPT0gbGFzdFByb2Nlc3NlZENvbnRleHQgJiYgdGltZVNpbmNlTGFzdENoYW5nZSA+PSBFTU9USU9OX0NPT0xET1dOKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYPCfjq0gVFJJR0dFUklORyBlbW90aW9uIGNoYW5nZSBmb3IgY29udGV4dCAnJHtjb250ZXh0fSdgKTtcbiAgICAgICAgICBjb25zdCByYW5kb21FbW90aW9uID0gZGF0YS5lbW90aW9uc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBkYXRhLmVtb3Rpb25zLmxlbmd0aCldO1xuICAgICAgICAgIGNoYW5nZUVtb3Rpb24ocmFuZG9tRW1vdGlvbiwgZmFsc2UpOyAvLyBNaXQgRmxpcC1BbmltYXRpb25cbiAgICAgICAgICBzZXRMYXN0UHJvY2Vzc2VkQ29udGV4dChjb250ZXh0KTsgLy8gTWVya2UgZGFzcyB3aXIgZGllc2VuIENvbnRleHQgc2Nob24gdmVyYXJiZWl0ZXQgaGFiZW5cbiAgICAgICAgICBzZXRMYXN0RW1vdGlvbkNoYW5nZVRpbWUobm93KTsgLy8gU2V0emUgQ29vbGRvd24tVGltZXJcbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0ID09PSBsYXN0UHJvY2Vzc2VkQ29udGV4dCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGDwn46tIEJMT0NLRUQ6IENvbnRleHQgJyR7Y29udGV4dH0nIGFscmVhZHkgcHJvY2Vzc2VkYCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGltZVNpbmNlTGFzdENoYW5nZSA8IEVNT1RJT05fQ09PTERPV04pIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhg8J+OrSBCTE9DS0VEOiBDb29sZG93biBhY3RpdmUgKCR7dGltZVNpbmNlTGFzdENoYW5nZX1tcyA8ICR7RU1PVElPTl9DT09MRE9XTn1tcylgKTtcbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0ID09PSAnaWRsZScpIHtcbiAgICAgICAgICAvLyBCZWkgaWRsZS1Db250ZXh0OiBSZXNldCBsYXN0UHJvY2Vzc2VkQ29udGV4dCBmw7xyIG7DpGNoc3RlIEludGVyYWt0aW9uIChhYmVyIGtlaW4gQ29vbGRvd24gUmVzZXQpXG4gICAgICAgICAgY29uc29sZS5sb2coYPCfjq0gUkVTRVQ6IElkbGUgY29udGV4dCwgY2xlYXJpbmcgbGFzdFByb2Nlc3NlZENvbnRleHRgKTtcbiAgICAgICAgICBzZXRMYXN0UHJvY2Vzc2VkQ29udGV4dChudWxsKTtcbiAgICAgICAgICAvLyBDaGFyYWN0ZXIgd2lyZCBOSUNIVCBuZXUgaW5zdGFuemllcnQsIG51ciBoYXNMb2FkZWQgYmxlaWJ0IHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIGNvbnRleHQgZW1vdGlvbnM6JywgZXJyb3IpO1xuICAgICAgc2V0QXZhaWxhYmxlRW1vdGlvbnMoWydpZGxlJywgJ2N1cmlvdXMnXSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFp1ZsOkbGxpZ2VzIExhY2hlbiBhYnNwaWVsZW4gKG9obmUgVm9pY2UtT3ZlcnMgenUgdW50ZXJicmVjaGVuKVxuICBjb25zdCBwbGF5UmFuZG9tTGF1Z2h0ZXIgPSAoKSA9PiB7XG4gICAgY29uc3QgbGF1Z2h0ZXJGaWxlcyA9IFtcbiAgICAgICcvYXVkaW8vTGF1Z2hpbmdLaWQvbGF1Z2hpbmctMS53YXYnLFxuICAgICAgJy9hdWRpby9MYXVnaGluZ0tpZC9sYXVnaGluZy0yLndhdicsXG4gICAgICAnL2F1ZGlvL0xhdWdoaW5nS2lkL2xhdWdoaW5nLTMud2F2JyxcbiAgICAgICcvYXVkaW8vTGF1Z2hpbmdLaWQvbGF1Z2hpbmctNC53YXYnLFxuICAgICAgJy9hdWRpby9MYXVnaGluZ0tpZC9sYXVnaGluZy01LndhdicsXG4gICAgICAnL2F1ZGlvL0xhdWdoaW5nS2lkL2xhdWdoaW5nLTYud2F2JyxcbiAgICAgICcvYXVkaW8vTGF1Z2hpbmdLaWQvbGF1Z2hpbmctNy53YXYnXG4gICAgXTtcbiAgICBcbiAgICAvLyBadWbDpGxsaWdlIExhY2hlci1EYXRlaSBhdXN3w6RobGVuXG4gICAgY29uc3QgcmFuZG9tTGF1Z2h0ZXIgPSBsYXVnaHRlckZpbGVzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGxhdWdodGVyRmlsZXMubGVuZ3RoKV07XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIFNFUEFSQVRFUyBBdWRpby1FbGVtZW50IGbDvHIgTGFjaGVyIChuaWNodCBnbG9iYWwhKVxuICAgICAgY29uc3QgbGF1Z2h0ZXJBdWRpbyA9IG5ldyBBdWRpbyhyYW5kb21MYXVnaHRlcik7XG4gICAgICBsYXVnaHRlckF1ZGlvLnZvbHVtZSA9IDAuNzsgLy8gRXR3YXMgbGVpc2VyIGFscyBWb2ljZS1PdmVyc1xuICAgICAgXG4gICAgICBsYXVnaHRlckF1ZGlvLnBsYXkoKS5jYXRjaChlcnIgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnTGFjaGVyLUF1ZGlvIGF1dG9wbGF5IHZlcmhpbmRlcnQ6JywgZXJyKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygn8J+koyBMYWNoZXIgYWJnZXNwaWVsdDonLCByYW5kb21MYXVnaHRlcik7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignTGFjaGVyLUF1ZGlvLUZlaGxlcjonLCBlcnJvcik7XG4gICAgfVxuICB9O1xuXG4gIC8vIENoYXJhY3RlciBhbnRpcHBlbiAtIFJvdGF0aW9uLCBFbW90aW9uLVdlY2hzZWwgVU5EIExhY2hlblxuICBjb25zdCBoYW5kbGVDaGFyYWN0ZXJDbGljayA9ICgpID0+IHtcbiAgICAvLyBadSBsYXVnaGluZyBvZGVyIGV4Y2l0ZWQgd2VjaHNlbG4sIGFiZXIgTklFTUFMUyBkaWUgYWt0dWVsbGUgRW1vdGlvblxuICAgIGNvbnN0IGhhcHB5RW1vdGlvbnMgPSBbJ2xhdWdoaW5nJywgJ2V4Y2l0ZWQnXTtcbiAgICBsZXQgcmFuZG9tSGFwcHlFbW90aW9uO1xuICAgIFxuICAgIC8vIEFuZGVyZSBFbW90aW9uIHfDpGhsZW4gYWxzIGRpZSBha3R1ZWxsZVxuICAgIGlmIChjdXJyZW50RW1vdGlvbiA9PT0gJ2xhdWdoaW5nJykge1xuICAgICAgcmFuZG9tSGFwcHlFbW90aW9uID0gJ2V4Y2l0ZWQnO1xuICAgIH0gZWxzZSBpZiAoY3VycmVudEVtb3Rpb24gPT09ICdleGNpdGVkJykge1xuICAgICAgcmFuZG9tSGFwcHlFbW90aW9uID0gJ2xhdWdoaW5nJzsgIFxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBXZW5uIHdlZGVyIGxhdWdoaW5nIG5vY2ggZXhjaXRlZCwgenVmw6RsbGlnIHfDpGhsZW5cbiAgICAgIHJhbmRvbUhhcHB5RW1vdGlvbiA9IGhhcHB5RW1vdGlvbnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogaGFwcHlFbW90aW9ucy5sZW5ndGgpXTtcbiAgICB9XG4gICAgXG4gICAgY2hhbmdlRW1vdGlvbihyYW5kb21IYXBweUVtb3Rpb24sIGZhbHNlKTsgLy8gTWl0IEZsaXAtQW5pbWF0aW9uXG4gICAgc2V0TGFzdEVtb3Rpb25DaGFuZ2VUaW1lKERhdGUubm93KCkpOyAvLyBDb29sZG93bi1UaW1lciBhdWNoIGJlaSBkaXJla3RlbSBDaGFyYWN0ZXItS2xpY2sgc2V0emVuXG4gICAgXG4gICAgLy8gWnVmw6RsbGlnZXMgTGFjaGVuIGFic3BpZWxlbiAocGFyYWxsZWwgenUgVm9pY2UtT3ZlcnMpXG4gICAgcGxheVJhbmRvbUxhdWdodGVyKCk7XG4gICAgXG4gICAgLy8gQ2FsbGJhY2sgZsO8ciBFbW90aW9uLcOEbmRlcnVuZ1xuICAgIGlmIChvbkVtb3Rpb25DaGFuZ2UpIHtcbiAgICAgIG9uRW1vdGlvbkNoYW5nZShyYW5kb21IYXBweUVtb3Rpb24pO1xuICAgIH1cbiAgfTtcblxuICAvLyBJbml0aWFsIEZseS1JbiBBbmltYXRpb24gc3RhcnRlbiAtIE5VUiBFSU5NQUwgaW4gZGVyIGdlc2FtdGVuIEFwcC1MYXVmemVpdFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghY2hhcmFjdGVySW5pdGlhbGl6ZWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKGDwn46tIENoYXJhY3RlciBGSVJTVCBUSU1FIElOSVRJQUxJWkFUSU9OYCk7XG4gICAgICBjaGFyYWN0ZXJJbml0aWFsaXplZCA9IHRydWU7IC8vIFNldHplIHN0YXRpc2NoZSBWYXJpYWJsZVxuICAgICAgXG4gICAgICAvLyBOYWNoIGt1cnplciBWZXJ6w7ZnZXJ1bmcgQ2hhcmFjdGVyIHJlaW5mbGllZ2VuIGxhc3NlblxuICAgICAgY29uc3QgbG9hZFRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGDwn46tIFNldHRpbmcgaGFzTG9hZGVkIHRvIHRydWVgKTtcbiAgICAgICAgc2V0SGFzTG9hZGVkKHRydWUpO1xuICAgICAgfSwgMzAwKTtcbiAgICAgIFxuICAgICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dChsb2FkVGltZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhg8J+OrSBDaGFyYWN0ZXIgQUxSRUFEWSBJTklUSUFMSVpFRCAtIHNldHRpbmcgaGFzTG9hZGVkIGltbWVkaWF0ZWx5YCk7XG4gICAgICBzZXRIYXNMb2FkZWQodHJ1ZSk7IC8vIEJlaSBSZS1SZW5kZXIgc29mb3J0IGF1ZiBsb2FkZWQgc2V0emVuXG4gICAgfVxuICB9LCBbXSk7XG5cbiAgLy8gQ29udGV4dC3DhG5kZXJ1bmdlbiDDvGJlcndhY2hlbiAtIG1pdCBSZWYgdW0gZG9wcGVsdGUgQXVmcnVmZSB6dSB2ZXJoaW5kZXJuXG4gIGNvbnN0IGxhc3RDb250ZXh0UmVmID0gdXNlUmVmKG51bGwpO1xuICBcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY3VycmVudENvbnRleHQgJiYgY3VycmVudENvbnRleHQgIT09IGxhc3RDb250ZXh0UmVmLmN1cnJlbnQpIHtcbiAgICAgIGNvbnNvbGUubG9nKGDwn46tIFByb2Nlc3NpbmcgTkVXIGNvbnRleHQ6ICcke2N1cnJlbnRDb250ZXh0fSdgKTtcbiAgICAgIGxhc3RDb250ZXh0UmVmLmN1cnJlbnQgPSBjdXJyZW50Q29udGV4dDtcbiAgICAgIGxvYWRDb250ZXh0RW1vdGlvbnMoY3VycmVudENvbnRleHQpO1xuICAgIH1cbiAgfSwgW2N1cnJlbnRDb250ZXh0XSk7XG5cbiAgLy8gQ2xlYW51cCBUaW1lclxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAoYXV0b1Jlc2V0VGltZXIuY3VycmVudCkgY2xlYXJUaW1lb3V0KGF1dG9SZXNldFRpbWVyLmN1cnJlbnQpO1xuICAgICAgaWYgKGVtb3Rpb25DaGFuZ2VUaW1lci5jdXJyZW50KSBjbGVhclRpbWVvdXQoZW1vdGlvbkNoYW5nZVRpbWVyLmN1cnJlbnQpO1xuICAgIH07XG4gIH0sIFtdKTtcblxuICAvLyBQcmVsb2FkIGltYWdlIHZpYSBCYXNlNjQgY2FjaGUsIGJ1dCBkbyBub3QgdXNlIGl0IGZvciByZW5kZXJpbmdcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXNlbGVjdGVkVmFyaWFudCkgcmV0dXJuO1xuICAgIGdldENhY2hlZEltYWdlKHNlbGVjdGVkVmFyaWFudCkuY2F0Y2goKCkgPT4ge30pO1xuICB9LCBbc2VsZWN0ZWRWYXJpYW50XSk7XG5cbiAgLy8gVHJhY2sgbG9hZGluZyBzdGF0ZSBmb3IgdGhlIHJlYWwgaW1hZ2VcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgZGlkQ2FuY2VsID0gZmFsc2U7XG4gICAgbGV0IGZhbGxiYWNrVGltZXI7XG4gICAgc2V0SW1nTG9hZGVkKGZhbHNlKTtcbiAgICBpZiAoc2VsZWN0ZWRWYXJpYW50KSB7XG4gICAgICBmYWxsYmFja1RpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmICghZGlkQ2FuY2VsKSBzZXRJbWdMb2FkZWQodHJ1ZSk7XG4gICAgICB9LCA1MDApO1xuICAgIH1cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZGlkQ2FuY2VsID0gdHJ1ZTtcbiAgICAgIGlmIChmYWxsYmFja1RpbWVyKSBjbGVhclRpbWVvdXQoZmFsbGJhY2tUaW1lcik7XG4gICAgfTtcbiAgfSwgW3NlbGVjdGVkVmFyaWFudF0pO1xuXG4gIC8vIEFuaW1hdGlvbi1LbGFzc2VuIGJlc3RpbW1lblxuICBjb25zdCBnZXRBbmltYXRpb25DbGFzc2VzID0gKCkgPT4ge1xuICAgIGxldCBjbGFzc2VzID0gJ2NoYXJhY3Rlci1pbWFnZSc7XG4gICAgXG4gICAgLy8gSW5pdGlhbCBGbHktSW4gQW5pbWF0aW9uIGJlaW0gZXJzdGVuIExhZGVuXG4gICAgaWYgKCFoYXNMb2FkZWQpIHtcbiAgICAgIGNsYXNzZXMgKz0gJyBjaGFyYWN0ZXItZmx5LWluJztcbiAgICAgIGNvbnNvbGUubG9nKGDwn46oIENTUyBDbGFzc2VzOiAke2NsYXNzZXN9IChmbHktaW4pYCk7XG4gICAgICByZXR1cm4gY2xhc3NlcztcbiAgICB9XG4gICAgXG4gICAgLy8gUm90YXRpb24tQW5pbWF0aW9uIGhhdCBQcmlvcml0w6R0XG4gICAgaWYgKHJvdGF0aW9uUGhhc2UgPT09ICdvdXQnKSB7XG4gICAgICBjbGFzc2VzICs9ICcgY2hhcmFjdGVyLXJvdGF0ZS1vdXQnO1xuICAgICAgY29uc29sZS5sb2coYPCfjqggQ1NTIENsYXNzZXM6ICR7Y2xhc3Nlc30gKHJvdGF0aW5nIE9VVClgKTtcbiAgICB9IGVsc2UgaWYgKHJvdGF0aW9uUGhhc2UgPT09ICdpbicpIHtcbiAgICAgIGNsYXNzZXMgKz0gJyBjaGFyYWN0ZXItcm90YXRlLWluJztcbiAgICAgIGNvbnNvbGUubG9nKGDwn46oIENTUyBDbGFzc2VzOiAke2NsYXNzZXN9IChyb3RhdGluZyBJTilgKTtcbiAgICB9IGVsc2UgaWYgKHJvdGF0aW9uUGhhc2UgPT09ICdpZGxlJyAmJiAhaXNSb3RhdGluZykge1xuICAgICAgLy8gU3VidGlsZSBMb29wLUFuaW1hdGlvbiBudXIgd2VubiB3aXJrbGljaCBpZGxlXG4gICAgICBjbGFzc2VzICs9ICcgY2hhcmFjdGVyLXN1YnRsZS1hbmltYXRpb24nO1xuICAgICAgY29uc29sZS5sb2coYPCfjqggQ1NTIENsYXNzZXM6ICR7Y2xhc3Nlc30gKHN1YnRsZSBpZGxlKWApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhg8J+OqCBDU1MgQ2xhc3NlczogJHtjbGFzc2VzfSAobm8gZXh0cmEgYW5pbWF0aW9uKWApO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gY2xhc3NlcztcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgXG4gICAgICBjbGFzc05hbWU9XCJjaGFyYWN0ZXItY29udGFpbmVyXCJcbiAgICAgIG9uQ2xpY2s9e2hhbmRsZUNoYXJhY3RlckNsaWNrfVxuICAgICAgdGl0bGU9XCJDaGFyYWN0ZXIgYW50aXBwZW4gZsO8ciBFbW90aW9uZW4hXCJcbiAgICA+XG4gICAgICA8aW1nXG4gICAgICAgIHNyYz17c2VsZWN0ZWRWYXJpYW50fVxuICAgICAgICBhbHQ9e2BDaGFyYWN0ZXIgJHtjdXJyZW50RW1vdGlvbn1gfVxuICAgICAgICB3aWR0aD17MTIwfVxuICAgICAgICBoZWlnaHQ9ezE1MH1cbiAgICAgICAgY2xhc3NOYW1lPXtnZXRBbmltYXRpb25DbGFzc2VzKCl9XG4gICAgICAgIHN0eWxlPXt7IG9iamVjdEZpdDogJ2NvbnRhaW4nLCBwb3NpdGlvbjogJ3JlbGF0aXZlJywgekluZGV4OiAxLCBvcGFjaXR5OiBpbWdMb2FkZWQgPyAxIDogMCwgdHJhbnNpdGlvbjogJ29wYWNpdHkgMC4ycycgfX1cbiAgICAgICAgb25Mb2FkPXsoKSA9PiBzZXRJbWdMb2FkZWQodHJ1ZSl9XG4gICAgICAgIG9uRXJyb3I9eygpID0+IHNldEltZ0xvYWRlZCh0cnVlKX1cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBDaGFyYWN0ZXI7IFxuLy8gQ2FjaGUtUmVmcmVzaDogVXBkYXRlZCBDaGFyYWN0ZXIgQW5pbWF0aW9uIGFuZCByZW1vdmVkIGlzQm91bmNpbmcgIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwiSW1hZ2UiLCJnZXRDYWNoZWRJbWFnZSIsImNoYXJhY3RlckluaXRpYWxpemVkIiwiQ2hhcmFjdGVyIiwiY3VycmVudENvbnRleHQiLCJvbkVtb3Rpb25DaGFuZ2UiLCJjdXJyZW50RW1vdGlvbiIsInNldEN1cnJlbnRFbW90aW9uIiwiaXNSb3RhdGluZyIsInNldElzUm90YXRpbmciLCJyb3RhdGlvblBoYXNlIiwic2V0Um90YXRpb25QaGFzZSIsImF2YWlsYWJsZUVtb3Rpb25zIiwic2V0QXZhaWxhYmxlRW1vdGlvbnMiLCJoYXNMb2FkZWQiLCJzZXRIYXNMb2FkZWQiLCJsYXN0UHJvY2Vzc2VkQ29udGV4dCIsInNldExhc3RQcm9jZXNzZWRDb250ZXh0IiwibGFzdEVtb3Rpb25DaGFuZ2VUaW1lIiwic2V0TGFzdEVtb3Rpb25DaGFuZ2VUaW1lIiwiYXV0b1Jlc2V0VGltZXIiLCJlbW90aW9uQ2hhbmdlVGltZXIiLCJjaGFyYWN0ZXJWYXJpYW50cyIsImlkbGUiLCJleGNpdGVkIiwiY3VyaW91cyIsInN1cnByaXNlZCIsInRoaW5raW5nIiwibGF1Z2hpbmciLCJleHBsb3JpbmciLCJzY2FyZWQiLCJzZWxlY3RlZFZhcmlhbnQiLCJzZXRTZWxlY3RlZFZhcmlhbnQiLCJpbWdMb2FkZWQiLCJzZXRJbWdMb2FkZWQiLCJzZWxlY3RWYXJpYW50Rm9yRW1vdGlvbiIsImVtb3Rpb24iLCJ2YXJpYW50cyIsImxlbmd0aCIsInZhcmlhbnQiLCJvdGhlclZhcmlhbnRzIiwiZmlsdGVyIiwicmFuZG9tVmFyaWFudCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImdldFJhbmRvbUVtb3Rpb24iLCJlbW90aW9ucyIsImZpbHRlcmVkIiwiZSIsImNoYW5nZUVtb3Rpb24iLCJuZXdFbW90aW9uIiwiaW1tZWRpYXRlIiwiY29uc29sZSIsImxvZyIsInNldFRpbWVvdXQiLCJsb2FkQ29udGV4dEVtb3Rpb25zIiwiY29udGV4dCIsInJlc3BvbnNlIiwiZmV0Y2giLCJkYXRhIiwianNvbiIsIm5vdyIsIkRhdGUiLCJ0aW1lU2luY2VMYXN0Q2hhbmdlIiwiRU1PVElPTl9DT09MRE9XTiIsInJhbmRvbUVtb3Rpb24iLCJlcnJvciIsInBsYXlSYW5kb21MYXVnaHRlciIsImxhdWdodGVyRmlsZXMiLCJyYW5kb21MYXVnaHRlciIsImxhdWdodGVyQXVkaW8iLCJBdWRpbyIsInZvbHVtZSIsInBsYXkiLCJjYXRjaCIsImVyciIsImhhbmRsZUNoYXJhY3RlckNsaWNrIiwiaGFwcHlFbW90aW9ucyIsInJhbmRvbUhhcHB5RW1vdGlvbiIsImxvYWRUaW1lciIsImNsZWFyVGltZW91dCIsImxhc3RDb250ZXh0UmVmIiwiY3VycmVudCIsImRpZENhbmNlbCIsImZhbGxiYWNrVGltZXIiLCJnZXRBbmltYXRpb25DbGFzc2VzIiwiY2xhc3NlcyIsImRpdiIsImNsYXNzTmFtZSIsIm9uQ2xpY2siLCJ0aXRsZSIsImltZyIsInNyYyIsImFsdCIsIndpZHRoIiwiaGVpZ2h0Iiwic3R5bGUiLCJvYmplY3RGaXQiLCJwb3NpdGlvbiIsInpJbmRleCIsIm9wYWNpdHkiLCJ0cmFuc2l0aW9uIiwib25Mb2FkIiwib25FcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/Character.js\n");

/***/ }),

/***/ "./components/FaviconManager.js":
/*!**************************************!*\
  !*** ./components/FaviconManager.js ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ FaviconManager)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_imageCache__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/imageCache */ \"./utils/imageCache.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_utils_imageCache__WEBPACK_IMPORTED_MODULE_1__]);\n_utils_imageCache__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nfunction FaviconManager() {\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        (async ()=>{\n            try {\n                const base64 = await (0,_utils_imageCache__WEBPACK_IMPORTED_MODULE_1__.getCachedImage)(\"/websiteBaseImages/lexiconFavIcon.png\");\n                document.getElementById(\"dynamic-favicon\")?.setAttribute(\"href\", base64);\n                document.getElementById(\"dynamic-appleicon\")?.setAttribute(\"href\", base64);\n                document.getElementById(\"dynamic-shortcuticon\")?.setAttribute(\"href\", base64);\n            } catch (e) {\n            // fallback: do nothing\n            }\n        })();\n    }, []);\n    return null;\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL0Zhdmljb25NYW5hZ2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBa0M7QUFDbUI7QUFFdEMsU0FBU0U7SUFDdEJGLGdEQUFTQSxDQUFDO1FBQ1A7WUFDQyxJQUFJO2dCQUNGLE1BQU1HLFNBQVMsTUFBTUYsaUVBQWNBLENBQUM7Z0JBQ3BDRyxTQUFTQyxjQUFjLENBQUMsb0JBQW9CQyxhQUFhLFFBQVFIO2dCQUNqRUMsU0FBU0MsY0FBYyxDQUFDLHNCQUFzQkMsYUFBYSxRQUFRSDtnQkFDbkVDLFNBQVNDLGNBQWMsQ0FBQyx5QkFBeUJDLGFBQWEsUUFBUUg7WUFDeEUsRUFBRSxPQUFPSSxHQUFHO1lBQ1YsdUJBQXVCO1lBQ3pCO1FBQ0Y7SUFDRixHQUFHLEVBQUU7SUFDTCxPQUFPO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9raW5kZXJsZXhpa29uLy4vY29tcG9uZW50cy9GYXZpY29uTWFuYWdlci5qcz83OTNmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgZ2V0Q2FjaGVkSW1hZ2UgfSBmcm9tICcuLi91dGlscy9pbWFnZUNhY2hlJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEZhdmljb25NYW5hZ2VyKCkge1xyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAoYXN5bmMgKCkgPT4ge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGJhc2U2NCA9IGF3YWl0IGdldENhY2hlZEltYWdlKCcvd2Vic2l0ZUJhc2VJbWFnZXMvbGV4aWNvbkZhdkljb24ucG5nJyk7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2R5bmFtaWMtZmF2aWNvbicpPy5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBiYXNlNjQpO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkeW5hbWljLWFwcGxlaWNvbicpPy5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBiYXNlNjQpO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkeW5hbWljLXNob3J0Y3V0aWNvbicpPy5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBiYXNlNjQpO1xyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgLy8gZmFsbGJhY2s6IGRvIG5vdGhpbmdcclxuICAgICAgfVxyXG4gICAgfSkoKTtcclxuICB9LCBbXSk7XHJcbiAgcmV0dXJuIG51bGw7XHJcbn0gIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsImdldENhY2hlZEltYWdlIiwiRmF2aWNvbk1hbmFnZXIiLCJiYXNlNjQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwic2V0QXR0cmlidXRlIiwiZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/FaviconManager.js\n");

/***/ }),

/***/ "./pages/_app.js":
/*!***********************!*\
  !*** ./pages/_app.js ***!
  \***********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../styles/globals.css */ \"./styles/globals.css\");\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_styles_globals_css__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_FaviconManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/FaviconManager */ \"./components/FaviconManager.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_components_FaviconManager__WEBPACK_IMPORTED_MODULE_2__]);\n_components_FaviconManager__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nfunction MyApp({ Component, pageProps }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_FaviconManager__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {}, void 0, false, {\n                fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\_app.js\",\n                lineNumber: 7,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n                ...pageProps\n            }, void 0, false, {\n                fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\_app.js\",\n                lineNumber: 8,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MyApp);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9fYXBwLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBK0I7QUFDMkI7QUFFMUQsU0FBU0MsTUFBTSxFQUFFQyxTQUFTLEVBQUVDLFNBQVMsRUFBRTtJQUNyQyxxQkFDRTs7MEJBQ0UsOERBQUNILGtFQUFjQTs7Ozs7MEJBQ2YsOERBQUNFO2dCQUFXLEdBQUdDLFNBQVM7Ozs7Ozs7O0FBRzlCO0FBRUEsaUVBQWVGLEtBQUtBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9raW5kZXJsZXhpa29uLy4vcGFnZXMvX2FwcC5qcz9lMGFkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAnLi4vc3R5bGVzL2dsb2JhbHMuY3NzJztcbmltcG9ydCBGYXZpY29uTWFuYWdlciBmcm9tICcuLi9jb21wb25lbnRzL0Zhdmljb25NYW5hZ2VyJztcblxuZnVuY3Rpb24gTXlBcHAoeyBDb21wb25lbnQsIHBhZ2VQcm9wcyB9KSB7XG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxGYXZpY29uTWFuYWdlciAvPlxuICAgICAgPENvbXBvbmVudCB7Li4ucGFnZVByb3BzfSAvPlxuICAgIDwvPlxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBNeUFwcDsgIl0sIm5hbWVzIjpbIkZhdmljb25NYW5hZ2VyIiwiTXlBcHAiLCJDb21wb25lbnQiLCJwYWdlUHJvcHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/_app.js\n");

/***/ }),

/***/ "./pages/_document.js":
/*!****************************!*\
  !*** ./pages/_document.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_document__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/document */ \"./node_modules/next/document.js\");\n/* harmony import */ var next_document__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_document__WEBPACK_IMPORTED_MODULE_1__);\n\n\nclass MyDocument extends (next_document__WEBPACK_IMPORTED_MODULE_1___default()) {\n    static async getInitialProps(ctx) {\n        const initialProps = await next_document__WEBPACK_IMPORTED_MODULE_1___default().getInitialProps(ctx);\n        return {\n            ...initialProps\n        };\n    }\n    render() {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_document__WEBPACK_IMPORTED_MODULE_1__.Html, {\n            lang: \"de\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_document__WEBPACK_IMPORTED_MODULE_1__.Head, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"link\", {\n                            rel: \"icon\",\n                            id: \"dynamic-favicon\"\n                        }, void 0, false, {\n                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\_document.js\",\n                            lineNumber: 13,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"link\", {\n                            rel: \"apple-touch-icon\",\n                            id: \"dynamic-appleicon\"\n                        }, void 0, false, {\n                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\_document.js\",\n                            lineNumber: 14,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"link\", {\n                            rel: \"shortcut icon\",\n                            id: \"dynamic-shortcuticon\"\n                        }, void 0, false, {\n                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\_document.js\",\n                            lineNumber: 15,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\_document.js\",\n                    lineNumber: 11,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_document__WEBPACK_IMPORTED_MODULE_1__.Main, {}, void 0, false, {\n                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\_document.js\",\n                            lineNumber: 18,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_document__WEBPACK_IMPORTED_MODULE_1__.NextScript, {}, void 0, false, {\n                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\_document.js\",\n                            lineNumber: 19,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\_document.js\",\n                    lineNumber: 17,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\_document.js\",\n            lineNumber: 10,\n            columnNumber: 7\n        }, this);\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MyDocument);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9fZG9jdW1lbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXNFO0FBRXRFLE1BQU1LLG1CQUFtQkwsc0RBQVFBO0lBQy9CLGFBQWFNLGdCQUFnQkMsR0FBRyxFQUFFO1FBQ2hDLE1BQU1DLGVBQWUsTUFBTVIsb0VBQXdCLENBQUNPO1FBQ3BELE9BQU87WUFBRSxHQUFHQyxZQUFZO1FBQUM7SUFDM0I7SUFDQUMsU0FBUztRQUNQLHFCQUNFLDhEQUFDUiwrQ0FBSUE7WUFBQ1MsTUFBSzs7OEJBQ1QsOERBQUNSLCtDQUFJQTs7c0NBRUgsOERBQUNTOzRCQUFLQyxLQUFJOzRCQUFPQyxJQUFHOzs7Ozs7c0NBQ3BCLDhEQUFDRjs0QkFBS0MsS0FBSTs0QkFBbUJDLElBQUc7Ozs7OztzQ0FDaEMsOERBQUNGOzRCQUFLQyxLQUFJOzRCQUFnQkMsSUFBRzs7Ozs7Ozs7Ozs7OzhCQUUvQiw4REFBQ0M7O3NDQUNDLDhEQUFDWCwrQ0FBSUE7Ozs7O3NDQUNMLDhEQUFDQyxxREFBVUE7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBSW5CO0FBQ0Y7QUFFQSxpRUFBZUMsVUFBVUEsRUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2tpbmRlcmxleGlrb24vLi9wYWdlcy9fZG9jdW1lbnQuanM/NTM4YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRG9jdW1lbnQsIHsgSHRtbCwgSGVhZCwgTWFpbiwgTmV4dFNjcmlwdCB9IGZyb20gJ25leHQvZG9jdW1lbnQnXG5cbmNsYXNzIE15RG9jdW1lbnQgZXh0ZW5kcyBEb2N1bWVudCB7XG4gIHN0YXRpYyBhc3luYyBnZXRJbml0aWFsUHJvcHMoY3R4KSB7XG4gICAgY29uc3QgaW5pdGlhbFByb3BzID0gYXdhaXQgRG9jdW1lbnQuZ2V0SW5pdGlhbFByb3BzKGN0eCk7XG4gICAgcmV0dXJuIHsgLi4uaW5pdGlhbFByb3BzIH07XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8SHRtbCBsYW5nPVwiZGVcIj5cbiAgICAgICAgPEhlYWQ+XG4gICAgICAgICAgey8qIEZhdmljb24gdW5kIEFwcGxlLVRvdWNoLUljb24gd2VyZGVuIGltIENTUiBkeW5hbWlzY2ggZ2VzZXR6dCAqL31cbiAgICAgICAgICA8bGluayByZWw9XCJpY29uXCIgaWQ9XCJkeW5hbWljLWZhdmljb25cIiAvPlxuICAgICAgICAgIDxsaW5rIHJlbD1cImFwcGxlLXRvdWNoLWljb25cIiBpZD1cImR5bmFtaWMtYXBwbGVpY29uXCIgLz5cbiAgICAgICAgICA8bGluayByZWw9XCJzaG9ydGN1dCBpY29uXCIgaWQ9XCJkeW5hbWljLXNob3J0Y3V0aWNvblwiIC8+XG4gICAgICAgIDwvSGVhZD5cbiAgICAgICAgPGJvZHk+XG4gICAgICAgICAgPE1haW4gLz5cbiAgICAgICAgICA8TmV4dFNjcmlwdCAvPlxuICAgICAgICA8L2JvZHk+XG4gICAgICA8L0h0bWw+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE15RG9jdW1lbnQgIl0sIm5hbWVzIjpbIkRvY3VtZW50IiwiSHRtbCIsIkhlYWQiLCJNYWluIiwiTmV4dFNjcmlwdCIsIk15RG9jdW1lbnQiLCJnZXRJbml0aWFsUHJvcHMiLCJjdHgiLCJpbml0aWFsUHJvcHMiLCJyZW5kZXIiLCJsYW5nIiwibGluayIsInJlbCIsImlkIiwiYm9keSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./pages/_document.js\n");

/***/ }),

/***/ "./pages/index.js":
/*!************************!*\
  !*** ./pages/index.js ***!
  \************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Home)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/head */ \"next/head\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _components_Character__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/Character */ \"./components/Character.js\");\n/* harmony import */ var _components_CategoryTile__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/CategoryTile */ \"./components/CategoryTile.js\");\n/* harmony import */ var _barrel_optimize_names_motion_framer_motion__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=motion!=!framer-motion */ \"__barrel_optimize__?names=motion!=!./node_modules/framer-motion/dist/es/index.mjs\");\n/* harmony import */ var _utils_animationManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/animationManager */ \"./utils/animationManager.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_components_Character__WEBPACK_IMPORTED_MODULE_3__, _components_CategoryTile__WEBPACK_IMPORTED_MODULE_4__]);\n([_components_Character__WEBPACK_IMPORTED_MODULE_3__, _components_CategoryTile__WEBPACK_IMPORTED_MODULE_4__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n// REMOVE: import { AnimatePresence } from 'framer-motion';\nfunction Home() {\n    const [categories, setCategories] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [selectedCategory, setSelectedCategory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [subcategories, setSubcategories] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [animals, setAnimals] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [characterContext, setCharacterContext] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"idle\");\n    const [currentView, setCurrentView] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"main\"); // 'main', 'category', 'animals', 'transitioning'\n    const [clickedItemId, setClickedItemId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [scrollProgress, setScrollProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [recentItems, setRecentItems] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [playedAnimals, setPlayedAnimals] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentlyPlaying, setCurrentlyPlaying] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const scrollContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [showGrid, setShowGrid] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [animationKey, setAnimationKey] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [isGridVisible, setIsGridVisible] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [allImagesLoaded, setAllImagesLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [isFullscreen, setIsFullscreen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showInfo, setShowInfo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Image Preloading State\n    const [preloadedData, setPreloadedData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isPreloading, setIsPreloading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Tile Pool System - 100 feste Tiles\n    const TILE_POOL_SIZE = 100;\n    const [tilePool, setTilePool] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(()=>{\n        // Initialisiere 100 leere Tiles\n        return Array.from({\n            length: TILE_POOL_SIZE\n        }, (_, index)=>({\n                id: `tile-${index}`,\n                isVisible: false,\n                content: null,\n                animationMode: null,\n                isAnimal: false,\n                isPlayed: false,\n                isCurrentlyPlaying: false,\n                onClick: null\n            }));\n    });\n    // Zentraler Animation State\n    const [currentGridAnimation, setCurrentGridAnimation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"slideFromLeft\");\n    const [globalAnimationDirection, setGlobalAnimationDirection] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"down\");\n    // Local Storage Utility-Funktionen\n    const savePlayedAnimalsToStorage = (playedList)=>{\n        try {\n            localStorage.setItem(\"kinderlexikon_played_animals\", JSON.stringify(playedList));\n        } catch (error) {\n            console.error(\"Error saving to localStorage:\", error);\n        }\n    };\n    const loadPlayedAnimalsFromStorage = ()=>{\n        try {\n            const saved = localStorage.getItem(\"kinderlexikon_played_animals\");\n            return saved ? JSON.parse(saved) : [];\n        } catch (error) {\n            console.error(\"Error loading from localStorage:\", error);\n            return [];\n        }\n    };\n    // HIERARCHISCHES Recent Items Local Storage System\n    const getStorageKey = (level, categorySlug = null, subcategorySlug = null)=>{\n        if (level === \"main\") return \"kinderlexikon_recent_main\";\n        if (level === \"category\" && categorySlug) return `kinderlexikon_recent_cat_${categorySlug}`;\n        if (level === \"animals\" && categorySlug && subcategorySlug) return `kinderlexikon_recent_animals_${categorySlug}_${subcategorySlug}`;\n        return \"kinderlexikon_recent_fallback\"; // Fallback\n    };\n    const saveRecentItemsToStorage = (recentList, level, categorySlug = null, subcategorySlug = null)=>{\n        try {\n            const key = getStorageKey(level, categorySlug, subcategorySlug);\n            localStorage.setItem(key, JSON.stringify(recentList));\n            console.log(` Saved recent items for ${level}:`, recentList);\n        } catch (error) {\n            console.error(\"Error saving recent items to localStorage:\", error);\n        }\n    };\n    const loadRecentItemsFromStorage = (level, categorySlug = null, subcategorySlug = null)=>{\n        try {\n            const key = getStorageKey(level, categorySlug, subcategorySlug);\n            const saved = localStorage.getItem(key);\n            const result = saved ? JSON.parse(saved) : [];\n            console.log(` Loaded recent items for ${level}:`, result);\n            return result;\n        } catch (error) {\n            console.error(\"Error loading recent items from localStorage:\", error);\n            return [];\n        }\n    };\n    // Utility-Funktionen fr zufllige Anordnung\n    const shuffleArray = (array)=>{\n        const shuffled = [\n            ...array\n        ];\n        for(let i = shuffled.length - 1; i > 0; i--){\n            const j = Math.floor(Math.random() * (i + 1));\n            [shuffled[i], shuffled[j]] = [\n                shuffled[j],\n                shuffled[i]\n            ];\n        }\n        return shuffled;\n    };\n    const arrangeItemsWithRecent = (items, recentIds = [])=>{\n        // Recent Items in der richtigen Reihenfolge (zuletzt geklickt zuerst)\n        const recentItems = [];\n        recentIds.forEach((recentId)=>{\n            const item = items.find((item)=>item.id === recentId);\n            if (item) recentItems.push(item);\n        });\n        // Andere Items zufllig anordnen\n        const otherItems = items.filter((item)=>!recentIds.includes(item.id));\n        const shuffledOthers = shuffleArray(otherItems);\n        return [\n            ...recentItems,\n            ...shuffledOthers\n        ];\n    };\n    // Hierarchisches Add-to-Recent System\n    const addToRecent = (itemId, level, categorySlug = null, subcategorySlug = null)=>{\n        setRecentItems((prev)=>{\n            const newRecent = [\n                itemId,\n                ...prev.filter((id)=>id !== itemId)\n            ];\n            const limitedRecent = newRecent.slice(0, 4); // Nur letzte 4 behalten\n            saveRecentItemsToStorage(limitedRecent, level, categorySlug, subcategorySlug); // Hierarchisch speichern\n            return limitedRecent;\n        });\n    };\n    // Context-abhngiges Recent Items laden\n    const getCurrentRecentItems = ()=>{\n        if (currentView === \"main\") {\n            return loadRecentItemsFromStorage(\"main\");\n        } else if (currentView === \"category\" && selectedCategory) {\n            return loadRecentItemsFromStorage(\"category\", selectedCategory.slug);\n        } else if (currentView === \"animals\" && selectedCategory) {\n            // Fr Animals: Category + aktuell geladene Subcategory identifizieren\n            return loadRecentItemsFromStorage(\"animals\", selectedCategory.slug, \"current_subcat\");\n        }\n        return [];\n    };\n    // Kategorien vom Backend laden mit zuflliger Animation\n    const loadCategories = async ()=>{\n        try {\n            setLoading(true);\n            console.log(\"\\uD83D\\uDD04 Loading categories...\");\n            // Zufllige Animation fr neues Grid whlen\n            const randomAnimation = _utils_animationManager__WEBPACK_IMPORTED_MODULE_5__.animationManager.getRandomGridAnimation();\n            setCurrentGridAnimation(randomAnimation);\n            const response = await fetch(\"/api/categories\");\n            const data = await response.json();\n            if (data.categories) {\n                console.log(` Loaded ${data.categories.length} categories`);\n                // HIERARCHISCH: Kategorien mit Main-Recent-Logic anordnen\n                const mainRecentItems = loadRecentItemsFromStorage(\"main\");\n                const arrangedCategories = arrangeItemsWithRecent(data.categories, mainRecentItems);\n                setRecentItems(mainRecentItems); // State aktualisieren\n                setCategories(arrangedCategories);\n                setError(null);\n            } else {\n                throw new Error(\"No categories found\");\n            }\n        } catch (err) {\n            console.error(\"Error loading categories:\", err);\n            setError(\"Fehler beim Laden der Kategorien. Bitte versuche es nochmal!\");\n            setCategories([]); // Explizit leeres Array setzen\n        } finally{\n            setLoading(false);\n        }\n    };\n    // Spezifische Kategorie mit Subkategorien laden mit Animation\n    const loadCategoryDetails = async (slug)=>{\n        try {\n            // Nur neue Animation whlen wenn nicht schon von Navigation gesetzt\n            if (!currentGridAnimation || currentGridAnimation === \"slideFromLeft\") {\n                const randomAnimation = _utils_animationManager__WEBPACK_IMPORTED_MODULE_5__.animationManager.getRandomGridAnimation();\n                setCurrentGridAnimation(randomAnimation);\n            }\n            const response = await fetch(`/api/categories/${slug}`);\n            const data = await response.json();\n            if (data.category) {\n                setSelectedCategory(data.category);\n                // HIERARCHISCH: Subkategorien mit Category-spezifischen Recent Items anordnen\n                const subcats = data.category.subcategories || [];\n                const categoryRecentItems = loadRecentItemsFromStorage(\"category\", slug);\n                const arrangedSubcats = arrangeItemsWithRecent(subcats, categoryRecentItems);\n                setRecentItems(categoryRecentItems); // State aktualisieren\n                setSubcategories(arrangedSubcats);\n                setError(null);\n            } else {\n                throw new Error(\"Category not found\");\n            }\n        } catch (err) {\n            console.error(\"Error loading category details:\", err);\n            setError(\"Fehler beim Laden der Kategorie-Details!\");\n        }\n    };\n    // Audio-Wiedergabe Funktion mit Stop-Management\n    const playAudio = (audioPath)=>{\n        if (audioPath) {\n            try {\n                // Alle vorherigen Audios stoppen\n                if (window.currentAudio) {\n                    window.currentAudio.pause();\n                    window.currentAudio.currentTime = 0;\n                }\n                // Neues Audio erstellen und abspielen\n                const audio = new Audio(audioPath);\n                window.currentAudio = audio; // Global speichern fr Stop-Management\n                audio.play().catch((err)=>{\n                    console.log(\"Audio autoplay verhindert:\", err);\n                });\n                // Audio aus globalem Storage entfernen wenn beendet\n                audio.addEventListener(\"ended\", ()=>{\n                    if (window.currentAudio === audio) {\n                        window.currentAudio = null;\n                    }\n                });\n            } catch (error) {\n                console.error(\"Audio-Fehler:\", error);\n            }\n        }\n    };\n    // Image Preloading Funktion\n    const preloadNextContent = async (slug, type = \"category\")=>{\n        try {\n            setIsPreloading(true);\n            console.log(` Preloading ${type}: ${slug}`);\n            let response;\n            if (type === \"category\") {\n                response = await fetch(`/api/categories/${slug}`);\n            } else if (type === \"animals\") {\n                response = await fetch(`/api/animals/category/${slug}`);\n            }\n            const data = await response.json();\n            if (data) {\n                setPreloadedData({\n                    type,\n                    slug,\n                    data\n                });\n                console.log(` Preloaded ${type} data:`, data);\n                // Dynamische Host-Erkennung fr mobile IP-Zugriffe\n                const protocol =  false ? 0 : \"http:\";\n                const hostname =  false ? 0 : \"localhost\";\n                const port = \"5000\";\n                const tileSize = 300; // Tile-optimierte Gre - hhere Qualitt\n                const quality = 75; // Performance-optimierte Qualitt\n                const baseImageUrl = `${protocol}//${hostname}:${port}/images/`;\n                // Preload Images mit Resize-Parametern\n                const imagesToPreload = [];\n                if (type === \"category\" && data.category?.subcategories) {\n                    imagesToPreload.push(...data.category.subcategories.map((sub)=>`${baseImageUrl}${sub.image.filename}?w=${tileSize}&h=${tileSize}&q=${quality}`));\n                } else if (type === \"animals\" && data.animals) {\n                    imagesToPreload.push(...data.animals.map((animal)=>`${baseImageUrl}${animal.image.filename}?w=${tileSize}&h=${tileSize}&q=${quality}`));\n                }\n                // Promise.all fr alle Bilder\n                await Promise.all(imagesToPreload.map((src)=>{\n                    return new Promise((resolve)=>{\n                        const img = new Image();\n                        img.onload = ()=>resolve();\n                        img.onerror = ()=>resolve(); // Auch bei Fehlern weitermachen\n                        img.src = src;\n                    });\n                }));\n                console.log(` Preloaded ${imagesToPreload.length} images`);\n            }\n        } catch (error) {\n            console.error(\"Preloading error:\", error);\n        } finally{\n            setIsPreloading(false);\n        }\n    };\n    // Hilfsfunktion: Preload mehrere Bilder, gibt Promise zurck\n    async function preloadImages(urls) {\n        await Promise.all(urls.map((url)=>{\n            // Prfe, ob schon im Cache\n            const cacheKey = `imgcache_${url}_`;\n            if (localStorage.getItem(cacheKey)) return Promise.resolve();\n            // Sonst Bild laden\n            return fetch(url).then((r)=>r.blob()).then((blob)=>new Promise((resolve, reject)=>{\n                    const reader = new FileReader();\n                    reader.onloadend = ()=>{\n                        try {\n                            localStorage.setItem(cacheKey, reader.result);\n                        } catch  {}\n                        resolve();\n                    };\n                    reader.onerror = reject;\n                    reader.readAsDataURL(blob);\n                }));\n        }));\n    }\n    // Hilfsfunktion: Sammle alle Bild-URLs fr Kategorie/Subkategorie/Tiere\n    function getAllImageUrlsForCategory(category) {\n        const protocol =  false ? 0 : \"http:\";\n        const hostname =  false ? 0 : \"localhost\";\n        const port = \"5000\";\n        const tileSize = 300;\n        const quality = 75;\n        if (!category?.subcategories) return [];\n        return category.subcategories.map((sub)=>`${protocol}//${hostname}:${port}/images/${sub.image.filename}?w=${tileSize}&h=${tileSize}&q=${quality}`);\n    }\n    function getAllImageUrlsForAnimals(animals) {\n        const protocol =  false ? 0 : \"http:\";\n        const hostname =  false ? 0 : \"localhost\";\n        const port = \"5000\";\n        const tileSize = 300;\n        const quality = 75;\n        return animals.map((animal)=>`${protocol}//${hostname}:${port}/images/${animal.image.filename}?w=${tileSize}&h=${tileSize}&q=${quality}`);\n    }\n    // Hilfsfunktion: Warte, bis alle Base64-Bilder wirklich im <img> geladen sind\n    function waitForAllImagesToLoad(imageSrcs) {\n        return Promise.all(imageSrcs.map((src)=>new Promise((resolve)=>{\n                const img = new window.Image();\n                img.onload = resolve;\n                img.onerror = resolve;\n                img.src = src;\n            })));\n    }\n    // Hauptkategorie angeklickt - MIT Image Preloading\n    const handleCategoryClick = async (category)=>{\n        if (currentView === \"transitioning\") return;\n        setCurrentView(\"transitioning\");\n        setClickedItemId(category.id);\n        setGlobalAnimationDirection(getRandomDirection());\n        setCurrentGridAnimation(_utils_animationManager__WEBPACK_IMPORTED_MODULE_5__.animationManager.getRandomGridAnimation());\n        setCharacterContext(category.slug);\n        addToRecent(category.id, \"main\");\n        if (category.audio && category.audio.path) playAudio(`/${category.audio.path}`);\n        // 1. Lade Daten und starte Preloading SOFORT\n        const response = await fetch(`/api/categories/${category.slug}`);\n        const data = await response.json();\n        const imageUrls = getAllImageUrlsForCategory(data.category);\n        const preloadPromise = preloadImages(imageUrls);\n        // 2. Animation abwarten\n        await new Promise((resolve)=>setTimeout(resolve, 1800));\n        // 3. Warte auf Preloading (falls noch nicht fertig)\n        await preloadPromise;\n        // 4. Pool-Update etc.\n        setSelectedCategory(data.category);\n        const subcats = data.category.subcategories || [];\n        const categoryRecentItems = loadRecentItemsFromStorage(\"category\", category.slug);\n        const arrangedSubcats = arrangeItemsWithRecent(subcats, categoryRecentItems);\n        setRecentItems(categoryRecentItems);\n        setSubcategories(arrangedSubcats);\n        setError(null);\n        setCurrentView(\"category\");\n        setClickedItemId(null);\n        setAnimationKey((k)=>k + 1);\n        // Warte, bis alle Bilder wirklich geladen sind\n        const base64s = subcats.map((sub)=>{\n            const url = getAllImageUrlsForCategory({\n                subcategories: [\n                    sub\n                ]\n            })[0];\n            const cacheKey = `imgcache_${url}_`;\n            return localStorage.getItem(cacheKey);\n        });\n        setAllImagesLoaded(false);\n        waitForAllImagesToLoad(base64s).then(()=>setAllImagesLoaded(true));\n    };\n    // Subkategorie angeklickt - MIT Image Preloading\n    const handleSubcategoryClick = async (subcategory)=>{\n        if (currentView === \"transitioning\") return;\n        setCurrentView(\"transitioning\");\n        setClickedItemId(subcategory.id);\n        setGlobalAnimationDirection(getRandomDirection());\n        setCurrentGridAnimation(_utils_animationManager__WEBPACK_IMPORTED_MODULE_5__.animationManager.getRandomGridAnimation());\n        setCharacterContext(subcategory.slug);\n        addToRecent(subcategory.id, \"category\", selectedCategory?.slug);\n        if (subcategory.audio && subcategory.audio.path) playAudio(`/${subcategory.audio.path}`);\n        // 1. Lade Daten und starte Preloading SOFORT\n        const response = await fetch(`/api/animals/category/${subcategory.slug}`);\n        const data = await response.json();\n        const imageUrls = getAllImageUrlsForAnimals(data.animals || []);\n        const preloadPromise = preloadImages(imageUrls);\n        // 2. Animation abwarten\n        await new Promise((resolve)=>setTimeout(resolve, 1800));\n        // 3. Warte auf Preloading (falls noch nicht fertig)\n        await preloadPromise;\n        // 4. Pool-Update etc.\n        const animalRecentItems = loadRecentItemsFromStorage(\"animals\", selectedCategory?.slug, subcategory.slug);\n        const arrangedAnimals = arrangeItemsWithRecent(data.animals || [], animalRecentItems);\n        setRecentItems(animalRecentItems);\n        setAnimals(arrangedAnimals);\n        setError(null);\n        setCurrentView(\"animals\");\n        setClickedItemId(null);\n        setAnimationKey((k)=>k + 1);\n    };\n    // Tiere fr spezifische Subkategorie laden - FIXED API CALL\n    const loadAnimalsForCategory = async (subcategorySlug)=>{\n        try {\n            setLoading(true);\n            // FIXED: Verwende die Subkategorie-Slug direkt fr das Filtering\n            const response = await fetch(`/api/animals/category/${subcategorySlug}`);\n            const data = await response.json();\n            if (data.animals && data.animals.length > 0) {\n                // HIERARCHISCH: Animals mit Subcategory-spezifischen Recent Items anordnen\n                const animalsRecentItems = loadRecentItemsFromStorage(\"animals\", selectedCategory?.slug, subcategorySlug);\n                const arrangedAnimals = arrangeItemsWithRecent(data.animals, animalsRecentItems);\n                setRecentItems(animalsRecentItems); // State aktualisieren\n                // Animals setzen\n                setAnimals(arrangedAnimals);\n                setError(null);\n            } else {\n                // Keine Tiere gefunden - leeres Array setzen\n                setAnimals([]);\n                setError(\"Keine Tiere in dieser Kategorie gefunden.\");\n                console.log(` Keine Tiere fr Subkategorie '${subcategorySlug}' gefunden`);\n            }\n        } catch (err) {\n            console.error(\"Error loading animals:\", err);\n            setError(\"Fehler beim Laden der Tier-Eintr\\xe4ge!\");\n            setAnimals([]);\n        } finally{\n            setLoading(false);\n        }\n    };\n    // Tier-Klick Handler mit Voice-Over und Abzeichen\n    const handleAnimalClick = (animal)=>{\n        if (currentView === \"transitioning\") return;\n        // Stoppe vorheriges Audio\n        if (window.currentAudio) {\n            window.currentAudio.pause();\n            window.currentAudio.currentTime = 0;\n        }\n        // Setze aktuell spielendes Tier (ohne Verzgerung fr sofortige grne Outline)\n        console.log(` OLD currentlyPlaying: ${currentlyPlaying}, NEW: ${animal.id}`);\n        setCurrentlyPlaying(animal.id);\n        // HIERARCHISCH: Animal zu Animals Recent Items hinzufgen (bestimme Subcategory dynamisch)\n        const currentSubcategory = animals.find((a)=>a.id === animal.id)?.category || \"unknown\";\n        addToRecent(animal.id, \"animals\", selectedCategory?.slug, currentSubcategory);\n        // Markiere als gehrt (fr Abzeichen) - mit Local Storage\n        if (!playedAnimals.includes(animal.id)) {\n            const newPlayedAnimals = [\n                ...playedAnimals,\n                animal.id\n            ];\n            setPlayedAnimals(newPlayedAnimals);\n            savePlayedAnimalsToStorage(newPlayedAnimals);\n        }\n        // Audio abspielen\n        if (animal.audio && animal.audio.path) {\n            playAudio(`/${animal.audio.path}`);\n            // Reset currently playing wenn Audio beendet ist\n            if (window.currentAudio) {\n                window.currentAudio.addEventListener(\"ended\", ()=>{\n                    setCurrentlyPlaying(null);\n                }, {\n                    once: true\n                }); // Event nur einmal verwenden\n            }\n        } else {\n            // Kein Audio vorhanden - nach kurzer Zeit reset\n            setTimeout(()=>{\n                setCurrentlyPlaying(null);\n            }, 2000);\n        }\n    };\n    // Zurck zu Hauptkategorien mit Animation\n    const handleBackToCategories = async ()=>{\n        if (currentView === \"transitioning\") return;\n        setCurrentView(\"transitioning\");\n        setClickedItemId(null);\n        setGlobalAnimationDirection(getRandomDirection());\n        setCurrentGridAnimation(_utils_animationManager__WEBPACK_IMPORTED_MODULE_5__.animationManager.getRandomGridAnimation());\n        await new Promise((resolve)=>setTimeout(resolve, 1800));\n        setSelectedCategory(null);\n        setSubcategories([]);\n        setAnimals([]);\n        setCharacterContext(\"idle\");\n        setCurrentlyPlaying(null);\n        setCurrentView(\"main\");\n        await loadCategories();\n        setAnimationKey((k)=>k + 1); // AnimationKey nach Pool-Update erhhen\n    };\n    // Zurck zu Subkategorien von Animal-Ansicht mit Animation\n    const handleBackToSubcategories = async ()=>{\n        if (currentView === \"transitioning\") return;\n        setCurrentView(\"transitioning\");\n        setClickedItemId(null);\n        setGlobalAnimationDirection(getRandomDirection());\n        setCurrentGridAnimation(_utils_animationManager__WEBPACK_IMPORTED_MODULE_5__.animationManager.getRandomGridAnimation());\n        await new Promise((resolve)=>setTimeout(resolve, 1800));\n        setIsGridVisible(false); // Grid sofort unsichtbar machen\n        setAnimals([]);\n        setCurrentlyPlaying(null);\n        setCharacterContext(selectedCategory ? selectedCategory.slug : \"idle\");\n        setCurrentView(\"category\");\n        let preloadPromise = Promise.resolve();\n        if (selectedCategory) {\n            // 1. Lade Daten und starte Preloading SOFORT\n            const data = await (await fetch(`/api/categories/${selectedCategory.slug}`)).json();\n            const imageUrls = getAllImageUrlsForCategory(data.category);\n            preloadPromise = preloadImages(imageUrls);\n            await loadCategoryDetails(selectedCategory.slug);\n        }\n        setTimeout(async ()=>{\n            await preloadPromise;\n            setAnimationKey((k)=>k + 1);\n            setIsGridVisible(true);\n        }, 0);\n    };\n    // Character Emotion-Change Handler\n    const handleCharacterEmotionChange = (emotion)=>{\n        console.log(`Character emotion changed to: ${emotion}`);\n    // Hier knnen spter Sounds oder andere Effekte getriggert werden\n    };\n    // Scroll Handler fr Scroll-Indikator\n    const handleScroll = ()=>{\n        const container = scrollContainerRef.current;\n        if (container) {\n            const scrollTop = container.scrollTop;\n            const scrollHeight = container.scrollHeight - container.clientHeight;\n            const progress = scrollHeight > 0 ? scrollTop / scrollHeight * 100 : 0;\n            setScrollProgress(Math.min(100, Math.max(0, progress)));\n        }\n    };\n    // Zufllige Richtung fr ALLE Tiles gemeinsam\n    const getRandomDirection = ()=>{\n        const directions = [\n            \"down\",\n            \"up\",\n            \"left\",\n            \"right\",\n            \"up-left\",\n            \"up-right\",\n            \"down-left\",\n            \"down-right\"\n        ];\n        return directions[Math.floor(Math.random() * directions.length)];\n    };\n    // Bestimme Animation-Mode fr ein Tile\n    const getAnimationMode = (itemId)=>{\n        if (currentView === \"transitioning\") {\n            if (clickedItemId === itemId) {\n                console.log(` CLICKED TILE: ${itemId} (matches clickedItemId: ${clickedItemId})`);\n                return \"clicked\";\n            } else {\n                return `fall-out-${globalAnimationDirection}`;\n            }\n        }\n        // Normale Position - keine individuelle Animation\n        return null;\n    };\n    // Tile Pool Management - Aktualisiere nur Inhalte\n    const updateTilePool = (items)=>{\n        // SPEZIAL: Whrend Transition nur Animation-Modi updaten, KEINE Content-Changes!\n        if (currentView === \"transitioning\") {\n            console.log(\"\\uD83C\\uDFAD Updating ONLY animation modes during transition\");\n            setTilePool((prev)=>{\n                const updated = [\n                    ...prev\n                ];\n                // Nur Animation-Modi updaten, Content und onClick NICHT ndern!\n                updated.forEach((tile)=>{\n                    if (tile.isVisible && tile.content) {\n                        const newAnimationMode = getAnimationMode(tile.content.id);\n                        if (tile.animationMode !== newAnimationMode) {\n                            tile.animationMode = newAnimationMode;\n                            console.log(` Updated animation for ${tile.content.name}: ${newAnimationMode}`);\n                        }\n                    }\n                });\n                return updated;\n            });\n            return;\n        }\n        setTilePool((prev)=>{\n            const updated = [\n                ...prev\n            ];\n            // 1. Mark all tiles as not updated\n            updated.forEach((tile)=>{\n                tile._updated = false;\n            });\n            // 2. Update or reuse tiles for new items\n            items.forEach((item, index)=>{\n                if (index < TILE_POOL_SIZE) {\n                    const tile = updated[index];\n                    const prevContentId = tile.content?.id;\n                    if (tile.isVisible && prevContentId === item.id) {\n                        // Only update animationMode and other dynamic fields\n                        // Debug: Reusing tile\n                        if (index < 5) console.log(`[POOL] REUSE tile-${index}: contentId=${item.id}`);\n                        tile.animationMode = getAnimationMode(item.id);\n                        tile.onClick = currentView === \"main\" ? handleCategoryClick : currentView === \"category\" ? handleSubcategoryClick : currentView === \"animals\" ? handleAnimalClick : null;\n                        tile.isAnimal = currentView === \"animals\";\n                        tile.isPlayed = currentView === \"animals\" ? playedAnimals.includes(item.id) : false;\n                        tile.isCurrentlyPlaying = currentView === \"animals\" ? currentlyPlaying === item.id : false;\n                        tile._updated = true;\n                    } else {\n                        // Debug: Assigning new content to tile\n                        if (index < 5) console.log(`[POOL] ASSIGN tile-${index}: contentId=${item.id} (was ${prevContentId})`);\n                        tile.isVisible = true;\n                        tile.content = item;\n                        tile.animationMode = getAnimationMode(item.id);\n                        tile.onClick = currentView === \"main\" ? handleCategoryClick : currentView === \"category\" ? handleSubcategoryClick : currentView === \"animals\" ? handleAnimalClick : null;\n                        tile.isAnimal = currentView === \"animals\";\n                        tile.isPlayed = currentView === \"animals\" ? playedAnimals.includes(item.id) : false;\n                        tile.isCurrentlyPlaying = currentView === \"animals\" ? currentlyPlaying === item.id : false;\n                        tile._updated = true;\n                    }\n                }\n            });\n            // 3. Hide tiles that are not used\n            updated.forEach((tile, index)=>{\n                if (!tile._updated) {\n                    if (index < 5) console.log(`[POOL] RESET tile-${index}: was contentId=${tile.content?.id}`);\n                    tile.isVisible = false;\n                    tile.content = null;\n                    tile.animationMode = null;\n                    tile.onClick = null;\n                    tile.isAnimal = false;\n                    tile.isPlayed = false;\n                    tile.isCurrentlyPlaying = false;\n                }\n                delete tile._updated;\n            });\n            // Only keep this summary log for pool\n            console.log(` Tile pool updated: ${items.length} visible tiles, view: ${currentView}`);\n            return updated;\n        });\n    };\n    // Zentrale Funktion: Welche Items sollen aktuell gerendert werden?\n    const getCurrentItems = ()=>{\n        if (currentView === \"main\" || !selectedCategory && currentView !== \"animals\") {\n            return categories;\n        } else if (currentView === \"category\" || selectedCategory && subcategories.length > 0 && currentView === \"transitioning\") {\n            return subcategories;\n        } else if (currentView === \"animals\") {\n            // Animals in CategoryTile-Format konvertieren\n            return animals.map((animal)=>({\n                    id: animal.id,\n                    name: animal.name,\n                    slug: animal.slug,\n                    image: animal.image,\n                    audio: animal.audio\n                }));\n        }\n        return [];\n    };\n    // Zentrale Funktion: Soll Grid-Animation laufen?\n    const shouldUseGridAnimation = ()=>{\n        return currentView !== \"transitioning\";\n    };\n    // Tile Pool aktualisieren wenn sich Inhalte ndern\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const currentItems = getCurrentItems();\n        console.log(` Updating tile pool for ${currentView}:`, currentItems.length, \"items\", currentItems);\n        // Nur updaten wenn wir tatschlich Items haben oder explizit leeren wollen\n        if (currentItems.length > 0 || currentView === \"main\" && categories.length === 0) {\n            updateTilePool(currentItems);\n        }\n    }, [\n        categories,\n        subcategories,\n        animals,\n        currentView,\n        playedAnimals,\n        currentlyPlaying,\n        clickedItemId,\n        globalAnimationDirection\n    ]);\n    // Debug useEffect fr Back Navigation\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        console.log(` State Update - View: ${currentView}, Categories: ${categories.length}, Subcategories: ${subcategories.length}, Animals: ${animals.length}`);\n        tilePool.filter((t)=>t.isVisible).forEach((tile, index)=>{\n            console.log(`  Tile ${index}: ${tile.content?.name || \"No name\"}`);\n        });\n    }, [\n        currentView,\n        categories,\n        subcategories,\n        animals,\n        tilePool\n    ]);\n    // Initial Kategorien laden\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        loadCategories();\n        setCurrentView(\"main\");\n    }, []);\n    // Lade gespeicherte gehrte Tiere beim Start\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const savedPlayedAnimals = loadPlayedAnimalsFromStorage();\n        setPlayedAnimals(savedPlayedAnimals);\n        // HIERARCHISCH: Lade Initial Recent Items fr Main-View\n        const savedRecentItems = loadRecentItemsFromStorage(\"main\");\n        setRecentItems(savedRecentItems);\n    }, []);\n    // Kategorien, Subkategorien und Animals werden automatisch mit Recent Items angeordnet\n    // beim Laden durch arrangeItemsWithRecent() - kein separates useEffect ntig\n    // Fullscreen logic\n    const handleToggleFullscreen = ()=>{\n        if (!isFullscreen) {\n            const elem = document.documentElement;\n            if (elem.requestFullscreen) {\n                elem.requestFullscreen();\n            } else if (elem.mozRequestFullScreen) {\n                elem.mozRequestFullScreen();\n            } else if (elem.webkitRequestFullscreen) {\n                elem.webkitRequestFullscreen();\n            } else if (elem.msRequestFullscreen) {\n                elem.msRequestFullscreen();\n            }\n        } else {\n            if (document.exitFullscreen) {\n                document.exitFullscreen();\n            } else if (document.mozCancelFullScreen) {\n                document.mozCancelFullScreen();\n            } else if (document.webkitExitFullscreen) {\n                document.webkitExitFullscreen();\n            } else if (document.msExitFullscreen) {\n                document.msExitFullscreen();\n            }\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const fullscreenChangeHandler = ()=>{\n            setIsFullscreen(!!(document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement));\n        };\n        document.addEventListener(\"fullscreenchange\", fullscreenChangeHandler);\n        document.addEventListener(\"webkitfullscreenchange\", fullscreenChangeHandler);\n        document.addEventListener(\"mozfullscreenchange\", fullscreenChangeHandler);\n        document.addEventListener(\"MSFullscreenChange\", fullscreenChangeHandler);\n        return ()=>{\n            document.removeEventListener(\"fullscreenchange\", fullscreenChangeHandler);\n            document.removeEventListener(\"webkitfullscreenchange\", fullscreenChangeHandler);\n            document.removeEventListener(\"mozfullscreenchange\", fullscreenChangeHandler);\n            document.removeEventListener(\"MSFullscreenChange\", fullscreenChangeHandler);\n        };\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"container\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_head__WEBPACK_IMPORTED_MODULE_2___default()), {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"title\", {\n                        children: \"Kinderlexikon - Entdecke die Welt!\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                        lineNumber: 798,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"description\",\n                        content: \"Interaktives Kinderlexikon f\\xfcr Vorschulkinder (3-7 Jahre)\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                        lineNumber: 799,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"viewport\",\n                        content: \"width=device-width, initial-scale=1\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                        lineNumber: 800,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"link\", {\n                        rel: \"icon\",\n                        href: \"/favicon.ico\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                        lineNumber: 801,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                lineNumber: 797,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"character-section\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"character-buttons-row\",\n                        children: [\n                            (selectedCategory || currentView === \"animals\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"back-button\",\n                                onClick: currentView === \"animals\" ? handleBackToSubcategories : handleBackToCategories,\n                                title: currentView === \"animals\" ? \"Zur\\xfcck zu den Unterkategorien\" : \"Zur\\xfcck zu den Hauptkategorien\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                    src: \"/websiteBaseImages/back button.png\",\n                                    alt: \"Zur\\xfcck\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                    lineNumber: 813,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                lineNumber: 808,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"fullscreen-button\",\n                                onClick: handleToggleFullscreen,\n                                title: isFullscreen ? \"Vollbildmodus verlassen\" : \"Vollbildmodus aktivieren\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                    src: isFullscreen ? \"/websiteBaseImages/closeButton.png\" : \"/websiteBaseImages/Fullscreen.png\",\n                                    alt: isFullscreen ? \"Schlie\\xdfen\" : \"Fullscreen\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                    lineNumber: 821,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                lineNumber: 816,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"info-button\",\n                                onClick: ()=>setShowInfo(true),\n                                title: \"Info \\xfcber das Lexikon\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                    src: \"/websiteBaseImages/info.png\",\n                                    alt: \"Info\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                    lineNumber: 828,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                lineNumber: 823,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                        lineNumber: 806,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Character__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                        currentContext: loading || error ? \"idle\" : characterContext,\n                        onEmotionChange: handleCharacterEmotionChange\n                    }, \"main-character\" // Fester Key - wird nur EINMAL gemountet\n                    , false, {\n                        fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                        lineNumber: 831,\n                        columnNumber: 9\n                    }, this),\n                    showInfo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"info-overlay-modal\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"info-overlay-content\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"info-overlay-close\",\n                                    onClick: ()=>setShowInfo(false),\n                                    title: \"Schlie\\xdfen\",\n                                    children: \"\\xd7\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                    lineNumber: 840,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    children: \"Warum ich dieses Kinderlexikon gemacht habe\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                    lineNumber: 841,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: [\n                                        \"Ich habe dieses Kinderlexikon f\\xfcr meine eigenen Kinder erstellt, weil sie ein gro\\xdfes Interesse an Tieren und Wissen im Allgemeinen haben. Leider haben wir bisher kein Lexikon gefunden, das auch f\\xfcr Kinder geeignet ist, die noch nicht lesen k\\xf6nnen. Deshalb habe ich angefangen, ein interaktives, gesprochenes Lexikon zu entwickeln  mit Bildern, einfacher Sprache und Audiounterst\\xfctzung.\",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 843,\n                                            columnNumber: 403\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 843,\n                                            columnNumber: 408\n                                        }, this),\n                                        \"Derzeit gibt es nur die Kategorie Tiere, aber wenn meine Kinder oder auch andere Kinder Interesse an weiteren Kategorien haben, w\\xfcrde ich das Lexikon gerne erweitern. Ihr k\\xf6nnt mir gerne mitteilen, welche Themen ihr euch w\\xfcnscht  ich freue mich \\xfcber Vorschl\\xe4ge!\",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 844,\n                                            columnNumber: 281\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 844,\n                                            columnNumber: 286\n                                        }, this),\n                                        \"Jede neue Hauptkategorie kostet mich jedoch rund 50, da ich die Bilder, Texte und Voiceovers mithilfe von KI generieren lasse. Diese Kosten kann ich aktuell nicht selbst tragen. Falls ihr das Projekt unterst\\xfctzen wollt, k\\xf6nnt ihr gerne \\xfcber den Donate-Button eine kleine Spende dalassen  ich w\\xfcrde dann die entsprechende Kategorie hinzuf\\xfcgen.\",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 845,\n                                            columnNumber: 362\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 845,\n                                            columnNumber: 367\n                                        }, this),\n                                        \"Mein Ziel ist es, ein richtiges Lexikon f\\xfcr Kinder zu schaffen  zug\\xe4nglich, unterhaltsam und kindgerecht, auch f\\xfcr die J\\xfcngsten.\",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 846,\n                                            columnNumber: 146\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 846,\n                                            columnNumber: 151\n                                        }, this),\n                                        \"Auch eine \\xdcbersetzung in andere Sprachen ist geplant. Daf\\xfcr m\\xfcsste ich jedoch noch zus\\xe4tzliche Entwicklungszeit investieren, um den Support daf\\xfcr technisch besser umzusetzen. Falls daran Interesse besteht, k\\xf6nnten wir gerne dar\\xfcber sprechen.\",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 847,\n                                            columnNumber: 258\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 847,\n                                            columnNumber: 263\n                                        }, this),\n                                        \"Wenn ihr mich zus\\xe4tzlich unterst\\xfctzen m\\xf6chtet, schaut gerne bei meinen Spielen vorbei oder setzt sie auf eure Wunschliste:\",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 848,\n                                            columnNumber: 139\n                                        }, this),\n                                        \"\\uD83D\\uDC49 Meine Entwicklerseite auf Steam \",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                            href: \"https://store.steampowered.com/curator/33183467\",\n                                            target: \"_blank\",\n                                            rel: \"noopener noreferrer\",\n                                            children: \"@https://store.steampowered.com/curator/33183467\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 849,\n                                            columnNumber: 52\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 849,\n                                            columnNumber: 204\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 849,\n                                            columnNumber: 209\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"b\", {\n                                            children: \"Technischer Hinweis & Attribution:\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 850,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 850,\n                                            columnNumber: 58\n                                        }, this),\n                                        \"Dieses Lexikon wurde mit Hilfe von K\\xfcnstlicher Intelligenz erstellt:\",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 851,\n                                            columnNumber: 85\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"b\", {\n                                            children: \"Bilder:\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 852,\n                                            columnNumber: 17\n                                        }, this),\n                                        \" generiert mit OpenAI\",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 852,\n                                            columnNumber: 52\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"b\", {\n                                            children: \"Voiceover:\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 853,\n                                            columnNumber: 17\n                                        }, this),\n                                        \" erstellt mit ElevenLabs\",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 853,\n                                            columnNumber: 58\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"b\", {\n                                            children: \"Code & Umsetzung:\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 854,\n                                            columnNumber: 17\n                                        }, this),\n                                        \" mit Hilfe von Cursor und verschiedenen Language Models (LLMs)\",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 854,\n                                            columnNumber: 103\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"b\", {\n                                            children: \"Soundeffekt:\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 855,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 855,\n                                            columnNumber: 36\n                                        }, this),\n                                        \"Boy Laughing (5 y.o.) von Nakhas  freesound.org/s/506937/  Lizenz: Creative Commons 0\",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 856,\n                                            columnNumber: 106\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 856,\n                                            columnNumber: 111\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"b\", {\n                                            children: \"Bekannte Probleme:\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 857,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 857,\n                                            columnNumber: 42\n                                        }, this),\n                                        \" Bei der Nutzung mit dem Firefox-Browser kann es aktuell zu Bildflackern kommen. Bitte nutzt in diesem Fall vor\\xfcbergehend einen anderen Browser (z.B. Chrome, Edge oder Safari), bis das Problem behoben ist.\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                    lineNumber: 842,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                            lineNumber: 839,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                        lineNumber: 838,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                lineNumber: 805,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"categories-section\",\n                ref: scrollContainerRef,\n                onScroll: handleScroll,\n                children: [\n                    loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"loading-spinner\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"spinner\"\n                        }, void 0, false, {\n                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                            lineNumber: 874,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                        lineNumber: 873,\n                        columnNumber: 11\n                    }, this),\n                    error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"error-message\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                children: \"Oops! \\uD83D\\uDE05\"\n                            }, void 0, false, {\n                                fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                lineNumber: 881,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: error\n                            }, void 0, false, {\n                                fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                lineNumber: 882,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: loadCategories,\n                                style: {\n                                    background: \"#4caf50\",\n                                    color: \"white\",\n                                    border: \"none\",\n                                    borderRadius: \"10px\",\n                                    padding: \"12px 24px\",\n                                    fontSize: \"1rem\",\n                                    cursor: \"pointer\",\n                                    marginTop: \"1rem\"\n                                },\n                                children: \"Nochmal versuchen\"\n                            }, void 0, false, {\n                                fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                lineNumber: 883,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                        lineNumber: 880,\n                        columnNumber: 11\n                    }, this),\n                    !loading && !error && allImagesLoaded && isGridVisible && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_motion_framer_motion__WEBPACK_IMPORTED_MODULE_6__.motion.div, {\n                        className: `tile-grid`,\n                        variants: _utils_animationManager__WEBPACK_IMPORTED_MODULE_5__.animationManager.getGridVariants(currentGridAnimation),\n                        initial: \"hidden\",\n                        animate: \"visible\",\n                        style: {\n                            opacity: tilePool.some((tile)=>tile.isVisible) ? 1 : 0,\n                            transition: \"opacity 0.1s ease\"\n                        },\n                        children: tilePool.map((poolTile, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_CategoryTile__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                tileKey: poolTile.id,\n                                poolTile: poolTile,\n                                delay: poolTile.isVisible ? _utils_animationManager__WEBPACK_IMPORTED_MODULE_5__.animationManager.getTileDelay(tilePool.filter((t, i)=>t.isVisible && i <= index).length - 1, tilePool.filter((t)=>t.isVisible).length, currentGridAnimation) : 0\n                            }, poolTile.id, false, {\n                                fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                lineNumber: 914,\n                                columnNumber: 15\n                            }, this))\n                    }, void 0, false, {\n                        fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                        lineNumber: 903,\n                        columnNumber: 11\n                    }, this),\n                    selectedCategory && subcategories.length === 0 && currentView === \"category\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            textAlign: \"center\",\n                            padding: \"3rem\"\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            style: {\n                                fontSize: \"1.2rem\",\n                                color: \"#666\"\n                            },\n                            children: \"Hier entstehen bald spannende Unterkategorien! \\uD83D\\uDEA7\"\n                        }, void 0, false, {\n                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                            lineNumber: 931,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                        lineNumber: 930,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                lineNumber: 866,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"scroll-indicator\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"scroll-thumb\",\n                    style: {\n                        height: `${Math.max(15, scrollProgress)}%`,\n                        transform: `translateY(${scrollProgress * 0.8}%)`\n                    }\n                }, void 0, false, {\n                    fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                    lineNumber: 940,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                lineNumber: 939,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n        lineNumber: 796,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUM7d0JBQzFDeVEsV0FBVyxDQUFDLFdBQVcsRUFBRXpRLGlCQUFpQixJQUFJLEVBQUUsQ0FBQztvQkFDbkQ7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBS1YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9raW5kZXJsZXhpa29uLy4vcGFnZXMvaW5kZXguanM/YmVlNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IEhlYWQgZnJvbSAnbmV4dC9oZWFkJztcbmltcG9ydCBDaGFyYWN0ZXIgZnJvbSAnLi4vY29tcG9uZW50cy9DaGFyYWN0ZXInO1xuaW1wb3J0IENhdGVnb3J5VGlsZSBmcm9tICcuLi9jb21wb25lbnRzL0NhdGVnb3J5VGlsZSc7XG5pbXBvcnQgeyBtb3Rpb24gfSBmcm9tICdmcmFtZXItbW90aW9uJztcbmltcG9ydCB7IGFuaW1hdGlvbk1hbmFnZXIgfSBmcm9tICcuLi91dGlscy9hbmltYXRpb25NYW5hZ2VyJztcbi8vIFJFTU9WRTogaW1wb3J0IHsgQW5pbWF0ZVByZXNlbmNlIH0gZnJvbSAnZnJhbWVyLW1vdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEhvbWUoKSB7XG4gIGNvbnN0IFtjYXRlZ29yaWVzLCBzZXRDYXRlZ29yaWVzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW3NlbGVjdGVkQ2F0ZWdvcnksIHNldFNlbGVjdGVkQ2F0ZWdvcnldID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtzdWJjYXRlZ29yaWVzLCBzZXRTdWJjYXRlZ29yaWVzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2FuaW1hbHMsIHNldEFuaW1hbHNdID0gdXNlU3RhdGUoW10pOyBcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtjaGFyYWN0ZXJDb250ZXh0LCBzZXRDaGFyYWN0ZXJDb250ZXh0XSA9IHVzZVN0YXRlKCdpZGxlJyk7XG4gIGNvbnN0IFtjdXJyZW50Vmlldywgc2V0Q3VycmVudFZpZXddID0gdXNlU3RhdGUoJ21haW4nKTsgLy8gJ21haW4nLCAnY2F0ZWdvcnknLCAnYW5pbWFscycsICd0cmFuc2l0aW9uaW5nJ1xuICBjb25zdCBbY2xpY2tlZEl0ZW1JZCwgc2V0Q2xpY2tlZEl0ZW1JZF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW3Njcm9sbFByb2dyZXNzLCBzZXRTY3JvbGxQcm9ncmVzc10gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW3JlY2VudEl0ZW1zLCBzZXRSZWNlbnRJdGVtc10gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtwbGF5ZWRBbmltYWxzLCBzZXRQbGF5ZWRBbmltYWxzXSA9IHVzZVN0YXRlKFtdKTsgXG4gIGNvbnN0IFtjdXJyZW50bHlQbGF5aW5nLCBzZXRDdXJyZW50bHlQbGF5aW5nXSA9IHVzZVN0YXRlKG51bGwpOyBcbiAgY29uc3Qgc2Nyb2xsQ29udGFpbmVyUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBbc2hvd0dyaWQsIHNldFNob3dHcmlkXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbYW5pbWF0aW9uS2V5LCBzZXRBbmltYXRpb25LZXldID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFtpc0dyaWRWaXNpYmxlLCBzZXRJc0dyaWRWaXNpYmxlXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbYWxsSW1hZ2VzTG9hZGVkLCBzZXRBbGxJbWFnZXNMb2FkZWRdID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtpc0Z1bGxzY3JlZW4sIHNldElzRnVsbHNjcmVlbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93SW5mbywgc2V0U2hvd0luZm9dID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vIEltYWdlIFByZWxvYWRpbmcgU3RhdGVcbiAgY29uc3QgW3ByZWxvYWRlZERhdGEsIHNldFByZWxvYWRlZERhdGFdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtpc1ByZWxvYWRpbmcsIHNldElzUHJlbG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgLy8gVGlsZSBQb29sIFN5c3RlbSAtIDEwMCBmZXN0ZSBUaWxlc1xuICBjb25zdCBUSUxFX1BPT0xfU0laRSA9IDEwMDtcbiAgY29uc3QgW3RpbGVQb29sLCBzZXRUaWxlUG9vbF0gPSB1c2VTdGF0ZSgoKSA9PiB7XG4gICAgLy8gSW5pdGlhbGlzaWVyZSAxMDAgbGVlcmUgVGlsZXNcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aDogVElMRV9QT09MX1NJWkUgfSwgKF8sIGluZGV4KSA9PiAoe1xuICAgICAgaWQ6IGB0aWxlLSR7aW5kZXh9YCxcbiAgICAgIGlzVmlzaWJsZTogZmFsc2UsXG4gICAgICBjb250ZW50OiBudWxsLFxuICAgICAgYW5pbWF0aW9uTW9kZTogbnVsbCxcbiAgICAgIGlzQW5pbWFsOiBmYWxzZSxcbiAgICAgIGlzUGxheWVkOiBmYWxzZSxcbiAgICAgIGlzQ3VycmVudGx5UGxheWluZzogZmFsc2UsXG4gICAgICBvbkNsaWNrOiBudWxsXG4gICAgfSkpO1xuICB9KTtcblxuICAvLyBaZW50cmFsZXIgQW5pbWF0aW9uIFN0YXRlXG4gIGNvbnN0IFtjdXJyZW50R3JpZEFuaW1hdGlvbiwgc2V0Q3VycmVudEdyaWRBbmltYXRpb25dID0gdXNlU3RhdGUoJ3NsaWRlRnJvbUxlZnQnKTtcbiAgY29uc3QgW2dsb2JhbEFuaW1hdGlvbkRpcmVjdGlvbiwgc2V0R2xvYmFsQW5pbWF0aW9uRGlyZWN0aW9uXSA9IHVzZVN0YXRlKCdkb3duJyk7XG5cbiAgLy8gTG9jYWwgU3RvcmFnZSBVdGlsaXR5LUZ1bmt0aW9uZW5cbiAgY29uc3Qgc2F2ZVBsYXllZEFuaW1hbHNUb1N0b3JhZ2UgPSAocGxheWVkTGlzdCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgna2luZGVybGV4aWtvbl9wbGF5ZWRfYW5pbWFscycsIEpTT04uc3RyaW5naWZ5KHBsYXllZExpc3QpKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIHRvIGxvY2FsU3RvcmFnZTonLCBlcnJvcik7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGxvYWRQbGF5ZWRBbmltYWxzRnJvbVN0b3JhZ2UgPSAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHNhdmVkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2tpbmRlcmxleGlrb25fcGxheWVkX2FuaW1hbHMnKTtcbiAgICAgIHJldHVybiBzYXZlZCA/IEpTT04ucGFyc2Uoc2F2ZWQpIDogW107XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgZnJvbSBsb2NhbFN0b3JhZ2U6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfTtcblxuICAvLyBISUVSQVJDSElTQ0hFUyBSZWNlbnQgSXRlbXMgTG9jYWwgU3RvcmFnZSBTeXN0ZW1cbiAgY29uc3QgZ2V0U3RvcmFnZUtleSA9IChsZXZlbCwgY2F0ZWdvcnlTbHVnID0gbnVsbCwgc3ViY2F0ZWdvcnlTbHVnID0gbnVsbCkgPT4ge1xuICAgIGlmIChsZXZlbCA9PT0gJ21haW4nKSByZXR1cm4gJ2tpbmRlcmxleGlrb25fcmVjZW50X21haW4nO1xuICAgIGlmIChsZXZlbCA9PT0gJ2NhdGVnb3J5JyAmJiBjYXRlZ29yeVNsdWcpIHJldHVybiBga2luZGVybGV4aWtvbl9yZWNlbnRfY2F0XyR7Y2F0ZWdvcnlTbHVnfWA7XG4gICAgaWYgKGxldmVsID09PSAnYW5pbWFscycgJiYgY2F0ZWdvcnlTbHVnICYmIHN1YmNhdGVnb3J5U2x1ZykgcmV0dXJuIGBraW5kZXJsZXhpa29uX3JlY2VudF9hbmltYWxzXyR7Y2F0ZWdvcnlTbHVnfV8ke3N1YmNhdGVnb3J5U2x1Z31gO1xuICAgIHJldHVybiAna2luZGVybGV4aWtvbl9yZWNlbnRfZmFsbGJhY2snOyAvLyBGYWxsYmFja1xuICB9O1xuXG4gIGNvbnN0IHNhdmVSZWNlbnRJdGVtc1RvU3RvcmFnZSA9IChyZWNlbnRMaXN0LCBsZXZlbCwgY2F0ZWdvcnlTbHVnID0gbnVsbCwgc3ViY2F0ZWdvcnlTbHVnID0gbnVsbCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBrZXkgPSBnZXRTdG9yYWdlS2V5KGxldmVsLCBjYXRlZ29yeVNsdWcsIHN1YmNhdGVnb3J5U2x1Zyk7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KHJlY2VudExpc3QpKTtcbiAgICAgIGNvbnNvbGUubG9nKGDwn5K+IFNhdmVkIHJlY2VudCBpdGVtcyBmb3IgJHtsZXZlbH06YCwgcmVjZW50TGlzdCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyByZWNlbnQgaXRlbXMgdG8gbG9jYWxTdG9yYWdlOicsIGVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgbG9hZFJlY2VudEl0ZW1zRnJvbVN0b3JhZ2UgPSAobGV2ZWwsIGNhdGVnb3J5U2x1ZyA9IG51bGwsIHN1YmNhdGVnb3J5U2x1ZyA9IG51bGwpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qga2V5ID0gZ2V0U3RvcmFnZUtleShsZXZlbCwgY2F0ZWdvcnlTbHVnLCBzdWJjYXRlZ29yeVNsdWcpO1xuICAgICAgY29uc3Qgc2F2ZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gc2F2ZWQgPyBKU09OLnBhcnNlKHNhdmVkKSA6IFtdO1xuICAgICAgY29uc29sZS5sb2coYPCfk4IgTG9hZGVkIHJlY2VudCBpdGVtcyBmb3IgJHtsZXZlbH06YCwgcmVzdWx0KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgcmVjZW50IGl0ZW1zIGZyb20gbG9jYWxTdG9yYWdlOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH07XG5cbiAgLy8gVXRpbGl0eS1GdW5rdGlvbmVuIGbDvHIgenVmw6RsbGlnZSBBbm9yZG51bmdcbiAgY29uc3Qgc2h1ZmZsZUFycmF5ID0gKGFycmF5KSA9PiB7XG4gICAgY29uc3Qgc2h1ZmZsZWQgPSBbLi4uYXJyYXldO1xuICAgIGZvciAobGV0IGkgPSBzaHVmZmxlZC5sZW5ndGggLSAxOyBpID4gMDsgaS0tKSB7XG4gICAgICBjb25zdCBqID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGkgKyAxKSk7XG4gICAgICBbc2h1ZmZsZWRbaV0sIHNodWZmbGVkW2pdXSA9IFtzaHVmZmxlZFtqXSwgc2h1ZmZsZWRbaV1dO1xuICAgIH1cbiAgICByZXR1cm4gc2h1ZmZsZWQ7XG4gIH07XG5cbiAgY29uc3QgYXJyYW5nZUl0ZW1zV2l0aFJlY2VudCA9IChpdGVtcywgcmVjZW50SWRzID0gW10pID0+IHtcbiAgICAvLyBSZWNlbnQgSXRlbXMgaW4gZGVyIHJpY2h0aWdlbiBSZWloZW5mb2xnZSAoenVsZXR6dCBnZWtsaWNrdCB6dWVyc3QpXG4gICAgY29uc3QgcmVjZW50SXRlbXMgPSBbXTtcbiAgICByZWNlbnRJZHMuZm9yRWFjaChyZWNlbnRJZCA9PiB7XG4gICAgICBjb25zdCBpdGVtID0gaXRlbXMuZmluZChpdGVtID0+IGl0ZW0uaWQgPT09IHJlY2VudElkKTtcbiAgICAgIGlmIChpdGVtKSByZWNlbnRJdGVtcy5wdXNoKGl0ZW0pO1xuICAgIH0pO1xuICAgIFxuICAgIC8vIEFuZGVyZSBJdGVtcyB6dWbDpGxsaWcgYW5vcmRuZW5cbiAgICBjb25zdCBvdGhlckl0ZW1zID0gaXRlbXMuZmlsdGVyKGl0ZW0gPT4gIXJlY2VudElkcy5pbmNsdWRlcyhpdGVtLmlkKSk7XG4gICAgY29uc3Qgc2h1ZmZsZWRPdGhlcnMgPSBzaHVmZmxlQXJyYXkob3RoZXJJdGVtcyk7XG4gICAgXG4gICAgcmV0dXJuIFsuLi5yZWNlbnRJdGVtcywgLi4uc2h1ZmZsZWRPdGhlcnNdO1xuICB9O1xuXG4gIC8vIEhpZXJhcmNoaXNjaGVzIEFkZC10by1SZWNlbnQgU3lzdGVtXG4gIGNvbnN0IGFkZFRvUmVjZW50ID0gKGl0ZW1JZCwgbGV2ZWwsIGNhdGVnb3J5U2x1ZyA9IG51bGwsIHN1YmNhdGVnb3J5U2x1ZyA9IG51bGwpID0+IHtcbiAgICBzZXRSZWNlbnRJdGVtcyhwcmV2ID0+IHtcbiAgICAgIGNvbnN0IG5ld1JlY2VudCA9IFtpdGVtSWQsIC4uLnByZXYuZmlsdGVyKGlkID0+IGlkICE9PSBpdGVtSWQpXTtcbiAgICAgIGNvbnN0IGxpbWl0ZWRSZWNlbnQgPSBuZXdSZWNlbnQuc2xpY2UoMCwgNCk7IC8vIE51ciBsZXR6dGUgNCBiZWhhbHRlblxuICAgICAgc2F2ZVJlY2VudEl0ZW1zVG9TdG9yYWdlKGxpbWl0ZWRSZWNlbnQsIGxldmVsLCBjYXRlZ29yeVNsdWcsIHN1YmNhdGVnb3J5U2x1Zyk7IC8vIEhpZXJhcmNoaXNjaCBzcGVpY2hlcm5cbiAgICAgIHJldHVybiBsaW1pdGVkUmVjZW50O1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIENvbnRleHQtYWJow6RuZ2lnZXMgUmVjZW50IEl0ZW1zIGxhZGVuXG4gIGNvbnN0IGdldEN1cnJlbnRSZWNlbnRJdGVtcyA9ICgpID0+IHtcbiAgICBpZiAoY3VycmVudFZpZXcgPT09ICdtYWluJykge1xuICAgICAgcmV0dXJuIGxvYWRSZWNlbnRJdGVtc0Zyb21TdG9yYWdlKCdtYWluJyk7XG4gICAgfSBlbHNlIGlmIChjdXJyZW50VmlldyA9PT0gJ2NhdGVnb3J5JyAmJiBzZWxlY3RlZENhdGVnb3J5KSB7XG4gICAgICByZXR1cm4gbG9hZFJlY2VudEl0ZW1zRnJvbVN0b3JhZ2UoJ2NhdGVnb3J5Jywgc2VsZWN0ZWRDYXRlZ29yeS5zbHVnKTtcbiAgICB9IGVsc2UgaWYgKGN1cnJlbnRWaWV3ID09PSAnYW5pbWFscycgJiYgc2VsZWN0ZWRDYXRlZ29yeSkge1xuICAgICAgLy8gRsO8ciBBbmltYWxzOiBDYXRlZ29yeSArIGFrdHVlbGwgZ2VsYWRlbmUgU3ViY2F0ZWdvcnkgaWRlbnRpZml6aWVyZW5cbiAgICAgIHJldHVybiBsb2FkUmVjZW50SXRlbXNGcm9tU3RvcmFnZSgnYW5pbWFscycsIHNlbGVjdGVkQ2F0ZWdvcnkuc2x1ZywgJ2N1cnJlbnRfc3ViY2F0Jyk7XG4gICAgfVxuICAgIHJldHVybiBbXTtcbiAgfTtcblxuICAvLyBLYXRlZ29yaWVuIHZvbSBCYWNrZW5kIGxhZGVuIG1pdCB6dWbDpGxsaWdlciBBbmltYXRpb25cbiAgY29uc3QgbG9hZENhdGVnb3JpZXMgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICBjb25zb2xlLmxvZygn8J+UhCBMb2FkaW5nIGNhdGVnb3JpZXMuLi4nKTtcbiAgICAgIFxuICAgICAgLy8gWnVmw6RsbGlnZSBBbmltYXRpb24gZsO8ciBuZXVlcyBHcmlkIHfDpGhsZW5cbiAgICAgIGNvbnN0IHJhbmRvbUFuaW1hdGlvbiA9IGFuaW1hdGlvbk1hbmFnZXIuZ2V0UmFuZG9tR3JpZEFuaW1hdGlvbigpO1xuICAgICAgc2V0Q3VycmVudEdyaWRBbmltYXRpb24ocmFuZG9tQW5pbWF0aW9uKTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9jYXRlZ29yaWVzJyk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgXG4gICAgICBpZiAoZGF0YS5jYXRlZ29yaWVzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGDinIUgTG9hZGVkICR7ZGF0YS5jYXRlZ29yaWVzLmxlbmd0aH0gY2F0ZWdvcmllc2ApO1xuICAgICAgICAvLyBISUVSQVJDSElTQ0g6IEthdGVnb3JpZW4gbWl0IE1haW4tUmVjZW50LUxvZ2ljIGFub3JkbmVuXG4gICAgICAgIGNvbnN0IG1haW5SZWNlbnRJdGVtcyA9IGxvYWRSZWNlbnRJdGVtc0Zyb21TdG9yYWdlKCdtYWluJyk7XG4gICAgICAgIGNvbnN0IGFycmFuZ2VkQ2F0ZWdvcmllcyA9IGFycmFuZ2VJdGVtc1dpdGhSZWNlbnQoZGF0YS5jYXRlZ29yaWVzLCBtYWluUmVjZW50SXRlbXMpO1xuICAgICAgICBzZXRSZWNlbnRJdGVtcyhtYWluUmVjZW50SXRlbXMpOyAvLyBTdGF0ZSBha3R1YWxpc2llcmVuXG4gICAgICAgIFxuICAgICAgICBzZXRDYXRlZ29yaWVzKGFycmFuZ2VkQ2F0ZWdvcmllcyk7XG4gICAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBjYXRlZ29yaWVzIGZvdW5kJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIGNhdGVnb3JpZXM6JywgZXJyKTtcbiAgICAgIHNldEVycm9yKCdGZWhsZXIgYmVpbSBMYWRlbiBkZXIgS2F0ZWdvcmllbi4gQml0dGUgdmVyc3VjaGUgZXMgbm9jaG1hbCEnKTtcbiAgICAgIHNldENhdGVnb3JpZXMoW10pOyAvLyBFeHBsaXppdCBsZWVyZXMgQXJyYXkgc2V0emVuXG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICAvLyBTcGV6aWZpc2NoZSBLYXRlZ29yaWUgbWl0IFN1YmthdGVnb3JpZW4gbGFkZW4gbWl0IEFuaW1hdGlvblxuICBjb25zdCBsb2FkQ2F0ZWdvcnlEZXRhaWxzID0gYXN5bmMgKHNsdWcpID0+IHtcbiAgICB0cnkge1xuICAgICAgLy8gTnVyIG5ldWUgQW5pbWF0aW9uIHfDpGhsZW4gd2VubiBuaWNodCBzY2hvbiB2b24gTmF2aWdhdGlvbiBnZXNldHp0XG4gICAgICBpZiAoIWN1cnJlbnRHcmlkQW5pbWF0aW9uIHx8IGN1cnJlbnRHcmlkQW5pbWF0aW9uID09PSAnc2xpZGVGcm9tTGVmdCcpIHtcbiAgICAgICAgY29uc3QgcmFuZG9tQW5pbWF0aW9uID0gYW5pbWF0aW9uTWFuYWdlci5nZXRSYW5kb21HcmlkQW5pbWF0aW9uKCk7XG4gICAgICAgIHNldEN1cnJlbnRHcmlkQW5pbWF0aW9uKHJhbmRvbUFuaW1hdGlvbik7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvY2F0ZWdvcmllcy8ke3NsdWd9YCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgXG4gICAgICBpZiAoZGF0YS5jYXRlZ29yeSkge1xuICAgICAgICBzZXRTZWxlY3RlZENhdGVnb3J5KGRhdGEuY2F0ZWdvcnkpO1xuICAgICAgICBcbiAgICAgICAgLy8gSElFUkFSQ0hJU0NIOiBTdWJrYXRlZ29yaWVuIG1pdCBDYXRlZ29yeS1zcGV6aWZpc2NoZW4gUmVjZW50IEl0ZW1zIGFub3JkbmVuXG4gICAgICAgIGNvbnN0IHN1YmNhdHMgPSBkYXRhLmNhdGVnb3J5LnN1YmNhdGVnb3JpZXMgfHwgW107XG4gICAgICAgIGNvbnN0IGNhdGVnb3J5UmVjZW50SXRlbXMgPSBsb2FkUmVjZW50SXRlbXNGcm9tU3RvcmFnZSgnY2F0ZWdvcnknLCBzbHVnKTtcbiAgICAgICAgY29uc3QgYXJyYW5nZWRTdWJjYXRzID0gYXJyYW5nZUl0ZW1zV2l0aFJlY2VudChzdWJjYXRzLCBjYXRlZ29yeVJlY2VudEl0ZW1zKTtcbiAgICAgICAgc2V0UmVjZW50SXRlbXMoY2F0ZWdvcnlSZWNlbnRJdGVtcyk7IC8vIFN0YXRlIGFrdHVhbGlzaWVyZW5cbiAgICAgICAgXG4gICAgICAgIHNldFN1YmNhdGVnb3JpZXMoYXJyYW5nZWRTdWJjYXRzKTtcbiAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhdGVnb3J5IG5vdCBmb3VuZCcpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBjYXRlZ29yeSBkZXRhaWxzOicsIGVycik7XG4gICAgICBzZXRFcnJvcignRmVobGVyIGJlaW0gTGFkZW4gZGVyIEthdGVnb3JpZS1EZXRhaWxzIScpO1xuICAgIH1cbiAgfTtcblxuICAvLyBBdWRpby1XaWVkZXJnYWJlIEZ1bmt0aW9uIG1pdCBTdG9wLU1hbmFnZW1lbnRcbiAgY29uc3QgcGxheUF1ZGlvID0gKGF1ZGlvUGF0aCkgPT4ge1xuICAgIGlmIChhdWRpb1BhdGgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIEFsbGUgdm9yaGVyaWdlbiBBdWRpb3Mgc3RvcHBlblxuICAgICAgICBpZiAod2luZG93LmN1cnJlbnRBdWRpbykge1xuICAgICAgICAgIHdpbmRvdy5jdXJyZW50QXVkaW8ucGF1c2UoKTtcbiAgICAgICAgICB3aW5kb3cuY3VycmVudEF1ZGlvLmN1cnJlbnRUaW1lID0gMDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gTmV1ZXMgQXVkaW8gZXJzdGVsbGVuIHVuZCBhYnNwaWVsZW5cbiAgICAgICAgY29uc3QgYXVkaW8gPSBuZXcgQXVkaW8oYXVkaW9QYXRoKTtcbiAgICAgICAgd2luZG93LmN1cnJlbnRBdWRpbyA9IGF1ZGlvOyAvLyBHbG9iYWwgc3BlaWNoZXJuIGbDvHIgU3RvcC1NYW5hZ2VtZW50XG4gICAgICAgIFxuICAgICAgICBhdWRpby5wbGF5KCkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnQXVkaW8gYXV0b3BsYXkgdmVyaGluZGVydDonLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIEF1ZGlvIGF1cyBnbG9iYWxlbSBTdG9yYWdlIGVudGZlcm5lbiB3ZW5uIGJlZW5kZXRcbiAgICAgICAgYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCAoKSA9PiB7XG4gICAgICAgICAgaWYgKHdpbmRvdy5jdXJyZW50QXVkaW8gPT09IGF1ZGlvKSB7XG4gICAgICAgICAgICB3aW5kb3cuY3VycmVudEF1ZGlvID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0F1ZGlvLUZlaGxlcjonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8vIEltYWdlIFByZWxvYWRpbmcgRnVua3Rpb25cbiAgY29uc3QgcHJlbG9hZE5leHRDb250ZW50ID0gYXN5bmMgKHNsdWcsIHR5cGUgPSAnY2F0ZWdvcnknKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHNldElzUHJlbG9hZGluZyh0cnVlKTtcbiAgICAgIGNvbnNvbGUubG9nKGDwn5SEIFByZWxvYWRpbmcgJHt0eXBlfTogJHtzbHVnfWApO1xuICAgICAgXG4gICAgICAgICAgICAgbGV0IHJlc3BvbnNlO1xuICAgICAgIGlmICh0eXBlID09PSAnY2F0ZWdvcnknKSB7XG4gICAgICAgICByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL2NhdGVnb3JpZXMvJHtzbHVnfWApO1xuICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2FuaW1hbHMnKSB7XG4gICAgICAgICByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL2FuaW1hbHMvY2F0ZWdvcnkvJHtzbHVnfWApO1xuICAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIFxuICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgc2V0UHJlbG9hZGVkRGF0YSh7IHR5cGUsIHNsdWcsIGRhdGEgfSk7XG4gICAgICAgIGNvbnNvbGUubG9nKGDinIUgUHJlbG9hZGVkICR7dHlwZX0gZGF0YTpgLCBkYXRhKTtcbiAgICAgICAgXG4gICAgICAgIC8vIER5bmFtaXNjaGUgSG9zdC1Fcmtlbm51bmcgZsO8ciBtb2JpbGUgSVAtWnVncmlmZmVcbiAgICAgICAgY29uc3QgcHJvdG9jb2wgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCA6ICdodHRwOic7XG4gICAgICAgIGNvbnN0IGhvc3RuYW1lID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgOiAnbG9jYWxob3N0JztcbiAgICAgICAgY29uc3QgcG9ydCA9ICc1MDAwJztcbiAgICAgICAgY29uc3QgdGlsZVNpemUgPSAzMDA7IC8vIFRpbGUtb3B0aW1pZXJ0ZSBHcsO2w59lIC0gaMO2aGVyZSBRdWFsaXTDpHRcbiAgICAgICAgY29uc3QgcXVhbGl0eSA9IDc1OyAvLyBQZXJmb3JtYW5jZS1vcHRpbWllcnRlIFF1YWxpdMOkdFxuICAgICAgICBjb25zdCBiYXNlSW1hZ2VVcmwgPSBgJHtwcm90b2NvbH0vLyR7aG9zdG5hbWV9OiR7cG9ydH0vaW1hZ2VzL2A7XG4gICAgICAgIFxuICAgICAgICAvLyBQcmVsb2FkIEltYWdlcyBtaXQgUmVzaXplLVBhcmFtZXRlcm5cbiAgICAgICAgY29uc3QgaW1hZ2VzVG9QcmVsb2FkID0gW107XG4gICAgICAgIGlmICh0eXBlID09PSAnY2F0ZWdvcnknICYmIGRhdGEuY2F0ZWdvcnk/LnN1YmNhdGVnb3JpZXMpIHtcbiAgICAgICAgICBpbWFnZXNUb1ByZWxvYWQucHVzaCguLi5kYXRhLmNhdGVnb3J5LnN1YmNhdGVnb3JpZXMubWFwKHN1YiA9PiBcbiAgICAgICAgICAgIGAke2Jhc2VJbWFnZVVybH0ke3N1Yi5pbWFnZS5maWxlbmFtZX0/dz0ke3RpbGVTaXplfSZoPSR7dGlsZVNpemV9JnE9JHtxdWFsaXR5fWBcbiAgICAgICAgICApKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnYW5pbWFscycgJiYgZGF0YS5hbmltYWxzKSB7XG4gICAgICAgICAgaW1hZ2VzVG9QcmVsb2FkLnB1c2goLi4uZGF0YS5hbmltYWxzLm1hcChhbmltYWwgPT4gXG4gICAgICAgICAgICBgJHtiYXNlSW1hZ2VVcmx9JHthbmltYWwuaW1hZ2UuZmlsZW5hbWV9P3c9JHt0aWxlU2l6ZX0maD0ke3RpbGVTaXplfSZxPSR7cXVhbGl0eX1gXG4gICAgICAgICAgKSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFByb21pc2UuYWxsIGbDvHIgYWxsZSBCaWxkZXJcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoaW1hZ2VzVG9QcmVsb2FkLm1hcChzcmMgPT4ge1xuICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICBpbWcub25sb2FkID0gKCkgPT4gcmVzb2x2ZSgpO1xuICAgICAgICAgICAgaW1nLm9uZXJyb3IgPSAoKSA9PiByZXNvbHZlKCk7IC8vIEF1Y2ggYmVpIEZlaGxlcm4gd2VpdGVybWFjaGVuXG4gICAgICAgICAgICBpbWcuc3JjID0gc3JjO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KSk7XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZyhg8J+WvO+4jyBQcmVsb2FkZWQgJHtpbWFnZXNUb1ByZWxvYWQubGVuZ3RofSBpbWFnZXNgKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignUHJlbG9hZGluZyBlcnJvcjonLCBlcnJvcik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzUHJlbG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEhpbGZzZnVua3Rpb246IFByZWxvYWQgbWVocmVyZSBCaWxkZXIsIGdpYnQgUHJvbWlzZSB6dXLDvGNrXG4gIGFzeW5jIGZ1bmN0aW9uIHByZWxvYWRJbWFnZXModXJscykge1xuICAgIGF3YWl0IFByb21pc2UuYWxsKHVybHMubWFwKHVybCA9PiB7XG4gICAgICAvLyBQcsO8ZmUsIG9iIHNjaG9uIGltIENhY2hlXG4gICAgICBjb25zdCBjYWNoZUtleSA9IGBpbWdjYWNoZV8ke3VybH1fYDtcbiAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShjYWNoZUtleSkpIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgIC8vIFNvbnN0IEJpbGQgbGFkZW5cbiAgICAgIHJldHVybiBmZXRjaCh1cmwpXG4gICAgICAgIC50aGVuKHIgPT4gci5ibG9iKCkpXG4gICAgICAgIC50aGVuKGJsb2IgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgICAgcmVhZGVyLm9ubG9hZGVuZCA9ICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGNhY2hlS2V5LCByZWFkZXIucmVzdWx0KTtcbiAgICAgICAgICAgIH0gY2F0Y2gge31cbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJlYWRlci5vbmVycm9yID0gcmVqZWN0O1xuICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGJsb2IpO1xuICAgICAgICB9KSk7XG4gICAgfSkpO1xuICB9XG5cbiAgLy8gSGlsZnNmdW5rdGlvbjogU2FtbWxlIGFsbGUgQmlsZC1VUkxzIGbDvHIgS2F0ZWdvcmllL1N1YmthdGVnb3JpZS9UaWVyZVxuICBmdW5jdGlvbiBnZXRBbGxJbWFnZVVybHNGb3JDYXRlZ29yeShjYXRlZ29yeSkge1xuICAgIGNvbnN0IHByb3RvY29sID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgOiAnaHR0cDonO1xuICAgIGNvbnN0IGhvc3RuYW1lID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgOiAnbG9jYWxob3N0JztcbiAgICBjb25zdCBwb3J0ID0gJzUwMDAnO1xuICAgIGNvbnN0IHRpbGVTaXplID0gMzAwO1xuICAgIGNvbnN0IHF1YWxpdHkgPSA3NTtcbiAgICBpZiAoIWNhdGVnb3J5Py5zdWJjYXRlZ29yaWVzKSByZXR1cm4gW107XG4gICAgcmV0dXJuIGNhdGVnb3J5LnN1YmNhdGVnb3JpZXMubWFwKHN1YiA9PlxuICAgICAgYCR7cHJvdG9jb2x9Ly8ke2hvc3RuYW1lfToke3BvcnR9L2ltYWdlcy8ke3N1Yi5pbWFnZS5maWxlbmFtZX0/dz0ke3RpbGVTaXplfSZoPSR7dGlsZVNpemV9JnE9JHtxdWFsaXR5fWBcbiAgICApO1xuICB9XG4gIGZ1bmN0aW9uIGdldEFsbEltYWdlVXJsc0ZvckFuaW1hbHMoYW5pbWFscykge1xuICAgIGNvbnN0IHByb3RvY29sID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgOiAnaHR0cDonO1xuICAgIGNvbnN0IGhvc3RuYW1lID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgOiAnbG9jYWxob3N0JztcbiAgICBjb25zdCBwb3J0ID0gJzUwMDAnO1xuICAgIGNvbnN0IHRpbGVTaXplID0gMzAwO1xuICAgIGNvbnN0IHF1YWxpdHkgPSA3NTtcbiAgICByZXR1cm4gYW5pbWFscy5tYXAoYW5pbWFsID0+XG4gICAgICBgJHtwcm90b2NvbH0vLyR7aG9zdG5hbWV9OiR7cG9ydH0vaW1hZ2VzLyR7YW5pbWFsLmltYWdlLmZpbGVuYW1lfT93PSR7dGlsZVNpemV9Jmg9JHt0aWxlU2l6ZX0mcT0ke3F1YWxpdHl9YFxuICAgICk7XG4gIH1cblxuICAvLyBIaWxmc2Z1bmt0aW9uOiBXYXJ0ZSwgYmlzIGFsbGUgQmFzZTY0LUJpbGRlciB3aXJrbGljaCBpbSA8aW1nPiBnZWxhZGVuIHNpbmRcbiAgZnVuY3Rpb24gd2FpdEZvckFsbEltYWdlc1RvTG9hZChpbWFnZVNyY3MpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoXG4gICAgICBpbWFnZVNyY3MubWFwKHNyYyA9PiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgY29uc3QgaW1nID0gbmV3IHdpbmRvdy5JbWFnZSgpO1xuICAgICAgICBpbWcub25sb2FkID0gcmVzb2x2ZTtcbiAgICAgICAgaW1nLm9uZXJyb3IgPSByZXNvbHZlO1xuICAgICAgICBpbWcuc3JjID0gc3JjO1xuICAgICAgfSkpXG4gICAgKTtcbiAgfVxuXG4gIC8vIEhhdXB0a2F0ZWdvcmllIGFuZ2VrbGlja3QgLSBNSVQgSW1hZ2UgUHJlbG9hZGluZ1xuICBjb25zdCBoYW5kbGVDYXRlZ29yeUNsaWNrID0gYXN5bmMgKGNhdGVnb3J5KSA9PiB7XG4gICAgaWYgKGN1cnJlbnRWaWV3ID09PSAndHJhbnNpdGlvbmluZycpIHJldHVybjtcbiAgICBzZXRDdXJyZW50VmlldygndHJhbnNpdGlvbmluZycpO1xuICAgIHNldENsaWNrZWRJdGVtSWQoY2F0ZWdvcnkuaWQpO1xuICAgIHNldEdsb2JhbEFuaW1hdGlvbkRpcmVjdGlvbihnZXRSYW5kb21EaXJlY3Rpb24oKSk7XG4gICAgc2V0Q3VycmVudEdyaWRBbmltYXRpb24oYW5pbWF0aW9uTWFuYWdlci5nZXRSYW5kb21HcmlkQW5pbWF0aW9uKCkpO1xuICAgIHNldENoYXJhY3RlckNvbnRleHQoY2F0ZWdvcnkuc2x1Zyk7XG4gICAgYWRkVG9SZWNlbnQoY2F0ZWdvcnkuaWQsICdtYWluJyk7XG4gICAgaWYgKGNhdGVnb3J5LmF1ZGlvICYmIGNhdGVnb3J5LmF1ZGlvLnBhdGgpIHBsYXlBdWRpbyhgLyR7Y2F0ZWdvcnkuYXVkaW8ucGF0aH1gKTtcblxuICAgIC8vIDEuIExhZGUgRGF0ZW4gdW5kIHN0YXJ0ZSBQcmVsb2FkaW5nIFNPRk9SVFxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvY2F0ZWdvcmllcy8ke2NhdGVnb3J5LnNsdWd9YCk7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICBjb25zdCBpbWFnZVVybHMgPSBnZXRBbGxJbWFnZVVybHNGb3JDYXRlZ29yeShkYXRhLmNhdGVnb3J5KTtcbiAgICBjb25zdCBwcmVsb2FkUHJvbWlzZSA9IHByZWxvYWRJbWFnZXMoaW1hZ2VVcmxzKTtcblxuICAgIC8vIDIuIEFuaW1hdGlvbiBhYndhcnRlblxuICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxODAwKSk7XG5cbiAgICAvLyAzLiBXYXJ0ZSBhdWYgUHJlbG9hZGluZyAoZmFsbHMgbm9jaCBuaWNodCBmZXJ0aWcpXG4gICAgYXdhaXQgcHJlbG9hZFByb21pc2U7XG5cbiAgICAvLyA0LiBQb29sLVVwZGF0ZSBldGMuXG4gICAgc2V0U2VsZWN0ZWRDYXRlZ29yeShkYXRhLmNhdGVnb3J5KTtcbiAgICBjb25zdCBzdWJjYXRzID0gZGF0YS5jYXRlZ29yeS5zdWJjYXRlZ29yaWVzIHx8IFtdO1xuICAgIGNvbnN0IGNhdGVnb3J5UmVjZW50SXRlbXMgPSBsb2FkUmVjZW50SXRlbXNGcm9tU3RvcmFnZSgnY2F0ZWdvcnknLCBjYXRlZ29yeS5zbHVnKTtcbiAgICBjb25zdCBhcnJhbmdlZFN1YmNhdHMgPSBhcnJhbmdlSXRlbXNXaXRoUmVjZW50KHN1YmNhdHMsIGNhdGVnb3J5UmVjZW50SXRlbXMpO1xuICAgIHNldFJlY2VudEl0ZW1zKGNhdGVnb3J5UmVjZW50SXRlbXMpO1xuICAgIHNldFN1YmNhdGVnb3JpZXMoYXJyYW5nZWRTdWJjYXRzKTtcbiAgICBzZXRFcnJvcihudWxsKTtcbiAgICBzZXRDdXJyZW50VmlldygnY2F0ZWdvcnknKTtcbiAgICBzZXRDbGlja2VkSXRlbUlkKG51bGwpO1xuICAgIHNldEFuaW1hdGlvbktleShrID0+IGsgKyAxKTtcblxuICAgIC8vIFdhcnRlLCBiaXMgYWxsZSBCaWxkZXIgd2lya2xpY2ggZ2VsYWRlbiBzaW5kXG4gICAgY29uc3QgYmFzZTY0cyA9IHN1YmNhdHMubWFwKHN1YiA9PiB7XG4gICAgICBjb25zdCB1cmwgPSBnZXRBbGxJbWFnZVVybHNGb3JDYXRlZ29yeSh7IHN1YmNhdGVnb3JpZXM6IFtzdWJdIH0pWzBdO1xuICAgICAgY29uc3QgY2FjaGVLZXkgPSBgaW1nY2FjaGVfJHt1cmx9X2A7XG4gICAgICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oY2FjaGVLZXkpO1xuICAgIH0pO1xuICAgIHNldEFsbEltYWdlc0xvYWRlZChmYWxzZSk7XG4gICAgd2FpdEZvckFsbEltYWdlc1RvTG9hZChiYXNlNjRzKS50aGVuKCgpID0+IHNldEFsbEltYWdlc0xvYWRlZCh0cnVlKSk7XG4gIH07XG5cbiAgLy8gU3Via2F0ZWdvcmllIGFuZ2VrbGlja3QgLSBNSVQgSW1hZ2UgUHJlbG9hZGluZ1xuICBjb25zdCBoYW5kbGVTdWJjYXRlZ29yeUNsaWNrID0gYXN5bmMgKHN1YmNhdGVnb3J5KSA9PiB7XG4gICAgaWYgKGN1cnJlbnRWaWV3ID09PSAndHJhbnNpdGlvbmluZycpIHJldHVybjtcbiAgICBzZXRDdXJyZW50VmlldygndHJhbnNpdGlvbmluZycpO1xuICAgIHNldENsaWNrZWRJdGVtSWQoc3ViY2F0ZWdvcnkuaWQpO1xuICAgIHNldEdsb2JhbEFuaW1hdGlvbkRpcmVjdGlvbihnZXRSYW5kb21EaXJlY3Rpb24oKSk7XG4gICAgc2V0Q3VycmVudEdyaWRBbmltYXRpb24oYW5pbWF0aW9uTWFuYWdlci5nZXRSYW5kb21HcmlkQW5pbWF0aW9uKCkpO1xuICAgIHNldENoYXJhY3RlckNvbnRleHQoc3ViY2F0ZWdvcnkuc2x1Zyk7XG4gICAgYWRkVG9SZWNlbnQoc3ViY2F0ZWdvcnkuaWQsICdjYXRlZ29yeScsIHNlbGVjdGVkQ2F0ZWdvcnk/LnNsdWcpO1xuICAgIGlmIChzdWJjYXRlZ29yeS5hdWRpbyAmJiBzdWJjYXRlZ29yeS5hdWRpby5wYXRoKSBwbGF5QXVkaW8oYC8ke3N1YmNhdGVnb3J5LmF1ZGlvLnBhdGh9YCk7XG5cbiAgICAvLyAxLiBMYWRlIERhdGVuIHVuZCBzdGFydGUgUHJlbG9hZGluZyBTT0ZPUlRcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL2FuaW1hbHMvY2F0ZWdvcnkvJHtzdWJjYXRlZ29yeS5zbHVnfWApO1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgY29uc3QgaW1hZ2VVcmxzID0gZ2V0QWxsSW1hZ2VVcmxzRm9yQW5pbWFscyhkYXRhLmFuaW1hbHMgfHwgW10pO1xuICAgIGNvbnN0IHByZWxvYWRQcm9taXNlID0gcHJlbG9hZEltYWdlcyhpbWFnZVVybHMpO1xuXG4gICAgLy8gMi4gQW5pbWF0aW9uIGFid2FydGVuXG4gICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDE4MDApKTtcblxuICAgIC8vIDMuIFdhcnRlIGF1ZiBQcmVsb2FkaW5nIChmYWxscyBub2NoIG5pY2h0IGZlcnRpZylcbiAgICBhd2FpdCBwcmVsb2FkUHJvbWlzZTtcblxuICAgIC8vIDQuIFBvb2wtVXBkYXRlIGV0Yy5cbiAgICBjb25zdCBhbmltYWxSZWNlbnRJdGVtcyA9IGxvYWRSZWNlbnRJdGVtc0Zyb21TdG9yYWdlKCdhbmltYWxzJywgc2VsZWN0ZWRDYXRlZ29yeT8uc2x1Zywgc3ViY2F0ZWdvcnkuc2x1Zyk7XG4gICAgY29uc3QgYXJyYW5nZWRBbmltYWxzID0gYXJyYW5nZUl0ZW1zV2l0aFJlY2VudChkYXRhLmFuaW1hbHMgfHwgW10sIGFuaW1hbFJlY2VudEl0ZW1zKTtcbiAgICBzZXRSZWNlbnRJdGVtcyhhbmltYWxSZWNlbnRJdGVtcyk7XG4gICAgc2V0QW5pbWFscyhhcnJhbmdlZEFuaW1hbHMpO1xuICAgIHNldEVycm9yKG51bGwpO1xuICAgIHNldEN1cnJlbnRWaWV3KCdhbmltYWxzJyk7XG4gICAgc2V0Q2xpY2tlZEl0ZW1JZChudWxsKTtcbiAgICBzZXRBbmltYXRpb25LZXkoayA9PiBrICsgMSk7XG4gIH07XG5cbiAgLy8gVGllcmUgZsO8ciBzcGV6aWZpc2NoZSBTdWJrYXRlZ29yaWUgbGFkZW4gLSBGSVhFRCBBUEkgQ0FMTFxuICBjb25zdCBsb2FkQW5pbWFsc0ZvckNhdGVnb3J5ID0gYXN5bmMgKHN1YmNhdGVnb3J5U2x1ZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgXG4gICAgICAvLyBGSVhFRDogVmVyd2VuZGUgZGllIFN1YmthdGVnb3JpZS1TbHVnIGRpcmVrdCBmw7xyIGRhcyBGaWx0ZXJpbmdcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvYW5pbWFscy9jYXRlZ29yeS8ke3N1YmNhdGVnb3J5U2x1Z31gKTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBcbiAgICAgIGlmIChkYXRhLmFuaW1hbHMgJiYgZGF0YS5hbmltYWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gSElFUkFSQ0hJU0NIOiBBbmltYWxzIG1pdCBTdWJjYXRlZ29yeS1zcGV6aWZpc2NoZW4gUmVjZW50IEl0ZW1zIGFub3JkbmVuXG4gICAgICAgIGNvbnN0IGFuaW1hbHNSZWNlbnRJdGVtcyA9IGxvYWRSZWNlbnRJdGVtc0Zyb21TdG9yYWdlKCdhbmltYWxzJywgc2VsZWN0ZWRDYXRlZ29yeT8uc2x1Zywgc3ViY2F0ZWdvcnlTbHVnKTtcbiAgICAgICAgY29uc3QgYXJyYW5nZWRBbmltYWxzID0gYXJyYW5nZUl0ZW1zV2l0aFJlY2VudChkYXRhLmFuaW1hbHMsIGFuaW1hbHNSZWNlbnRJdGVtcyk7XG4gICAgICAgIHNldFJlY2VudEl0ZW1zKGFuaW1hbHNSZWNlbnRJdGVtcyk7IC8vIFN0YXRlIGFrdHVhbGlzaWVyZW5cbiAgICAgICAgXG4gICAgICAgIC8vIEFuaW1hbHMgc2V0emVuXG4gICAgICAgIHNldEFuaW1hbHMoYXJyYW5nZWRBbmltYWxzKTtcbiAgICAgICAgXG4gICAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gS2VpbmUgVGllcmUgZ2VmdW5kZW4gLSBsZWVyZXMgQXJyYXkgc2V0emVuXG4gICAgICAgIHNldEFuaW1hbHMoW10pO1xuICAgICAgICBzZXRFcnJvcignS2VpbmUgVGllcmUgaW4gZGllc2VyIEthdGVnb3JpZSBnZWZ1bmRlbi4nKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKGDihLnvuI8gS2VpbmUgVGllcmUgZsO8ciBTdWJrYXRlZ29yaWUgJyR7c3ViY2F0ZWdvcnlTbHVnfScgZ2VmdW5kZW5gKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgYW5pbWFsczonLCBlcnIpO1xuICAgICAgc2V0RXJyb3IoJ0ZlaGxlciBiZWltIExhZGVuIGRlciBUaWVyLUVpbnRyw6RnZSEnKTtcbiAgICAgIHNldEFuaW1hbHMoW10pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gVGllci1LbGljayBIYW5kbGVyIG1pdCBWb2ljZS1PdmVyIHVuZCBBYnplaWNoZW5cbiAgY29uc3QgaGFuZGxlQW5pbWFsQ2xpY2sgPSAoYW5pbWFsKSA9PiB7XG4gICAgaWYgKGN1cnJlbnRWaWV3ID09PSAndHJhbnNpdGlvbmluZycpIHJldHVybjtcbiAgICBcbiAgICAvLyBTdG9wcGUgdm9yaGVyaWdlcyBBdWRpb1xuICAgIGlmICh3aW5kb3cuY3VycmVudEF1ZGlvKSB7XG4gICAgICB3aW5kb3cuY3VycmVudEF1ZGlvLnBhdXNlKCk7XG4gICAgICB3aW5kb3cuY3VycmVudEF1ZGlvLmN1cnJlbnRUaW1lID0gMDtcbiAgICB9XG4gICAgXG4gICAgLy8gU2V0emUgYWt0dWVsbCBzcGllbGVuZGVzIFRpZXIgKG9obmUgVmVyesO2Z2VydW5nIGbDvHIgc29mb3J0aWdlIGdyw7xuZSBPdXRsaW5lKVxuICAgIGNvbnNvbGUubG9nKGDwn461IE9MRCBjdXJyZW50bHlQbGF5aW5nOiAke2N1cnJlbnRseVBsYXlpbmd9LCBORVc6ICR7YW5pbWFsLmlkfWApO1xuICAgIHNldEN1cnJlbnRseVBsYXlpbmcoYW5pbWFsLmlkKTtcbiAgICAvLyBISUVSQVJDSElTQ0g6IEFuaW1hbCB6dSBBbmltYWxzIFJlY2VudCBJdGVtcyBoaW56dWbDvGdlbiAoYmVzdGltbWUgU3ViY2F0ZWdvcnkgZHluYW1pc2NoKVxuICAgIGNvbnN0IGN1cnJlbnRTdWJjYXRlZ29yeSA9IGFuaW1hbHMuZmluZChhID0+IGEuaWQgPT09IGFuaW1hbC5pZCk/LmNhdGVnb3J5IHx8ICd1bmtub3duJztcbiAgICBhZGRUb1JlY2VudChhbmltYWwuaWQsICdhbmltYWxzJywgc2VsZWN0ZWRDYXRlZ29yeT8uc2x1ZywgY3VycmVudFN1YmNhdGVnb3J5KTtcbiAgICBcbiAgICAvLyBNYXJraWVyZSBhbHMgZ2Vow7ZydCAoZsO8ciBBYnplaWNoZW4pIC0gbWl0IExvY2FsIFN0b3JhZ2VcbiAgICBpZiAoIXBsYXllZEFuaW1hbHMuaW5jbHVkZXMoYW5pbWFsLmlkKSkge1xuICAgICAgY29uc3QgbmV3UGxheWVkQW5pbWFscyA9IFsuLi5wbGF5ZWRBbmltYWxzLCBhbmltYWwuaWRdO1xuICAgICAgc2V0UGxheWVkQW5pbWFscyhuZXdQbGF5ZWRBbmltYWxzKTtcbiAgICAgIHNhdmVQbGF5ZWRBbmltYWxzVG9TdG9yYWdlKG5ld1BsYXllZEFuaW1hbHMpO1xuICAgIH1cbiAgICBcbiAgICAvLyBBdWRpbyBhYnNwaWVsZW5cbiAgICBpZiAoYW5pbWFsLmF1ZGlvICYmIGFuaW1hbC5hdWRpby5wYXRoKSB7XG4gICAgICBwbGF5QXVkaW8oYC8ke2FuaW1hbC5hdWRpby5wYXRofWApO1xuICAgICAgXG4gICAgICAvLyBSZXNldCBjdXJyZW50bHkgcGxheWluZyB3ZW5uIEF1ZGlvIGJlZW5kZXQgaXN0XG4gICAgICBpZiAod2luZG93LmN1cnJlbnRBdWRpbykge1xuICAgICAgICB3aW5kb3cuY3VycmVudEF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgKCkgPT4ge1xuICAgICAgICAgIHNldEN1cnJlbnRseVBsYXlpbmcobnVsbCk7XG4gICAgICAgIH0sIHsgb25jZTogdHJ1ZSB9KTsgLy8gRXZlbnQgbnVyIGVpbm1hbCB2ZXJ3ZW5kZW5cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gS2VpbiBBdWRpbyB2b3JoYW5kZW4gLSBuYWNoIGt1cnplciBaZWl0IHJlc2V0XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgc2V0Q3VycmVudGx5UGxheWluZyhudWxsKTtcbiAgICAgIH0sIDIwMDApO1xuICAgIH1cbiAgfTtcblxuICAvLyBadXLDvGNrIHp1IEhhdXB0a2F0ZWdvcmllbiBtaXQgQW5pbWF0aW9uXG4gIGNvbnN0IGhhbmRsZUJhY2tUb0NhdGVnb3JpZXMgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKGN1cnJlbnRWaWV3ID09PSAndHJhbnNpdGlvbmluZycpIHJldHVybjtcbiAgICBzZXRDdXJyZW50VmlldygndHJhbnNpdGlvbmluZycpO1xuICAgIHNldENsaWNrZWRJdGVtSWQobnVsbCk7XG4gICAgc2V0R2xvYmFsQW5pbWF0aW9uRGlyZWN0aW9uKGdldFJhbmRvbURpcmVjdGlvbigpKTtcbiAgICBzZXRDdXJyZW50R3JpZEFuaW1hdGlvbihhbmltYXRpb25NYW5hZ2VyLmdldFJhbmRvbUdyaWRBbmltYXRpb24oKSk7XG5cbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTgwMCkpO1xuXG4gICAgc2V0U2VsZWN0ZWRDYXRlZ29yeShudWxsKTtcbiAgICBzZXRTdWJjYXRlZ29yaWVzKFtdKTtcbiAgICBzZXRBbmltYWxzKFtdKTtcbiAgICBzZXRDaGFyYWN0ZXJDb250ZXh0KCdpZGxlJyk7XG4gICAgc2V0Q3VycmVudGx5UGxheWluZyhudWxsKTtcbiAgICBzZXRDdXJyZW50VmlldygnbWFpbicpO1xuICAgIGF3YWl0IGxvYWRDYXRlZ29yaWVzKCk7XG4gICAgc2V0QW5pbWF0aW9uS2V5KGsgPT4gayArIDEpOyAvLyBBbmltYXRpb25LZXkgbmFjaCBQb29sLVVwZGF0ZSBlcmjDtmhlblxuICB9O1xuXG4gIC8vIFp1csO8Y2sgenUgU3Via2F0ZWdvcmllbiB2b24gQW5pbWFsLUFuc2ljaHQgbWl0IEFuaW1hdGlvblxuICBjb25zdCBoYW5kbGVCYWNrVG9TdWJjYXRlZ29yaWVzID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmIChjdXJyZW50VmlldyA9PT0gJ3RyYW5zaXRpb25pbmcnKSByZXR1cm47XG4gICAgc2V0Q3VycmVudFZpZXcoJ3RyYW5zaXRpb25pbmcnKTtcbiAgICBzZXRDbGlja2VkSXRlbUlkKG51bGwpO1xuICAgIHNldEdsb2JhbEFuaW1hdGlvbkRpcmVjdGlvbihnZXRSYW5kb21EaXJlY3Rpb24oKSk7XG4gICAgc2V0Q3VycmVudEdyaWRBbmltYXRpb24oYW5pbWF0aW9uTWFuYWdlci5nZXRSYW5kb21HcmlkQW5pbWF0aW9uKCkpO1xuXG4gICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDE4MDApKTtcblxuICAgIHNldElzR3JpZFZpc2libGUoZmFsc2UpOyAvLyBHcmlkIHNvZm9ydCB1bnNpY2h0YmFyIG1hY2hlblxuXG4gICAgc2V0QW5pbWFscyhbXSk7XG4gICAgc2V0Q3VycmVudGx5UGxheWluZyhudWxsKTtcbiAgICBzZXRDaGFyYWN0ZXJDb250ZXh0KHNlbGVjdGVkQ2F0ZWdvcnkgPyBzZWxlY3RlZENhdGVnb3J5LnNsdWcgOiAnaWRsZScpO1xuICAgIHNldEN1cnJlbnRWaWV3KCdjYXRlZ29yeScpO1xuICAgIGxldCBwcmVsb2FkUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xuICAgIGlmIChzZWxlY3RlZENhdGVnb3J5KSB7XG4gICAgICAvLyAxLiBMYWRlIERhdGVuIHVuZCBzdGFydGUgUHJlbG9hZGluZyBTT0ZPUlRcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCAoYXdhaXQgZmV0Y2goYC9hcGkvY2F0ZWdvcmllcy8ke3NlbGVjdGVkQ2F0ZWdvcnkuc2x1Z31gKSkuanNvbigpO1xuICAgICAgY29uc3QgaW1hZ2VVcmxzID0gZ2V0QWxsSW1hZ2VVcmxzRm9yQ2F0ZWdvcnkoZGF0YS5jYXRlZ29yeSk7XG4gICAgICBwcmVsb2FkUHJvbWlzZSA9IHByZWxvYWRJbWFnZXMoaW1hZ2VVcmxzKTtcbiAgICAgIGF3YWl0IGxvYWRDYXRlZ29yeURldGFpbHMoc2VsZWN0ZWRDYXRlZ29yeS5zbHVnKTtcbiAgICB9XG4gICAgc2V0VGltZW91dChhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBwcmVsb2FkUHJvbWlzZTtcbiAgICAgIHNldEFuaW1hdGlvbktleShrID0+IGsgKyAxKTtcbiAgICAgIHNldElzR3JpZFZpc2libGUodHJ1ZSk7XG4gICAgfSwgMCk7XG4gIH07XG5cbiAgLy8gQ2hhcmFjdGVyIEVtb3Rpb24tQ2hhbmdlIEhhbmRsZXJcbiAgY29uc3QgaGFuZGxlQ2hhcmFjdGVyRW1vdGlvbkNoYW5nZSA9IChlbW90aW9uKSA9PiB7XG4gICAgY29uc29sZS5sb2coYENoYXJhY3RlciBlbW90aW9uIGNoYW5nZWQgdG86ICR7ZW1vdGlvbn1gKTtcbiAgICAvLyBIaWVyIGvDtm5uZW4gc3DDpHRlciBTb3VuZHMgb2RlciBhbmRlcmUgRWZmZWt0ZSBnZXRyaWdnZXJ0IHdlcmRlblxuICB9O1xuXG4gIC8vIFNjcm9sbCBIYW5kbGVyIGbDvHIgU2Nyb2xsLUluZGlrYXRvclxuICBjb25zdCBoYW5kbGVTY3JvbGwgPSAoKSA9PiB7XG4gICAgY29uc3QgY29udGFpbmVyID0gc2Nyb2xsQ29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgY29uc3Qgc2Nyb2xsVG9wID0gY29udGFpbmVyLnNjcm9sbFRvcDtcbiAgICAgIGNvbnN0IHNjcm9sbEhlaWdodCA9IGNvbnRhaW5lci5zY3JvbGxIZWlnaHQgLSBjb250YWluZXIuY2xpZW50SGVpZ2h0O1xuICAgICAgY29uc3QgcHJvZ3Jlc3MgPSBzY3JvbGxIZWlnaHQgPiAwID8gKHNjcm9sbFRvcCAvIHNjcm9sbEhlaWdodCkgKiAxMDAgOiAwO1xuICAgICAgc2V0U2Nyb2xsUHJvZ3Jlc3MoTWF0aC5taW4oMTAwLCBNYXRoLm1heCgwLCBwcm9ncmVzcykpKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gWnVmw6RsbGlnZSBSaWNodHVuZyBmw7xyIEFMTEUgVGlsZXMgZ2VtZWluc2FtXG4gIGNvbnN0IGdldFJhbmRvbURpcmVjdGlvbiA9ICgpID0+IHtcbiAgICBjb25zdCBkaXJlY3Rpb25zID0gWydkb3duJywgJ3VwJywgJ2xlZnQnLCAncmlnaHQnLCAndXAtbGVmdCcsICd1cC1yaWdodCcsICdkb3duLWxlZnQnLCAnZG93bi1yaWdodCddO1xuICAgIHJldHVybiBkaXJlY3Rpb25zW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGRpcmVjdGlvbnMubGVuZ3RoKV07XG4gIH07XG5cbiAgLy8gQmVzdGltbWUgQW5pbWF0aW9uLU1vZGUgZsO8ciBlaW4gVGlsZVxuICBjb25zdCBnZXRBbmltYXRpb25Nb2RlID0gKGl0ZW1JZCkgPT4ge1xuICAgIGlmIChjdXJyZW50VmlldyA9PT0gJ3RyYW5zaXRpb25pbmcnKSB7XG4gICAgICBpZiAoY2xpY2tlZEl0ZW1JZCA9PT0gaXRlbUlkKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGDwn46vIENMSUNLRUQgVElMRTogJHtpdGVtSWR9IChtYXRjaGVzIGNsaWNrZWRJdGVtSWQ6ICR7Y2xpY2tlZEl0ZW1JZH0pYCk7XG4gICAgICAgIHJldHVybiAnY2xpY2tlZCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYGZhbGwtb3V0LSR7Z2xvYmFsQW5pbWF0aW9uRGlyZWN0aW9ufWA7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIE5vcm1hbGUgUG9zaXRpb24gLSBrZWluZSBpbmRpdmlkdWVsbGUgQW5pbWF0aW9uXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgLy8gVGlsZSBQb29sIE1hbmFnZW1lbnQgLSBBa3R1YWxpc2llcmUgbnVyIEluaGFsdGVcbiAgY29uc3QgdXBkYXRlVGlsZVBvb2wgPSAoaXRlbXMpID0+IHtcbiAgICAvLyBTUEVaSUFMOiBXw6RocmVuZCBUcmFuc2l0aW9uIG51ciBBbmltYXRpb24tTW9kaSB1cGRhdGVuLCBLRUlORSBDb250ZW50LUNoYW5nZXMhXG4gICAgaWYgKGN1cnJlbnRWaWV3ID09PSAndHJhbnNpdGlvbmluZycpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn46tIFVwZGF0aW5nIE9OTFkgYW5pbWF0aW9uIG1vZGVzIGR1cmluZyB0cmFuc2l0aW9uJyk7XG4gICAgICBzZXRUaWxlUG9vbChwcmV2ID0+IHtcbiAgICAgICAgY29uc3QgdXBkYXRlZCA9IFsuLi5wcmV2XTtcbiAgICAgICAgLy8gTnVyIEFuaW1hdGlvbi1Nb2RpIHVwZGF0ZW4sIENvbnRlbnQgdW5kIG9uQ2xpY2sgTklDSFQgw6RuZGVybiFcbiAgICAgICAgdXBkYXRlZC5mb3JFYWNoKHRpbGUgPT4ge1xuICAgICAgICAgIGlmICh0aWxlLmlzVmlzaWJsZSAmJiB0aWxlLmNvbnRlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0FuaW1hdGlvbk1vZGUgPSBnZXRBbmltYXRpb25Nb2RlKHRpbGUuY29udGVudC5pZCk7XG4gICAgICAgICAgICBpZiAodGlsZS5hbmltYXRpb25Nb2RlICE9PSBuZXdBbmltYXRpb25Nb2RlKSB7XG4gICAgICAgICAgICAgIHRpbGUuYW5pbWF0aW9uTW9kZSA9IG5ld0FuaW1hdGlvbk1vZGU7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDwn46vIFVwZGF0ZWQgYW5pbWF0aW9uIGZvciAke3RpbGUuY29udGVudC5uYW1lfTogJHtuZXdBbmltYXRpb25Nb2RlfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB1cGRhdGVkO1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0VGlsZVBvb2wocHJldiA9PiB7XG4gICAgICBjb25zdCB1cGRhdGVkID0gWy4uLnByZXZdO1xuICAgICAgLy8gMS4gTWFyayBhbGwgdGlsZXMgYXMgbm90IHVwZGF0ZWRcbiAgICAgIHVwZGF0ZWQuZm9yRWFjaCh0aWxlID0+IHsgdGlsZS5fdXBkYXRlZCA9IGZhbHNlOyB9KTtcbiAgICAgIC8vIDIuIFVwZGF0ZSBvciByZXVzZSB0aWxlcyBmb3IgbmV3IGl0ZW1zXG4gICAgICBpdGVtcy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICBpZiAoaW5kZXggPCBUSUxFX1BPT0xfU0laRSkge1xuICAgICAgICAgIGNvbnN0IHRpbGUgPSB1cGRhdGVkW2luZGV4XTtcbiAgICAgICAgICBjb25zdCBwcmV2Q29udGVudElkID0gdGlsZS5jb250ZW50Py5pZDtcbiAgICAgICAgICBpZiAodGlsZS5pc1Zpc2libGUgJiYgcHJldkNvbnRlbnRJZCA9PT0gaXRlbS5pZCkge1xuICAgICAgICAgICAgLy8gT25seSB1cGRhdGUgYW5pbWF0aW9uTW9kZSBhbmQgb3RoZXIgZHluYW1pYyBmaWVsZHNcbiAgICAgICAgICAgIC8vIERlYnVnOiBSZXVzaW5nIHRpbGVcbiAgICAgICAgICAgIGlmIChpbmRleCA8IDUpIGNvbnNvbGUubG9nKGBbUE9PTF0gUkVVU0UgdGlsZS0ke2luZGV4fTogY29udGVudElkPSR7aXRlbS5pZH1gKTtcbiAgICAgICAgICAgIHRpbGUuYW5pbWF0aW9uTW9kZSA9IGdldEFuaW1hdGlvbk1vZGUoaXRlbS5pZCk7XG4gICAgICAgICAgICB0aWxlLm9uQ2xpY2sgPVxuICAgICAgICAgICAgICBjdXJyZW50VmlldyA9PT0gJ21haW4nID8gaGFuZGxlQ2F0ZWdvcnlDbGljayA6XG4gICAgICAgICAgICAgIGN1cnJlbnRWaWV3ID09PSAnY2F0ZWdvcnknID8gaGFuZGxlU3ViY2F0ZWdvcnlDbGljayA6XG4gICAgICAgICAgICAgIGN1cnJlbnRWaWV3ID09PSAnYW5pbWFscycgPyBoYW5kbGVBbmltYWxDbGljayA6IG51bGw7XG4gICAgICAgICAgICB0aWxlLmlzQW5pbWFsID0gY3VycmVudFZpZXcgPT09ICdhbmltYWxzJztcbiAgICAgICAgICAgIHRpbGUuaXNQbGF5ZWQgPSBjdXJyZW50VmlldyA9PT0gJ2FuaW1hbHMnID8gcGxheWVkQW5pbWFscy5pbmNsdWRlcyhpdGVtLmlkKSA6IGZhbHNlO1xuICAgICAgICAgICAgdGlsZS5pc0N1cnJlbnRseVBsYXlpbmcgPSBjdXJyZW50VmlldyA9PT0gJ2FuaW1hbHMnID8gY3VycmVudGx5UGxheWluZyA9PT0gaXRlbS5pZCA6IGZhbHNlO1xuICAgICAgICAgICAgdGlsZS5fdXBkYXRlZCA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIERlYnVnOiBBc3NpZ25pbmcgbmV3IGNvbnRlbnQgdG8gdGlsZVxuICAgICAgICAgICAgaWYgKGluZGV4IDwgNSkgY29uc29sZS5sb2coYFtQT09MXSBBU1NJR04gdGlsZS0ke2luZGV4fTogY29udGVudElkPSR7aXRlbS5pZH0gKHdhcyAke3ByZXZDb250ZW50SWR9KWApO1xuICAgICAgICAgICAgdGlsZS5pc1Zpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgdGlsZS5jb250ZW50ID0gaXRlbTtcbiAgICAgICAgICAgIHRpbGUuYW5pbWF0aW9uTW9kZSA9IGdldEFuaW1hdGlvbk1vZGUoaXRlbS5pZCk7XG4gICAgICAgICAgICB0aWxlLm9uQ2xpY2sgPVxuICAgICAgICAgICAgICBjdXJyZW50VmlldyA9PT0gJ21haW4nID8gaGFuZGxlQ2F0ZWdvcnlDbGljayA6XG4gICAgICAgICAgICAgIGN1cnJlbnRWaWV3ID09PSAnY2F0ZWdvcnknID8gaGFuZGxlU3ViY2F0ZWdvcnlDbGljayA6XG4gICAgICAgICAgICAgIGN1cnJlbnRWaWV3ID09PSAnYW5pbWFscycgPyBoYW5kbGVBbmltYWxDbGljayA6IG51bGw7XG4gICAgICAgICAgICB0aWxlLmlzQW5pbWFsID0gY3VycmVudFZpZXcgPT09ICdhbmltYWxzJztcbiAgICAgICAgICAgIHRpbGUuaXNQbGF5ZWQgPSBjdXJyZW50VmlldyA9PT0gJ2FuaW1hbHMnID8gcGxheWVkQW5pbWFscy5pbmNsdWRlcyhpdGVtLmlkKSA6IGZhbHNlO1xuICAgICAgICAgICAgdGlsZS5pc0N1cnJlbnRseVBsYXlpbmcgPSBjdXJyZW50VmlldyA9PT0gJ2FuaW1hbHMnID8gY3VycmVudGx5UGxheWluZyA9PT0gaXRlbS5pZCA6IGZhbHNlO1xuICAgICAgICAgICAgdGlsZS5fdXBkYXRlZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIDMuIEhpZGUgdGlsZXMgdGhhdCBhcmUgbm90IHVzZWRcbiAgICAgIHVwZGF0ZWQuZm9yRWFjaCgodGlsZSwgaW5kZXgpID0+IHtcbiAgICAgICAgaWYgKCF0aWxlLl91cGRhdGVkKSB7XG4gICAgICAgICAgaWYgKGluZGV4IDwgNSkgY29uc29sZS5sb2coYFtQT09MXSBSRVNFVCB0aWxlLSR7aW5kZXh9OiB3YXMgY29udGVudElkPSR7dGlsZS5jb250ZW50Py5pZH1gKTtcbiAgICAgICAgICB0aWxlLmlzVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgIHRpbGUuY29udGVudCA9IG51bGw7XG4gICAgICAgICAgdGlsZS5hbmltYXRpb25Nb2RlID0gbnVsbDtcbiAgICAgICAgICB0aWxlLm9uQ2xpY2sgPSBudWxsO1xuICAgICAgICAgIHRpbGUuaXNBbmltYWwgPSBmYWxzZTtcbiAgICAgICAgICB0aWxlLmlzUGxheWVkID0gZmFsc2U7XG4gICAgICAgICAgdGlsZS5pc0N1cnJlbnRseVBsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgdGlsZS5fdXBkYXRlZDtcbiAgICAgIH0pO1xuICAgICAgLy8gT25seSBrZWVwIHRoaXMgc3VtbWFyeSBsb2cgZm9yIHBvb2xcbiAgICAgIGNvbnNvbGUubG9nKGDwn46vIFRpbGUgcG9vbCB1cGRhdGVkOiAke2l0ZW1zLmxlbmd0aH0gdmlzaWJsZSB0aWxlcywgdmlldzogJHtjdXJyZW50Vmlld31gKTtcbiAgICAgIHJldHVybiB1cGRhdGVkO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIFplbnRyYWxlIEZ1bmt0aW9uOiBXZWxjaGUgSXRlbXMgc29sbGVuIGFrdHVlbGwgZ2VyZW5kZXJ0IHdlcmRlbj9cbiAgY29uc3QgZ2V0Q3VycmVudEl0ZW1zID0gKCkgPT4ge1xuICAgIGlmIChjdXJyZW50VmlldyA9PT0gJ21haW4nIHx8ICghc2VsZWN0ZWRDYXRlZ29yeSAmJiBjdXJyZW50VmlldyAhPT0gJ2FuaW1hbHMnKSkge1xuICAgICAgcmV0dXJuIGNhdGVnb3JpZXM7XG4gICAgfSBlbHNlIGlmIChjdXJyZW50VmlldyA9PT0gJ2NhdGVnb3J5JyB8fCAoc2VsZWN0ZWRDYXRlZ29yeSAmJiBzdWJjYXRlZ29yaWVzLmxlbmd0aCA+IDAgJiYgY3VycmVudFZpZXcgPT09ICd0cmFuc2l0aW9uaW5nJykpIHtcbiAgICAgIHJldHVybiBzdWJjYXRlZ29yaWVzO1xuICAgIH0gZWxzZSBpZiAoY3VycmVudFZpZXcgPT09ICdhbmltYWxzJykge1xuICAgICAgLy8gQW5pbWFscyBpbiBDYXRlZ29yeVRpbGUtRm9ybWF0IGtvbnZlcnRpZXJlblxuICAgICAgcmV0dXJuIGFuaW1hbHMubWFwKGFuaW1hbCA9PiAoe1xuICAgICAgICBpZDogYW5pbWFsLmlkLFxuICAgICAgICBuYW1lOiBhbmltYWwubmFtZSxcbiAgICAgICAgc2x1ZzogYW5pbWFsLnNsdWcsXG4gICAgICAgIGltYWdlOiBhbmltYWwuaW1hZ2UsXG4gICAgICAgIGF1ZGlvOiBhbmltYWwuYXVkaW9cbiAgICAgIH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIFtdO1xuICB9O1xuXG4gIC8vIFplbnRyYWxlIEZ1bmt0aW9uOiBTb2xsIEdyaWQtQW5pbWF0aW9uIGxhdWZlbj9cbiAgY29uc3Qgc2hvdWxkVXNlR3JpZEFuaW1hdGlvbiA9ICgpID0+IHtcbiAgICByZXR1cm4gY3VycmVudFZpZXcgIT09ICd0cmFuc2l0aW9uaW5nJztcbiAgfTtcblxuICAvLyBUaWxlIFBvb2wgYWt0dWFsaXNpZXJlbiB3ZW5uIHNpY2ggSW5oYWx0ZSDDpG5kZXJuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY3VycmVudEl0ZW1zID0gZ2V0Q3VycmVudEl0ZW1zKCk7XG4gICAgY29uc29sZS5sb2coYPCflIQgVXBkYXRpbmcgdGlsZSBwb29sIGZvciAke2N1cnJlbnRWaWV3fTpgLCBjdXJyZW50SXRlbXMubGVuZ3RoLCAnaXRlbXMnLCBjdXJyZW50SXRlbXMpO1xuICAgIFxuICAgIC8vIE51ciB1cGRhdGVuIHdlbm4gd2lyIHRhdHPDpGNobGljaCBJdGVtcyBoYWJlbiBvZGVyIGV4cGxpeml0IGxlZXJlbiB3b2xsZW5cbiAgICBpZiAoY3VycmVudEl0ZW1zLmxlbmd0aCA+IDAgfHwgKGN1cnJlbnRWaWV3ID09PSAnbWFpbicgJiYgY2F0ZWdvcmllcy5sZW5ndGggPT09IDApKSB7XG4gICAgICB1cGRhdGVUaWxlUG9vbChjdXJyZW50SXRlbXMpO1xuICAgIH1cbiAgfSwgW2NhdGVnb3JpZXMsIHN1YmNhdGVnb3JpZXMsIGFuaW1hbHMsIGN1cnJlbnRWaWV3LCBwbGF5ZWRBbmltYWxzLCBjdXJyZW50bHlQbGF5aW5nLCBjbGlja2VkSXRlbUlkLCBnbG9iYWxBbmltYXRpb25EaXJlY3Rpb25dKTtcblxuICAvLyBEZWJ1ZyB1c2VFZmZlY3QgZsO8ciBCYWNrIE5hdmlnYXRpb25cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zb2xlLmxvZyhg8J+TiiBTdGF0ZSBVcGRhdGUgLSBWaWV3OiAke2N1cnJlbnRWaWV3fSwgQ2F0ZWdvcmllczogJHtjYXRlZ29yaWVzLmxlbmd0aH0sIFN1YmNhdGVnb3JpZXM6ICR7c3ViY2F0ZWdvcmllcy5sZW5ndGh9LCBBbmltYWxzOiAke2FuaW1hbHMubGVuZ3RofWApO1xuICAgIHRpbGVQb29sLmZpbHRlcih0ID0+IHQuaXNWaXNpYmxlKS5mb3JFYWNoKCh0aWxlLCBpbmRleCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coYCAgVGlsZSAke2luZGV4fTogJHt0aWxlLmNvbnRlbnQ/Lm5hbWUgfHwgJ05vIG5hbWUnfWApO1xuICAgIH0pO1xuICB9LCBbY3VycmVudFZpZXcsIGNhdGVnb3JpZXMsIHN1YmNhdGVnb3JpZXMsIGFuaW1hbHMsIHRpbGVQb29sXSk7XG5cbiAgLy8gSW5pdGlhbCBLYXRlZ29yaWVuIGxhZGVuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbG9hZENhdGVnb3JpZXMoKTtcbiAgICBzZXRDdXJyZW50VmlldygnbWFpbicpO1xuICB9LCBbXSk7XG5cbiAgLy8gTGFkZSBnZXNwZWljaGVydGUgZ2Vow7ZydGUgVGllcmUgYmVpbSBTdGFydFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHNhdmVkUGxheWVkQW5pbWFscyA9IGxvYWRQbGF5ZWRBbmltYWxzRnJvbVN0b3JhZ2UoKTtcbiAgICBzZXRQbGF5ZWRBbmltYWxzKHNhdmVkUGxheWVkQW5pbWFscyk7XG4gICAgXG4gICAgLy8gSElFUkFSQ0hJU0NIOiBMYWRlIEluaXRpYWwgUmVjZW50IEl0ZW1zIGbDvHIgTWFpbi1WaWV3XG4gICAgY29uc3Qgc2F2ZWRSZWNlbnRJdGVtcyA9IGxvYWRSZWNlbnRJdGVtc0Zyb21TdG9yYWdlKCdtYWluJyk7XG4gICAgc2V0UmVjZW50SXRlbXMoc2F2ZWRSZWNlbnRJdGVtcyk7XG4gIH0sIFtdKTtcblxuICAvLyBLYXRlZ29yaWVuLCBTdWJrYXRlZ29yaWVuIHVuZCBBbmltYWxzIHdlcmRlbiBhdXRvbWF0aXNjaCBtaXQgUmVjZW50IEl0ZW1zIGFuZ2VvcmRuZXRcbiAgLy8gYmVpbSBMYWRlbiBkdXJjaCBhcnJhbmdlSXRlbXNXaXRoUmVjZW50KCkgLSBrZWluIHNlcGFyYXRlcyB1c2VFZmZlY3QgbsO2dGlnXG5cbiAgLy8gRnVsbHNjcmVlbiBsb2dpY1xuICBjb25zdCBoYW5kbGVUb2dnbGVGdWxsc2NyZWVuID0gKCkgPT4ge1xuICAgIGlmICghaXNGdWxsc2NyZWVuKSB7XG4gICAgICBjb25zdCBlbGVtID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgaWYgKGVsZW0ucmVxdWVzdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgZWxlbS5yZXF1ZXN0RnVsbHNjcmVlbigpO1xuICAgICAgfSBlbHNlIGlmIChlbGVtLm1velJlcXVlc3RGdWxsU2NyZWVuKSB7XG4gICAgICAgIGVsZW0ubW96UmVxdWVzdEZ1bGxTY3JlZW4oKTtcbiAgICAgIH0gZWxzZSBpZiAoZWxlbS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICBlbGVtLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgICB9IGVsc2UgaWYgKGVsZW0ubXNSZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICBlbGVtLm1zUmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKSB7XG4gICAgICAgIGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKCk7XG4gICAgICB9IGVsc2UgaWYgKGRvY3VtZW50Lm1vekNhbmNlbEZ1bGxTY3JlZW4pIHtcbiAgICAgICAgZG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbigpO1xuICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC53ZWJraXRFeGl0RnVsbHNjcmVlbikge1xuICAgICAgICBkb2N1bWVudC53ZWJraXRFeGl0RnVsbHNjcmVlbigpO1xuICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5tc0V4aXRGdWxsc2NyZWVuKSB7XG4gICAgICAgIGRvY3VtZW50Lm1zRXhpdEZ1bGxzY3JlZW4oKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBmdWxsc2NyZWVuQ2hhbmdlSGFuZGxlciA9ICgpID0+IHtcbiAgICAgIHNldElzRnVsbHNjcmVlbighIShkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCB8fCBkb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRWxlbWVudCB8fCBkb2N1bWVudC5tb3pGdWxsU2NyZWVuRWxlbWVudCB8fCBkb2N1bWVudC5tc0Z1bGxzY3JlZW5FbGVtZW50KSk7XG4gICAgfTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdmdWxsc2NyZWVuY2hhbmdlJywgZnVsbHNjcmVlbkNoYW5nZUhhbmRsZXIpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UnLCBmdWxsc2NyZWVuQ2hhbmdlSGFuZGxlcik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW96ZnVsbHNjcmVlbmNoYW5nZScsIGZ1bGxzY3JlZW5DaGFuZ2VIYW5kbGVyKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdNU0Z1bGxzY3JlZW5DaGFuZ2UnLCBmdWxsc2NyZWVuQ2hhbmdlSGFuZGxlcik7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Z1bGxzY3JlZW5jaGFuZ2UnLCBmdWxsc2NyZWVuQ2hhbmdlSGFuZGxlcik7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd3ZWJraXRmdWxsc2NyZWVuY2hhbmdlJywgZnVsbHNjcmVlbkNoYW5nZUhhbmRsZXIpO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW96ZnVsbHNjcmVlbmNoYW5nZScsIGZ1bGxzY3JlZW5DaGFuZ2VIYW5kbGVyKTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ01TRnVsbHNjcmVlbkNoYW5nZScsIGZ1bGxzY3JlZW5DaGFuZ2VIYW5kbGVyKTtcbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgPEhlYWQ+XG4gICAgICAgIDx0aXRsZT5LaW5kZXJsZXhpa29uIC0gRW50ZGVja2UgZGllIFdlbHQhPC90aXRsZT5cbiAgICAgICAgPG1ldGEgbmFtZT1cImRlc2NyaXB0aW9uXCIgY29udGVudD1cIkludGVyYWt0aXZlcyBLaW5kZXJsZXhpa29uIGbDvHIgVm9yc2NodWxraW5kZXIgKDMtNyBKYWhyZSlcIiAvPlxuICAgICAgICA8bWV0YSBuYW1lPVwidmlld3BvcnRcIiBjb250ZW50PVwid2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTFcIiAvPlxuICAgICAgICA8bGluayByZWw9XCJpY29uXCIgaHJlZj1cIi9mYXZpY29uLmljb1wiIC8+XG4gICAgICA8L0hlYWQ+XG5cbiAgICAgIHsvKiBDaGFyYWN0ZXIgU2VjdGlvbiAtIElNTUVSIGdlcmVuZGVydCAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhcmFjdGVyLXNlY3Rpb25cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGFyYWN0ZXItYnV0dG9ucy1yb3dcIj5cbiAgICAgICAgeyhzZWxlY3RlZENhdGVnb3J5IHx8IGN1cnJlbnRWaWV3ID09PSAnYW5pbWFscycpICYmIChcbiAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmFjay1idXR0b25cIlxuICAgICAgICAgICAgb25DbGljaz17Y3VycmVudFZpZXcgPT09ICdhbmltYWxzJyA/IGhhbmRsZUJhY2tUb1N1YmNhdGVnb3JpZXMgOiBoYW5kbGVCYWNrVG9DYXRlZ29yaWVzfVxuICAgICAgICAgICAgdGl0bGU9e2N1cnJlbnRWaWV3ID09PSAnYW5pbWFscycgPyAnWnVyw7xjayB6dSBkZW4gVW50ZXJrYXRlZ29yaWVuJyA6ICdadXLDvGNrIHp1IGRlbiBIYXVwdGthdGVnb3JpZW4nfVxuICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGltZyBzcmM9XCIvd2Vic2l0ZUJhc2VJbWFnZXMvYmFjayBidXR0b24ucG5nXCIgYWx0PVwiWnVyw7xja1wiIC8+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICl9XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZnVsbHNjcmVlbi1idXR0b25cIlxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlVG9nZ2xlRnVsbHNjcmVlbn1cbiAgICAgICAgICAgIHRpdGxlPXtpc0Z1bGxzY3JlZW4gPyAnVm9sbGJpbGRtb2R1cyB2ZXJsYXNzZW4nIDogJ1ZvbGxiaWxkbW9kdXMgYWt0aXZpZXJlbid9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGltZyBzcmM9e2lzRnVsbHNjcmVlbiA/IFwiL3dlYnNpdGVCYXNlSW1hZ2VzL2Nsb3NlQnV0dG9uLnBuZ1wiIDogXCIvd2Vic2l0ZUJhc2VJbWFnZXMvRnVsbHNjcmVlbi5wbmdcIn0gYWx0PXtpc0Z1bGxzY3JlZW4gPyBcIlNjaGxpZcOfZW5cIiA6IFwiRnVsbHNjcmVlblwifSAvPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImluZm8tYnV0dG9uXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dJbmZvKHRydWUpfVxuICAgICAgICAgICAgdGl0bGU9XCJJbmZvIMO8YmVyIGRhcyBMZXhpa29uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8aW1nIHNyYz1cIi93ZWJzaXRlQmFzZUltYWdlcy9pbmZvLnBuZ1wiIGFsdD1cIkluZm9cIiAvPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPENoYXJhY3RlciBcbiAgICAgICAgICBrZXk9XCJtYWluLWNoYXJhY3RlclwiIC8vIEZlc3RlciBLZXkgLSB3aXJkIG51ciBFSU5NQUwgZ2Vtb3VudGV0XG4gICAgICAgICAgY3VycmVudENvbnRleHQ9e2xvYWRpbmcgfHwgZXJyb3IgPyAnaWRsZScgOiBjaGFyYWN0ZXJDb250ZXh0fVxuICAgICAgICAgIG9uRW1vdGlvbkNoYW5nZT17aGFuZGxlQ2hhcmFjdGVyRW1vdGlvbkNoYW5nZX1cbiAgICAgICAgLz5cbiAgICAgICAgey8qIEluZm8gT3ZlcmxheSBNb2RhbCAqL31cbiAgICAgICAge3Nob3dJbmZvICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8tb3ZlcmxheS1tb2RhbFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLW92ZXJsYXktY29udGVudFwiPlxuICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImluZm8tb3ZlcmxheS1jbG9zZVwiIG9uQ2xpY2s9eygpID0+IHNldFNob3dJbmZvKGZhbHNlKX0gdGl0bGU9XCJTY2hsaWXDn2VuXCI+w5c8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGgyPldhcnVtIGljaCBkaWVzZXMgS2luZGVybGV4aWtvbiBnZW1hY2h0IGhhYmU8L2gyPlxuICAgICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgICBJY2ggaGFiZSBkaWVzZXMgS2luZGVybGV4aWtvbiBmw7xyIG1laW5lIGVpZ2VuZW4gS2luZGVyIGVyc3RlbGx0LCB3ZWlsIHNpZSBlaW4gZ3Jvw59lcyBJbnRlcmVzc2UgYW4gVGllcmVuIHVuZCBXaXNzZW4gaW0gQWxsZ2VtZWluZW4gaGFiZW4uIExlaWRlciBoYWJlbiB3aXIgYmlzaGVyIGtlaW4gTGV4aWtvbiBnZWZ1bmRlbiwgZGFzIGF1Y2ggZsO8ciBLaW5kZXIgZ2VlaWduZXQgaXN0LCBkaWUgbm9jaCBuaWNodCBsZXNlbiBrw7ZubmVuLiBEZXNoYWxiIGhhYmUgaWNoIGFuZ2VmYW5nZW4sIGVpbiBpbnRlcmFrdGl2ZXMsIGdlc3Byb2NoZW5lcyBMZXhpa29uIHp1IGVudHdpY2tlbG4g4oCTIG1pdCBCaWxkZXJuLCBlaW5mYWNoZXIgU3ByYWNoZSB1bmQgQXVkaW91bnRlcnN0w7x0enVuZy48YnIvPjxici8+XG4gICAgICAgICAgICAgICAgRGVyemVpdCBnaWJ0IGVzIG51ciBkaWUgS2F0ZWdvcmllIOKAnlRpZXJl4oCcLCBhYmVyIHdlbm4gbWVpbmUgS2luZGVyIG9kZXIgYXVjaCBhbmRlcmUgS2luZGVyIEludGVyZXNzZSBhbiB3ZWl0ZXJlbiBLYXRlZ29yaWVuIGhhYmVuLCB3w7xyZGUgaWNoIGRhcyBMZXhpa29uIGdlcm5lIGVyd2VpdGVybi4gSWhyIGvDtm5udCBtaXIgZ2VybmUgbWl0dGVpbGVuLCB3ZWxjaGUgVGhlbWVuIGlociBldWNoIHfDvG5zY2h0IOKAkyBpY2ggZnJldWUgbWljaCDDvGJlciBWb3JzY2hsw6RnZSE8YnIvPjxici8+XG4gICAgICAgICAgICAgICAgSmVkZSBuZXVlIEhhdXB0a2F0ZWdvcmllIGtvc3RldCBtaWNoIGplZG9jaCBydW5kIDUw4oCv4oKsLCBkYSBpY2ggZGllIEJpbGRlciwgVGV4dGUgdW5kIFZvaWNlb3ZlcnMgbWl0aGlsZmUgdm9uIEtJIGdlbmVyaWVyZW4gbGFzc2UuIERpZXNlIEtvc3RlbiBrYW5uIGljaCBha3R1ZWxsIG5pY2h0IHNlbGJzdCB0cmFnZW4uIEZhbGxzIGlociBkYXMgUHJvamVrdCB1bnRlcnN0w7x0emVuIHdvbGx0LCBrw7ZubnQgaWhyIGdlcm5lIMO8YmVyIGRlbiBEb25hdGUtQnV0dG9uIGVpbmUga2xlaW5lIFNwZW5kZSBkYWxhc3NlbiDigJMgaWNoIHfDvHJkZSBkYW5uIGRpZSBlbnRzcHJlY2hlbmRlIEthdGVnb3JpZSBoaW56dWbDvGdlbi48YnIvPjxici8+XG4gICAgICAgICAgICAgICAgTWVpbiBaaWVsIGlzdCBlcywgZWluIHJpY2h0aWdlcyBMZXhpa29uIGbDvHIgS2luZGVyIHp1IHNjaGFmZmVuIOKAkyB6dWfDpG5nbGljaCwgdW50ZXJoYWx0c2FtIHVuZCBraW5kZ2VyZWNodCwgYXVjaCBmw7xyIGRpZSBKw7xuZ3N0ZW4uPGJyLz48YnIvPlxuICAgICAgICAgICAgICAgIEF1Y2ggZWluZSDDnGJlcnNldHp1bmcgaW4gYW5kZXJlIFNwcmFjaGVuIGlzdCBnZXBsYW50LiBEYWbDvHIgbcO8c3N0ZSBpY2ggamVkb2NoIG5vY2ggenVzw6R0emxpY2hlIEVudHdpY2tsdW5nc3plaXQgaW52ZXN0aWVyZW4sIHVtIGRlbiBTdXBwb3J0IGRhZsO8ciB0ZWNobmlzY2ggYmVzc2VyIHVtenVzZXR6ZW4uIEZhbGxzIGRhcmFuIEludGVyZXNzZSBiZXN0ZWh0LCBrw7ZubnRlbiB3aXIgZ2VybmUgZGFyw7xiZXIgc3ByZWNoZW4uPGJyLz48YnIvPlxuICAgICAgICAgICAgICAgIFdlbm4gaWhyIG1pY2ggenVzw6R0emxpY2ggdW50ZXJzdMO8dHplbiBtw7ZjaHRldCwgc2NoYXV0IGdlcm5lIGJlaSBtZWluZW4gU3BpZWxlbiB2b3JiZWkgb2RlciBzZXR6dCBzaWUgYXVmIGV1cmUgV3Vuc2NobGlzdGU6PGJyLz5cbiAgICAgICAgICAgICAgICDwn5GJIE1laW5lIEVudHdpY2tsZXJzZWl0ZSBhdWYgU3RlYW0gPGEgaHJlZj1cImh0dHBzOi8vc3RvcmUuc3RlYW1wb3dlcmVkLmNvbS9jdXJhdG9yLzMzMTgzNDY3XCIgdGFyZ2V0PVwiX2JsYW5rXCIgcmVsPVwibm9vcGVuZXIgbm9yZWZlcnJlclwiPkBodHRwczovL3N0b3JlLnN0ZWFtcG93ZXJlZC5jb20vY3VyYXRvci8zMzE4MzQ2NzwvYT48YnIvPjxici8+XG4gICAgICAgICAgICAgICAgPGI+VGVjaG5pc2NoZXIgSGlud2VpcyAmIEF0dHJpYnV0aW9uOjwvYj48YnIvPlxuICAgICAgICAgICAgICAgIERpZXNlcyBMZXhpa29uIHd1cmRlIG1pdCBIaWxmZSB2b24gS8O8bnN0bGljaGVyIEludGVsbGlnZW56IGVyc3RlbGx0Ojxici8+XG4gICAgICAgICAgICAgICAgPGI+QmlsZGVyOjwvYj4gZ2VuZXJpZXJ0IG1pdCBPcGVuQUk8YnIvPlxuICAgICAgICAgICAgICAgIDxiPlZvaWNlb3Zlcjo8L2I+IGVyc3RlbGx0IG1pdCBFbGV2ZW5MYWJzPGJyLz5cbiAgICAgICAgICAgICAgICA8Yj5Db2RlICYgVW1zZXR6dW5nOjwvYj4gbWl0IEhpbGZlIHZvbiBDdXJzb3IgdW5kIHZlcnNjaGllZGVuZW4gTGFuZ3VhZ2UgTW9kZWxzIChMTE1zKTxici8+XG4gICAgICAgICAgICAgICAgPGI+U291bmRlZmZla3Q6PC9iPjxici8+XG4gICAgICAgICAgICAgICAg4oCeQm95IExhdWdoaW5nICg1IHkuby4p4oCcIHZvbiBOYWtoYXMg4oCTIGZyZWVzb3VuZC5vcmcvcy81MDY5MzcvIOKAkyBMaXplbno6IENyZWF0aXZlIENvbW1vbnMgMDxici8+PGJyLz5cbiAgICAgICAgICAgICAgICA8Yj5CZWthbm50ZSBQcm9ibGVtZTo8L2I+PGJyLz5cbiAgICAgICAgICAgICAgICDimqDvuI8gQmVpIGRlciBOdXR6dW5nIG1pdCBkZW0gRmlyZWZveC1Ccm93c2VyIGthbm4gZXMgYWt0dWVsbCB6dSBCaWxkZmxhY2tlcm4ga29tbWVuLiBCaXR0ZSBudXR6dCBpbiBkaWVzZW0gRmFsbCB2b3LDvGJlcmdlaGVuZCBlaW5lbiBhbmRlcmVuIEJyb3dzZXIgKHou4oCvQi4gQ2hyb21lLCBFZGdlIG9kZXIgU2FmYXJpKSwgYmlzIGRhcyBQcm9ibGVtIGJlaG9iZW4gaXN0LlxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogQ2F0ZWdvcmllcyBTZWN0aW9uIG1pdCBTY3JvbGwgKi99XG4gICAgICA8ZGl2IFxuICAgICAgICBjbGFzc05hbWU9XCJjYXRlZ29yaWVzLXNlY3Rpb25cIlxuICAgICAgICByZWY9e3Njcm9sbENvbnRhaW5lclJlZn1cbiAgICAgICAgb25TY3JvbGw9e2hhbmRsZVNjcm9sbH1cbiAgICAgID5cbiAgICAgICAgey8qIExvYWRpbmcgU3RhdGUgKi99XG4gICAgICAgIHtsb2FkaW5nICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxvYWRpbmctc3Bpbm5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGlubmVyXCI+PC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAgey8qIEVycm9yIFN0YXRlICovfVxuICAgICAgICB7ZXJyb3IgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZXJyb3ItbWVzc2FnZVwiPlxuICAgICAgICAgICAgPGgyPk9vcHMhIPCfmIU8L2gyPlxuICAgICAgICAgICAgPHA+e2Vycm9yfTwvcD5cbiAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2xvYWRDYXRlZ29yaWVzfVxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICcjNGNhZjUwJyxcbiAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcbiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICcxMHB4JyxcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMTJweCAyNHB4JyxcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogJzFyZW0nLFxuICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgICAgICAgICAgIG1hcmdpblRvcDogJzFyZW0nXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIE5vY2htYWwgdmVyc3VjaGVuXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICB7LyogTm9ybWFsIENvbnRlbnQgLSBudXIgd2VubiBuaWNodCBsb2FkaW5nL2Vycm9yICovfVxuICAgICAgICB7IWxvYWRpbmcgJiYgIWVycm9yICYmIGFsbEltYWdlc0xvYWRlZCAmJiBpc0dyaWRWaXNpYmxlICYmIChcbiAgICAgICAgICA8bW90aW9uLmRpdlxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgdGlsZS1ncmlkYH1cbiAgICAgICAgICAgIHZhcmlhbnRzPXthbmltYXRpb25NYW5hZ2VyLmdldEdyaWRWYXJpYW50cyhjdXJyZW50R3JpZEFuaW1hdGlvbil9XG4gICAgICAgICAgICBpbml0aWFsPVwiaGlkZGVuXCJcbiAgICAgICAgICAgIGFuaW1hdGU9XCJ2aXNpYmxlXCJcbiAgICAgICAgICAgIHN0eWxlPXt7IFxuICAgICAgICAgICAgICBvcGFjaXR5OiB0aWxlUG9vbC5zb21lKHRpbGUgPT4gdGlsZS5pc1Zpc2libGUpID8gMSA6IDAsXG4gICAgICAgICAgICAgIHRyYW5zaXRpb246ICdvcGFjaXR5IDAuMXMgZWFzZScgXG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHt0aWxlUG9vbC5tYXAoKHBvb2xUaWxlLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICA8Q2F0ZWdvcnlUaWxlXG4gICAgICAgICAgICAgICAga2V5PXtwb29sVGlsZS5pZH1cbiAgICAgICAgICAgICAgICB0aWxlS2V5PXtwb29sVGlsZS5pZH1cbiAgICAgICAgICAgICAgICBwb29sVGlsZT17cG9vbFRpbGV9XG4gICAgICAgICAgICAgICAgZGVsYXk9e3Bvb2xUaWxlLmlzVmlzaWJsZSA/IGFuaW1hdGlvbk1hbmFnZXIuZ2V0VGlsZURlbGF5KFxuICAgICAgICAgICAgICAgICAgdGlsZVBvb2wuZmlsdGVyKCh0LCBpKSA9PiB0LmlzVmlzaWJsZSAmJiBpIDw9IGluZGV4KS5sZW5ndGggLSAxLCBcbiAgICAgICAgICAgICAgICAgIHRpbGVQb29sLmZpbHRlcih0ID0+IHQuaXNWaXNpYmxlKS5sZW5ndGgsIFxuICAgICAgICAgICAgICAgICAgY3VycmVudEdyaWRBbmltYXRpb25cbiAgICAgICAgICAgICAgICApIDogMH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgKX1cblxuICAgICAgICB7LyogUGxhY2Vob2xkZXIgZsO8ciBsZWVyZSBTdWJrYXRlZ29yaWVuICovfVxuICAgICAgICB7c2VsZWN0ZWRDYXRlZ29yeSAmJiBzdWJjYXRlZ29yaWVzLmxlbmd0aCA9PT0gMCAmJiBjdXJyZW50VmlldyA9PT0gJ2NhdGVnb3J5JyAmJiAoXG4gICAgICAgICAgPGRpdiBzdHlsZT17eyB0ZXh0QWxpZ246ICdjZW50ZXInLCBwYWRkaW5nOiAnM3JlbScgfX0+XG4gICAgICAgICAgICA8cCBzdHlsZT17eyBmb250U2l6ZTogJzEuMnJlbScsIGNvbG9yOiAnIzY2NicgfX0+XG4gICAgICAgICAgICAgIEhpZXIgZW50c3RlaGVuIGJhbGQgc3Bhbm5lbmRlIFVudGVya2F0ZWdvcmllbiEg8J+ap1xuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBTY3JvbGwgSW5kaWthdG9yICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzY3JvbGwtaW5kaWNhdG9yXCI+XG4gICAgICAgIDxkaXYgXG4gICAgICAgICAgY2xhc3NOYW1lPVwic2Nyb2xsLXRodW1iXCIgXG4gICAgICAgICAgc3R5bGU9e3sgXG4gICAgICAgICAgICBoZWlnaHQ6IGAke01hdGgubWF4KDE1LCBzY3JvbGxQcm9ncmVzcyl9JWAsXG4gICAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGVZKCR7c2Nyb2xsUHJvZ3Jlc3MgKiAwLjh9JSlgXG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufSAiXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJlZiIsIkhlYWQiLCJDaGFyYWN0ZXIiLCJDYXRlZ29yeVRpbGUiLCJtb3Rpb24iLCJhbmltYXRpb25NYW5hZ2VyIiwiSG9tZSIsImNhdGVnb3JpZXMiLCJzZXRDYXRlZ29yaWVzIiwic2VsZWN0ZWRDYXRlZ29yeSIsInNldFNlbGVjdGVkQ2F0ZWdvcnkiLCJzdWJjYXRlZ29yaWVzIiwic2V0U3ViY2F0ZWdvcmllcyIsImFuaW1hbHMiLCJzZXRBbmltYWxzIiwibG9hZGluZyIsInNldExvYWRpbmciLCJlcnJvciIsInNldEVycm9yIiwiY2hhcmFjdGVyQ29udGV4dCIsInNldENoYXJhY3RlckNvbnRleHQiLCJjdXJyZW50VmlldyIsInNldEN1cnJlbnRWaWV3IiwiY2xpY2tlZEl0ZW1JZCIsInNldENsaWNrZWRJdGVtSWQiLCJzY3JvbGxQcm9ncmVzcyIsInNldFNjcm9sbFByb2dyZXNzIiwicmVjZW50SXRlbXMiLCJzZXRSZWNlbnRJdGVtcyIsInBsYXllZEFuaW1hbHMiLCJzZXRQbGF5ZWRBbmltYWxzIiwiY3VycmVudGx5UGxheWluZyIsInNldEN1cnJlbnRseVBsYXlpbmciLCJzY3JvbGxDb250YWluZXJSZWYiLCJzaG93R3JpZCIsInNldFNob3dHcmlkIiwiYW5pbWF0aW9uS2V5Iiwic2V0QW5pbWF0aW9uS2V5IiwiaXNHcmlkVmlzaWJsZSIsInNldElzR3JpZFZpc2libGUiLCJhbGxJbWFnZXNMb2FkZWQiLCJzZXRBbGxJbWFnZXNMb2FkZWQiLCJpc0Z1bGxzY3JlZW4iLCJzZXRJc0Z1bGxzY3JlZW4iLCJzaG93SW5mbyIsInNldFNob3dJbmZvIiwicHJlbG9hZGVkRGF0YSIsInNldFByZWxvYWRlZERhdGEiLCJpc1ByZWxvYWRpbmciLCJzZXRJc1ByZWxvYWRpbmciLCJUSUxFX1BPT0xfU0laRSIsInRpbGVQb29sIiwic2V0VGlsZVBvb2wiLCJBcnJheSIsImZyb20iLCJsZW5ndGgiLCJfIiwiaW5kZXgiLCJpZCIsImlzVmlzaWJsZSIsImNvbnRlbnQiLCJhbmltYXRpb25Nb2RlIiwiaXNBbmltYWwiLCJpc1BsYXllZCIsImlzQ3VycmVudGx5UGxheWluZyIsIm9uQ2xpY2siLCJjdXJyZW50R3JpZEFuaW1hdGlvbiIsInNldEN1cnJlbnRHcmlkQW5pbWF0aW9uIiwiZ2xvYmFsQW5pbWF0aW9uRGlyZWN0aW9uIiwic2V0R2xvYmFsQW5pbWF0aW9uRGlyZWN0aW9uIiwic2F2ZVBsYXllZEFuaW1hbHNUb1N0b3JhZ2UiLCJwbGF5ZWRMaXN0IiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjb25zb2xlIiwibG9hZFBsYXllZEFuaW1hbHNGcm9tU3RvcmFnZSIsInNhdmVkIiwiZ2V0SXRlbSIsInBhcnNlIiwiZ2V0U3RvcmFnZUtleSIsImxldmVsIiwiY2F0ZWdvcnlTbHVnIiwic3ViY2F0ZWdvcnlTbHVnIiwic2F2ZVJlY2VudEl0ZW1zVG9TdG9yYWdlIiwicmVjZW50TGlzdCIsImtleSIsImxvZyIsImxvYWRSZWNlbnRJdGVtc0Zyb21TdG9yYWdlIiwicmVzdWx0Iiwic2h1ZmZsZUFycmF5IiwiYXJyYXkiLCJzaHVmZmxlZCIsImkiLCJqIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiYXJyYW5nZUl0ZW1zV2l0aFJlY2VudCIsIml0ZW1zIiwicmVjZW50SWRzIiwiZm9yRWFjaCIsInJlY2VudElkIiwiaXRlbSIsImZpbmQiLCJwdXNoIiwib3RoZXJJdGVtcyIsImZpbHRlciIsImluY2x1ZGVzIiwic2h1ZmZsZWRPdGhlcnMiLCJhZGRUb1JlY2VudCIsIml0ZW1JZCIsInByZXYiLCJuZXdSZWNlbnQiLCJsaW1pdGVkUmVjZW50Iiwic2xpY2UiLCJnZXRDdXJyZW50UmVjZW50SXRlbXMiLCJzbHVnIiwibG9hZENhdGVnb3JpZXMiLCJyYW5kb21BbmltYXRpb24iLCJnZXRSYW5kb21HcmlkQW5pbWF0aW9uIiwicmVzcG9uc2UiLCJmZXRjaCIsImRhdGEiLCJqc29uIiwibWFpblJlY2VudEl0ZW1zIiwiYXJyYW5nZWRDYXRlZ29yaWVzIiwiRXJyb3IiLCJlcnIiLCJsb2FkQ2F0ZWdvcnlEZXRhaWxzIiwiY2F0ZWdvcnkiLCJzdWJjYXRzIiwiY2F0ZWdvcnlSZWNlbnRJdGVtcyIsImFycmFuZ2VkU3ViY2F0cyIsInBsYXlBdWRpbyIsImF1ZGlvUGF0aCIsIndpbmRvdyIsImN1cnJlbnRBdWRpbyIsInBhdXNlIiwiY3VycmVudFRpbWUiLCJhdWRpbyIsIkF1ZGlvIiwicGxheSIsImNhdGNoIiwiYWRkRXZlbnRMaXN0ZW5lciIsInByZWxvYWROZXh0Q29udGVudCIsInR5cGUiLCJwcm90b2NvbCIsImxvY2F0aW9uIiwiaG9zdG5hbWUiLCJwb3J0IiwidGlsZVNpemUiLCJxdWFsaXR5IiwiYmFzZUltYWdlVXJsIiwiaW1hZ2VzVG9QcmVsb2FkIiwibWFwIiwic3ViIiwiaW1hZ2UiLCJmaWxlbmFtZSIsImFuaW1hbCIsIlByb21pc2UiLCJhbGwiLCJzcmMiLCJyZXNvbHZlIiwiaW1nIiwiSW1hZ2UiLCJvbmxvYWQiLCJvbmVycm9yIiwicHJlbG9hZEltYWdlcyIsInVybHMiLCJ1cmwiLCJjYWNoZUtleSIsInRoZW4iLCJyIiwiYmxvYiIsInJlamVjdCIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWRlbmQiLCJyZWFkQXNEYXRhVVJMIiwiZ2V0QWxsSW1hZ2VVcmxzRm9yQ2F0ZWdvcnkiLCJnZXRBbGxJbWFnZVVybHNGb3JBbmltYWxzIiwid2FpdEZvckFsbEltYWdlc1RvTG9hZCIsImltYWdlU3JjcyIsImhhbmRsZUNhdGVnb3J5Q2xpY2siLCJnZXRSYW5kb21EaXJlY3Rpb24iLCJwYXRoIiwiaW1hZ2VVcmxzIiwicHJlbG9hZFByb21pc2UiLCJzZXRUaW1lb3V0IiwiayIsImJhc2U2NHMiLCJoYW5kbGVTdWJjYXRlZ29yeUNsaWNrIiwic3ViY2F0ZWdvcnkiLCJhbmltYWxSZWNlbnRJdGVtcyIsImFycmFuZ2VkQW5pbWFscyIsImxvYWRBbmltYWxzRm9yQ2F0ZWdvcnkiLCJhbmltYWxzUmVjZW50SXRlbXMiLCJoYW5kbGVBbmltYWxDbGljayIsImN1cnJlbnRTdWJjYXRlZ29yeSIsImEiLCJuZXdQbGF5ZWRBbmltYWxzIiwib25jZSIsImhhbmRsZUJhY2tUb0NhdGVnb3JpZXMiLCJoYW5kbGVCYWNrVG9TdWJjYXRlZ29yaWVzIiwiaGFuZGxlQ2hhcmFjdGVyRW1vdGlvbkNoYW5nZSIsImVtb3Rpb24iLCJoYW5kbGVTY3JvbGwiLCJjb250YWluZXIiLCJjdXJyZW50Iiwic2Nyb2xsVG9wIiwic2Nyb2xsSGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwicHJvZ3Jlc3MiLCJtaW4iLCJtYXgiLCJkaXJlY3Rpb25zIiwiZ2V0QW5pbWF0aW9uTW9kZSIsInVwZGF0ZVRpbGVQb29sIiwidXBkYXRlZCIsInRpbGUiLCJuZXdBbmltYXRpb25Nb2RlIiwibmFtZSIsIl91cGRhdGVkIiwicHJldkNvbnRlbnRJZCIsImdldEN1cnJlbnRJdGVtcyIsInNob3VsZFVzZUdyaWRBbmltYXRpb24iLCJjdXJyZW50SXRlbXMiLCJ0Iiwic2F2ZWRQbGF5ZWRBbmltYWxzIiwic2F2ZWRSZWNlbnRJdGVtcyIsImhhbmRsZVRvZ2dsZUZ1bGxzY3JlZW4iLCJlbGVtIiwiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJyZXF1ZXN0RnVsbHNjcmVlbiIsIm1velJlcXVlc3RGdWxsU2NyZWVuIiwid2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4iLCJtc1JlcXVlc3RGdWxsc2NyZWVuIiwiZXhpdEZ1bGxzY3JlZW4iLCJtb3pDYW5jZWxGdWxsU2NyZWVuIiwid2Via2l0RXhpdEZ1bGxzY3JlZW4iLCJtc0V4aXRGdWxsc2NyZWVuIiwiZnVsbHNjcmVlbkNoYW5nZUhhbmRsZXIiLCJmdWxsc2NyZWVuRWxlbWVudCIsIndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50IiwibW96RnVsbFNjcmVlbkVsZW1lbnQiLCJtc0Z1bGxzY3JlZW5FbGVtZW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRpdiIsImNsYXNzTmFtZSIsInRpdGxlIiwibWV0YSIsImxpbmsiLCJyZWwiLCJocmVmIiwiYnV0dG9uIiwiYWx0IiwiY3VycmVudENvbnRleHQiLCJvbkVtb3Rpb25DaGFuZ2UiLCJoMiIsInAiLCJiciIsInRhcmdldCIsImIiLCJyZWYiLCJvblNjcm9sbCIsInN0eWxlIiwiYmFja2dyb3VuZCIsImNvbG9yIiwiYm9yZGVyIiwiYm9yZGVyUmFkaXVzIiwicGFkZGluZyIsImZvbnRTaXplIiwiY3Vyc29yIiwibWFyZ2luVG9wIiwidmFyaWFudHMiLCJnZXRHcmlkVmFyaWFudHMiLCJpbml0aWFsIiwiYW5pbWF0ZSIsIm9wYWNpdHkiLCJzb21lIiwidHJhbnNpdGlvbiIsInBvb2xUaWxlIiwidGlsZUtleSIsImRlbGF5IiwiZ2V0VGlsZURlbGF5IiwidGV4dEFsaWduIiwiaGVpZ2h0IiwidHJhbnNmb3JtIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./pages/index.js\n");

/***/ }),

/***/ "./utils/animationManager.js":
/*!***********************************!*\
  !*** ./utils/animationManager.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AnimationManager: () => (/* binding */ AnimationManager),\n/* harmony export */   animationManager: () => (/* binding */ animationManager)\n/* harmony export */ });\n// Zentraler Animation Manager fr choreographierte Tile-Animationen\nclass AnimationManager {\n    constructor(){\n        this.animationTypes = [\n            \"slideFromLeft\",\n            \"slideFromRight\",\n            \"slideFromTop\",\n            \"slideFromBottom\",\n            \"slideFromTopLeft\",\n            \"slideFromTopRight\",\n            \"slideFromBottomLeft\",\n            \"slideFromBottomRight\",\n            \"spiralInward\",\n            \"spiralOutward\",\n            \"scatterIn\",\n            \"waveIn\"\n        ];\n    }\n    // Zufllige Animation fr das gesamte Grid whlen\n    getRandomGridAnimation() {\n        const randomIndex = Math.floor(Math.random() * this.animationTypes.length);\n        return this.animationTypes[randomIndex];\n    }\n    // Animation-Varianten fr Framer Motion definieren\n    getGridVariants(animationType) {\n        const viewportWidth =  false ? 0 : 1200;\n        const viewportHeight =  false ? 0 : 800;\n        const variants = {\n            // Einfache Richtungen\n            slideFromLeft: {\n                hidden: {\n                    x: -viewportWidth,\n                    opacity: 0\n                },\n                visible: {\n                    x: 0,\n                    opacity: 1,\n                    transition: {\n                        duration: 0.8,\n                        ease: \"easeOut\"\n                    }\n                },\n                exit: {\n                    x: -viewportWidth,\n                    opacity: 0,\n                    transition: {\n                        duration: 0.6,\n                        ease: \"easeIn\"\n                    }\n                }\n            },\n            slideFromRight: {\n                hidden: {\n                    x: viewportWidth,\n                    opacity: 0\n                },\n                visible: {\n                    x: 0,\n                    opacity: 1,\n                    transition: {\n                        duration: 0.8,\n                        ease: \"easeOut\"\n                    }\n                },\n                exit: {\n                    x: viewportWidth,\n                    opacity: 0,\n                    transition: {\n                        duration: 0.6,\n                        ease: \"easeIn\"\n                    }\n                }\n            },\n            slideFromTop: {\n                hidden: {\n                    y: -viewportHeight,\n                    opacity: 0\n                },\n                visible: {\n                    y: 0,\n                    opacity: 1,\n                    transition: {\n                        duration: 0.8,\n                        ease: \"easeOut\"\n                    }\n                },\n                exit: {\n                    y: -viewportHeight,\n                    opacity: 0,\n                    transition: {\n                        duration: 0.6,\n                        ease: \"easeIn\"\n                    }\n                }\n            },\n            slideFromBottom: {\n                hidden: {\n                    y: viewportHeight,\n                    opacity: 0\n                },\n                visible: {\n                    y: 0,\n                    opacity: 1,\n                    transition: {\n                        duration: 0.8,\n                        ease: \"easeOut\"\n                    }\n                },\n                exit: {\n                    y: viewportHeight,\n                    opacity: 0,\n                    transition: {\n                        duration: 0.6,\n                        ease: \"easeIn\"\n                    }\n                }\n            },\n            // Diagonale Animationen\n            slideFromTopLeft: {\n                hidden: {\n                    x: -viewportWidth,\n                    y: -viewportHeight,\n                    opacity: 0\n                },\n                visible: {\n                    x: 0,\n                    y: 0,\n                    opacity: 1,\n                    transition: {\n                        duration: 0.9,\n                        ease: \"easeOut\"\n                    }\n                },\n                exit: {\n                    x: -viewportWidth,\n                    y: -viewportHeight,\n                    opacity: 0,\n                    transition: {\n                        duration: 0.7,\n                        ease: \"easeIn\"\n                    }\n                }\n            },\n            slideFromTopRight: {\n                hidden: {\n                    x: viewportWidth,\n                    y: -viewportHeight,\n                    opacity: 0\n                },\n                visible: {\n                    x: 0,\n                    y: 0,\n                    opacity: 1,\n                    transition: {\n                        duration: 0.9,\n                        ease: \"easeOut\"\n                    }\n                },\n                exit: {\n                    x: viewportWidth,\n                    y: -viewportHeight,\n                    opacity: 0,\n                    transition: {\n                        duration: 0.7,\n                        ease: \"easeIn\"\n                    }\n                }\n            },\n            slideFromBottomLeft: {\n                hidden: {\n                    x: -viewportWidth,\n                    y: viewportHeight,\n                    opacity: 0\n                },\n                visible: {\n                    x: 0,\n                    y: 0,\n                    opacity: 1,\n                    transition: {\n                        duration: 0.9,\n                        ease: \"easeOut\"\n                    }\n                },\n                exit: {\n                    x: -viewportWidth,\n                    y: viewportHeight,\n                    opacity: 0,\n                    transition: {\n                        duration: 0.7,\n                        ease: \"easeIn\"\n                    }\n                }\n            },\n            slideFromBottomRight: {\n                hidden: {\n                    x: viewportWidth,\n                    y: viewportHeight,\n                    opacity: 0\n                },\n                visible: {\n                    x: 0,\n                    y: 0,\n                    opacity: 1,\n                    transition: {\n                        duration: 0.9,\n                        ease: \"easeOut\"\n                    }\n                },\n                exit: {\n                    x: viewportWidth,\n                    y: viewportHeight,\n                    opacity: 0,\n                    transition: {\n                        duration: 0.7,\n                        ease: \"easeIn\"\n                    }\n                }\n            },\n            // Spezial-Animationen ohne Rotation\n            spiralInward: {\n                hidden: {\n                    scale: 0,\n                    opacity: 0\n                },\n                visible: {\n                    scale: 1,\n                    opacity: 1,\n                    transition: {\n                        duration: 1.0,\n                        ease: \"easeOut\",\n                        scale: {\n                            type: \"spring\",\n                            stiffness: 80,\n                            damping: 15\n                        }\n                    }\n                },\n                exit: {\n                    scale: 0,\n                    opacity: 0,\n                    transition: {\n                        duration: 0.8,\n                        ease: \"easeIn\"\n                    }\n                }\n            },\n            spiralOutward: {\n                hidden: {\n                    scale: 2,\n                    opacity: 0\n                },\n                visible: {\n                    scale: 1,\n                    opacity: 1,\n                    transition: {\n                        duration: 1.0,\n                        ease: \"easeOut\",\n                        scale: {\n                            type: \"spring\",\n                            stiffness: 100,\n                            damping: 20\n                        }\n                    }\n                },\n                exit: {\n                    scale: 2,\n                    opacity: 0,\n                    transition: {\n                        duration: 0.8,\n                        ease: \"easeIn\"\n                    }\n                }\n            },\n            scatterIn: {\n                hidden: {\n                    scale: 0.3,\n                    x: Math.random() * 400 - 200,\n                    y: Math.random() * 400 - 200,\n                    opacity: 0\n                },\n                visible: {\n                    scale: 1,\n                    x: 0,\n                    y: 0,\n                    opacity: 1,\n                    transition: {\n                        duration: 1.0,\n                        ease: \"easeOut\"\n                    }\n                },\n                exit: {\n                    scale: 0.3,\n                    x: Math.random() * 400 - 200,\n                    y: Math.random() * 400 - 200,\n                    opacity: 0,\n                    transition: {\n                        duration: 0.7,\n                        ease: \"easeIn\"\n                    }\n                }\n            },\n            waveIn: {\n                hidden: {\n                    y: viewportHeight,\n                    opacity: 0,\n                    skewY: 10\n                },\n                visible: {\n                    y: 0,\n                    opacity: 1,\n                    skewY: 0,\n                    transition: {\n                        duration: 1.0,\n                        ease: \"easeOut\",\n                        y: {\n                            type: \"spring\",\n                            stiffness: 100,\n                            damping: 15\n                        }\n                    }\n                },\n                exit: {\n                    y: -viewportHeight,\n                    opacity: 0,\n                    skewY: -10,\n                    transition: {\n                        duration: 0.8,\n                        ease: \"easeIn\"\n                    }\n                }\n            }\n        };\n        return variants[animationType] || variants.slideFromLeft;\n    }\n    // Clicked Tile Animation - Tile wchst und verblasst\n    getClickedTileVariants() {\n        return {\n            normal: {\n                scale: 1,\n                opacity: 1,\n                transition: {\n                    duration: 0.2\n                }\n            },\n            clicked: {\n                scale: 1.2,\n                opacity: 0,\n                transition: {\n                    duration: 1.8,\n                    ease: \"easeInOut\",\n                    scale: {\n                        duration: 0.6\n                    },\n                    opacity: {\n                        delay: 1.2,\n                        duration: 0.6\n                    }\n                }\n            }\n        };\n    }\n    // Fly-Out Animationen fr einzelne Tiles (nicht geklickte)\n    getFlyOutTileVariants(direction) {\n        const viewportWidth =  false ? 0 : 1200;\n        const viewportHeight =  false ? 0 : 800;\n        const directions = {\n            \"down\": {\n                x: 0,\n                y: viewportHeight,\n                opacity: 0\n            },\n            \"up\": {\n                x: 0,\n                y: -viewportHeight,\n                opacity: 0\n            },\n            \"left\": {\n                x: -viewportWidth,\n                y: 0,\n                opacity: 0\n            },\n            \"right\": {\n                x: viewportWidth,\n                y: 0,\n                opacity: 0\n            },\n            \"up-left\": {\n                x: -viewportWidth,\n                y: -viewportHeight,\n                opacity: 0\n            },\n            \"up-right\": {\n                x: viewportWidth,\n                y: -viewportHeight,\n                opacity: 0\n            },\n            \"down-left\": {\n                x: -viewportWidth,\n                y: viewportHeight,\n                opacity: 0\n            },\n            \"down-right\": {\n                x: viewportWidth,\n                y: viewportHeight,\n                opacity: 0\n            }\n        };\n        return {\n            normal: {\n                x: 0,\n                y: 0,\n                opacity: 1,\n                scale: 1,\n                transition: {\n                    duration: 0.2\n                }\n            },\n            flyOut: {\n                ...directions[direction] || directions[\"down\"],\n                scale: 0.8,\n                transition: {\n                    duration: 1.8,\n                    ease: \"easeIn\"\n                }\n            }\n        };\n    }\n    // Choreographierte Tile-Delays fr gestaffelte Animationen\n    getTileDelay(index, totalTiles, animationType) {\n        switch(animationType){\n            case \"waveIn\":\n                return index * 100; // Welleneffekt\n            case \"spiralInward\":\n            case \"spiralOutward\":\n                return index * 150; // Spiral-Staffelung\n            case \"scatterIn\":\n                return Math.random() * 500; // Zufllige Streuung\n            default:\n                return index * 80; // Standard-Staffelung\n        }\n    }\n}\n// Singleton Export\nconst animationManager = new AnimationManager();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LG1CQUFtQixJQUFJdEQsbUJBQW1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va2luZGVybGV4aWtvbi8uL3V0aWxzL2FuaW1hdGlvbk1hbmFnZXIuanM/ZTIzNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBaZW50cmFsZXIgQW5pbWF0aW9uIE1hbmFnZXIgZsO8ciBjaG9yZW9ncmFwaGllcnRlIFRpbGUtQW5pbWF0aW9uZW5cblxuZXhwb3J0IGNsYXNzIEFuaW1hdGlvbk1hbmFnZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmFuaW1hdGlvblR5cGVzID0gW1xuICAgICAgJ3NsaWRlRnJvbUxlZnQnLFxuICAgICAgJ3NsaWRlRnJvbVJpZ2h0JywgXG4gICAgICAnc2xpZGVGcm9tVG9wJyxcbiAgICAgICdzbGlkZUZyb21Cb3R0b20nLFxuICAgICAgJ3NsaWRlRnJvbVRvcExlZnQnLFxuICAgICAgJ3NsaWRlRnJvbVRvcFJpZ2h0JyxcbiAgICAgICdzbGlkZUZyb21Cb3R0b21MZWZ0JyxcbiAgICAgICdzbGlkZUZyb21Cb3R0b21SaWdodCcsXG4gICAgICAnc3BpcmFsSW53YXJkJyxcbiAgICAgICdzcGlyYWxPdXR3YXJkJyxcbiAgICAgICdzY2F0dGVySW4nLFxuICAgICAgJ3dhdmVJbidcbiAgICBdO1xuICB9XG5cbiAgLy8gWnVmw6RsbGlnZSBBbmltYXRpb24gZsO8ciBkYXMgZ2VzYW10ZSBHcmlkIHfDpGhsZW5cbiAgZ2V0UmFuZG9tR3JpZEFuaW1hdGlvbigpIHtcbiAgICBjb25zdCByYW5kb21JbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMuYW5pbWF0aW9uVHlwZXMubGVuZ3RoKTtcbiAgICByZXR1cm4gdGhpcy5hbmltYXRpb25UeXBlc1tyYW5kb21JbmRleF07XG4gIH1cblxuICAvLyBBbmltYXRpb24tVmFyaWFudGVuIGbDvHIgRnJhbWVyIE1vdGlvbiBkZWZpbmllcmVuXG4gIGdldEdyaWRWYXJpYW50cyhhbmltYXRpb25UeXBlKSB7XG4gICAgY29uc3Qgdmlld3BvcnRXaWR0aCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93LmlubmVyV2lkdGggOiAxMjAwO1xuICAgIGNvbnN0IHZpZXdwb3J0SGVpZ2h0ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cuaW5uZXJIZWlnaHQgOiA4MDA7XG5cbiAgICBjb25zdCB2YXJpYW50cyA9IHtcbiAgICAgIC8vIEVpbmZhY2hlIFJpY2h0dW5nZW5cbiAgICAgIHNsaWRlRnJvbUxlZnQ6IHtcbiAgICAgICAgaGlkZGVuOiB7IHg6IC12aWV3cG9ydFdpZHRoLCBvcGFjaXR5OiAwIH0sXG4gICAgICAgIHZpc2libGU6IHsgeDogMCwgb3BhY2l0eTogMSwgdHJhbnNpdGlvbjogeyBkdXJhdGlvbjogMC44LCBlYXNlOiBcImVhc2VPdXRcIiB9IH0sXG4gICAgICAgIGV4aXQ6IHsgeDogLXZpZXdwb3J0V2lkdGgsIG9wYWNpdHk6IDAsIHRyYW5zaXRpb246IHsgZHVyYXRpb246IDAuNiwgZWFzZTogXCJlYXNlSW5cIiB9IH1cbiAgICAgIH0sXG4gICAgICBzbGlkZUZyb21SaWdodDoge1xuICAgICAgICBoaWRkZW46IHsgeDogdmlld3BvcnRXaWR0aCwgb3BhY2l0eTogMCB9LFxuICAgICAgICB2aXNpYmxlOiB7IHg6IDAsIG9wYWNpdHk6IDEsIHRyYW5zaXRpb246IHsgZHVyYXRpb246IDAuOCwgZWFzZTogXCJlYXNlT3V0XCIgfSB9LFxuICAgICAgICBleGl0OiB7IHg6IHZpZXdwb3J0V2lkdGgsIG9wYWNpdHk6IDAsIHRyYW5zaXRpb246IHsgZHVyYXRpb246IDAuNiwgZWFzZTogXCJlYXNlSW5cIiB9IH1cbiAgICAgIH0sXG4gICAgICBzbGlkZUZyb21Ub3A6IHtcbiAgICAgICAgaGlkZGVuOiB7IHk6IC12aWV3cG9ydEhlaWdodCwgb3BhY2l0eTogMCB9LFxuICAgICAgICB2aXNpYmxlOiB7IHk6IDAsIG9wYWNpdHk6IDEsIHRyYW5zaXRpb246IHsgZHVyYXRpb246IDAuOCwgZWFzZTogXCJlYXNlT3V0XCIgfSB9LFxuICAgICAgICBleGl0OiB7IHk6IC12aWV3cG9ydEhlaWdodCwgb3BhY2l0eTogMCwgdHJhbnNpdGlvbjogeyBkdXJhdGlvbjogMC42LCBlYXNlOiBcImVhc2VJblwiIH0gfVxuICAgICAgfSxcbiAgICAgIHNsaWRlRnJvbUJvdHRvbToge1xuICAgICAgICBoaWRkZW46IHsgeTogdmlld3BvcnRIZWlnaHQsIG9wYWNpdHk6IDAgfSxcbiAgICAgICAgdmlzaWJsZTogeyB5OiAwLCBvcGFjaXR5OiAxLCB0cmFuc2l0aW9uOiB7IGR1cmF0aW9uOiAwLjgsIGVhc2U6IFwiZWFzZU91dFwiIH0gfSxcbiAgICAgICAgZXhpdDogeyB5OiB2aWV3cG9ydEhlaWdodCwgb3BhY2l0eTogMCwgdHJhbnNpdGlvbjogeyBkdXJhdGlvbjogMC42LCBlYXNlOiBcImVhc2VJblwiIH0gfVxuICAgICAgfSxcblxuICAgICAgLy8gRGlhZ29uYWxlIEFuaW1hdGlvbmVuXG4gICAgICBzbGlkZUZyb21Ub3BMZWZ0OiB7XG4gICAgICAgIGhpZGRlbjogeyB4OiAtdmlld3BvcnRXaWR0aCwgeTogLXZpZXdwb3J0SGVpZ2h0LCBvcGFjaXR5OiAwIH0sXG4gICAgICAgIHZpc2libGU6IHsgeDogMCwgeTogMCwgb3BhY2l0eTogMSwgdHJhbnNpdGlvbjogeyBkdXJhdGlvbjogMC45LCBlYXNlOiBcImVhc2VPdXRcIiB9IH0sXG4gICAgICAgIGV4aXQ6IHsgeDogLXZpZXdwb3J0V2lkdGgsIHk6IC12aWV3cG9ydEhlaWdodCwgb3BhY2l0eTogMCwgdHJhbnNpdGlvbjogeyBkdXJhdGlvbjogMC43LCBlYXNlOiBcImVhc2VJblwiIH0gfVxuICAgICAgfSxcbiAgICAgIHNsaWRlRnJvbVRvcFJpZ2h0OiB7XG4gICAgICAgIGhpZGRlbjogeyB4OiB2aWV3cG9ydFdpZHRoLCB5OiAtdmlld3BvcnRIZWlnaHQsIG9wYWNpdHk6IDAgfSxcbiAgICAgICAgdmlzaWJsZTogeyB4OiAwLCB5OiAwLCBvcGFjaXR5OiAxLCB0cmFuc2l0aW9uOiB7IGR1cmF0aW9uOiAwLjksIGVhc2U6IFwiZWFzZU91dFwiIH0gfSxcbiAgICAgICAgZXhpdDogeyB4OiB2aWV3cG9ydFdpZHRoLCB5OiAtdmlld3BvcnRIZWlnaHQsIG9wYWNpdHk6IDAsIHRyYW5zaXRpb246IHsgZHVyYXRpb246IDAuNywgZWFzZTogXCJlYXNlSW5cIiB9IH1cbiAgICAgIH0sXG4gICAgICBzbGlkZUZyb21Cb3R0b21MZWZ0OiB7XG4gICAgICAgIGhpZGRlbjogeyB4OiAtdmlld3BvcnRXaWR0aCwgeTogdmlld3BvcnRIZWlnaHQsIG9wYWNpdHk6IDAgfSxcbiAgICAgICAgdmlzaWJsZTogeyB4OiAwLCB5OiAwLCBvcGFjaXR5OiAxLCB0cmFuc2l0aW9uOiB7IGR1cmF0aW9uOiAwLjksIGVhc2U6IFwiZWFzZU91dFwiIH0gfSxcbiAgICAgICAgZXhpdDogeyB4OiAtdmlld3BvcnRXaWR0aCwgeTogdmlld3BvcnRIZWlnaHQsIG9wYWNpdHk6IDAsIHRyYW5zaXRpb246IHsgZHVyYXRpb246IDAuNywgZWFzZTogXCJlYXNlSW5cIiB9IH1cbiAgICAgIH0sXG4gICAgICBzbGlkZUZyb21Cb3R0b21SaWdodDoge1xuICAgICAgICBoaWRkZW46IHsgeDogdmlld3BvcnRXaWR0aCwgeTogdmlld3BvcnRIZWlnaHQsIG9wYWNpdHk6IDAgfSxcbiAgICAgICAgdmlzaWJsZTogeyB4OiAwLCB5OiAwLCBvcGFjaXR5OiAxLCB0cmFuc2l0aW9uOiB7IGR1cmF0aW9uOiAwLjksIGVhc2U6IFwiZWFzZU91dFwiIH0gfSxcbiAgICAgICAgZXhpdDogeyB4OiB2aWV3cG9ydFdpZHRoLCB5OiB2aWV3cG9ydEhlaWdodCwgb3BhY2l0eTogMCwgdHJhbnNpdGlvbjogeyBkdXJhdGlvbjogMC43LCBlYXNlOiBcImVhc2VJblwiIH0gfVxuICAgICAgfSxcblxuICAgICAgLy8gU3BlemlhbC1BbmltYXRpb25lbiBvaG5lIFJvdGF0aW9uXG4gICAgICBzcGlyYWxJbndhcmQ6IHtcbiAgICAgICAgaGlkZGVuOiB7IHNjYWxlOiAwLCBvcGFjaXR5OiAwIH0sXG4gICAgICAgIHZpc2libGU6IHsgXG4gICAgICAgICAgc2NhbGU6IDEsIFxuICAgICAgICAgIG9wYWNpdHk6IDEsIFxuICAgICAgICAgIHRyYW5zaXRpb246IHsgXG4gICAgICAgICAgICBkdXJhdGlvbjogMS4wLCBcbiAgICAgICAgICAgIGVhc2U6IFwiZWFzZU91dFwiLFxuICAgICAgICAgICAgc2NhbGU6IHsgdHlwZTogXCJzcHJpbmdcIiwgc3RpZmZuZXNzOiA4MCwgZGFtcGluZzogMTUgfVxuICAgICAgICAgIH0gXG4gICAgICAgIH0sXG4gICAgICAgIGV4aXQ6IHsgXG4gICAgICAgICAgc2NhbGU6IDAsIFxuICAgICAgICAgIG9wYWNpdHk6IDAsIFxuICAgICAgICAgIHRyYW5zaXRpb246IHsgXG4gICAgICAgICAgICBkdXJhdGlvbjogMC44LCBcbiAgICAgICAgICAgIGVhc2U6IFwiZWFzZUluXCIgXG4gICAgICAgICAgfSBcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHNwaXJhbE91dHdhcmQ6IHtcbiAgICAgICAgaGlkZGVuOiB7IHNjYWxlOiAyLCBvcGFjaXR5OiAwIH0sXG4gICAgICAgIHZpc2libGU6IHsgXG4gICAgICAgICAgc2NhbGU6IDEsIFxuICAgICAgICAgIG9wYWNpdHk6IDEsIFxuICAgICAgICAgIHRyYW5zaXRpb246IHsgXG4gICAgICAgICAgICBkdXJhdGlvbjogMS4wLCBcbiAgICAgICAgICAgIGVhc2U6IFwiZWFzZU91dFwiLFxuICAgICAgICAgICAgc2NhbGU6IHsgdHlwZTogXCJzcHJpbmdcIiwgc3RpZmZuZXNzOiAxMDAsIGRhbXBpbmc6IDIwIH1cbiAgICAgICAgICB9IFxuICAgICAgICB9LFxuICAgICAgICBleGl0OiB7IFxuICAgICAgICAgIHNjYWxlOiAyLCBcbiAgICAgICAgICBvcGFjaXR5OiAwLCBcbiAgICAgICAgICB0cmFuc2l0aW9uOiB7IFxuICAgICAgICAgICAgZHVyYXRpb246IDAuOCwgXG4gICAgICAgICAgICBlYXNlOiBcImVhc2VJblwiIFxuICAgICAgICAgIH0gXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzY2F0dGVySW46IHtcbiAgICAgICAgaGlkZGVuOiB7IHNjYWxlOiAwLjMsIHg6IE1hdGgucmFuZG9tKCkgKiA0MDAgLSAyMDAsIHk6IE1hdGgucmFuZG9tKCkgKiA0MDAgLSAyMDAsIG9wYWNpdHk6IDAgfSxcbiAgICAgICAgdmlzaWJsZTogeyBcbiAgICAgICAgICBzY2FsZTogMSwgXG4gICAgICAgICAgeDogMCwgXG4gICAgICAgICAgeTogMCwgXG4gICAgICAgICAgb3BhY2l0eTogMSwgXG4gICAgICAgICAgdHJhbnNpdGlvbjogeyBcbiAgICAgICAgICAgIGR1cmF0aW9uOiAxLjAsIFxuICAgICAgICAgICAgZWFzZTogXCJlYXNlT3V0XCIgXG4gICAgICAgICAgfSBcbiAgICAgICAgfSxcbiAgICAgICAgZXhpdDogeyBcbiAgICAgICAgICBzY2FsZTogMC4zLCBcbiAgICAgICAgICB4OiBNYXRoLnJhbmRvbSgpICogNDAwIC0gMjAwLCBcbiAgICAgICAgICB5OiBNYXRoLnJhbmRvbSgpICogNDAwIC0gMjAwLCBcbiAgICAgICAgICBvcGFjaXR5OiAwLCBcbiAgICAgICAgICB0cmFuc2l0aW9uOiB7IFxuICAgICAgICAgICAgZHVyYXRpb246IDAuNywgXG4gICAgICAgICAgICBlYXNlOiBcImVhc2VJblwiIFxuICAgICAgICAgIH0gXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB3YXZlSW46IHtcbiAgICAgICAgaGlkZGVuOiB7IHk6IHZpZXdwb3J0SGVpZ2h0LCBvcGFjaXR5OiAwLCBza2V3WTogMTAgfSxcbiAgICAgICAgdmlzaWJsZTogeyBcbiAgICAgICAgICB5OiAwLCBcbiAgICAgICAgICBvcGFjaXR5OiAxLCBcbiAgICAgICAgICBza2V3WTogMCxcbiAgICAgICAgICB0cmFuc2l0aW9uOiB7IFxuICAgICAgICAgICAgZHVyYXRpb246IDEuMCwgXG4gICAgICAgICAgICBlYXNlOiBcImVhc2VPdXRcIixcbiAgICAgICAgICAgIHk6IHsgdHlwZTogXCJzcHJpbmdcIiwgc3RpZmZuZXNzOiAxMDAsIGRhbXBpbmc6IDE1IH1cbiAgICAgICAgICB9IFxuICAgICAgICB9LFxuICAgICAgICBleGl0OiB7IFxuICAgICAgICAgIHk6IC12aWV3cG9ydEhlaWdodCwgXG4gICAgICAgICAgb3BhY2l0eTogMCwgXG4gICAgICAgICAgc2tld1k6IC0xMCxcbiAgICAgICAgICB0cmFuc2l0aW9uOiB7IFxuICAgICAgICAgICAgZHVyYXRpb246IDAuOCwgXG4gICAgICAgICAgICBlYXNlOiBcImVhc2VJblwiIFxuICAgICAgICAgIH0gXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIHZhcmlhbnRzW2FuaW1hdGlvblR5cGVdIHx8IHZhcmlhbnRzLnNsaWRlRnJvbUxlZnQ7XG4gIH1cblxuICAvLyBDbGlja2VkIFRpbGUgQW5pbWF0aW9uIC0gVGlsZSB3w6RjaHN0IHVuZCB2ZXJibGFzc3RcbiAgZ2V0Q2xpY2tlZFRpbGVWYXJpYW50cygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbm9ybWFsOiB7XG4gICAgICAgIHNjYWxlOiAxLFxuICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICB0cmFuc2l0aW9uOiB7IGR1cmF0aW9uOiAwLjIgfVxuICAgICAgfSxcbiAgICAgIGNsaWNrZWQ6IHtcbiAgICAgICAgc2NhbGU6IDEuMixcbiAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgdHJhbnNpdGlvbjogeyBcbiAgICAgICAgICBkdXJhdGlvbjogMS44LFxuICAgICAgICAgIGVhc2U6IFwiZWFzZUluT3V0XCIsXG4gICAgICAgICAgc2NhbGU6IHsgZHVyYXRpb246IDAuNiB9LFxuICAgICAgICAgIG9wYWNpdHk6IHsgZGVsYXk6IDEuMiwgZHVyYXRpb246IDAuNiB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gRmx5LU91dCBBbmltYXRpb25lbiBmw7xyIGVpbnplbG5lIFRpbGVzIChuaWNodCBnZWtsaWNrdGUpXG4gIGdldEZseU91dFRpbGVWYXJpYW50cyhkaXJlY3Rpb24pIHtcbiAgICBjb25zdCB2aWV3cG9ydFdpZHRoID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cuaW5uZXJXaWR0aCA6IDEyMDA7XG4gICAgY29uc3Qgdmlld3BvcnRIZWlnaHQgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdy5pbm5lckhlaWdodCA6IDgwMDtcblxuICAgIGNvbnN0IGRpcmVjdGlvbnMgPSB7XG4gICAgICAnZG93bic6IHsgeDogMCwgeTogdmlld3BvcnRIZWlnaHQsIG9wYWNpdHk6IDAgfSxcbiAgICAgICd1cCc6IHsgeDogMCwgeTogLXZpZXdwb3J0SGVpZ2h0LCBvcGFjaXR5OiAwIH0sXG4gICAgICAnbGVmdCc6IHsgeDogLXZpZXdwb3J0V2lkdGgsIHk6IDAsIG9wYWNpdHk6IDAgfSxcbiAgICAgICdyaWdodCc6IHsgeDogdmlld3BvcnRXaWR0aCwgeTogMCwgb3BhY2l0eTogMCB9LFxuICAgICAgJ3VwLWxlZnQnOiB7IHg6IC12aWV3cG9ydFdpZHRoLCB5OiAtdmlld3BvcnRIZWlnaHQsIG9wYWNpdHk6IDAgfSxcbiAgICAgICd1cC1yaWdodCc6IHsgeDogdmlld3BvcnRXaWR0aCwgeTogLXZpZXdwb3J0SGVpZ2h0LCBvcGFjaXR5OiAwIH0sXG4gICAgICAnZG93bi1sZWZ0JzogeyB4OiAtdmlld3BvcnRXaWR0aCwgeTogdmlld3BvcnRIZWlnaHQsIG9wYWNpdHk6IDAgfSxcbiAgICAgICdkb3duLXJpZ2h0JzogeyB4OiB2aWV3cG9ydFdpZHRoLCB5OiB2aWV3cG9ydEhlaWdodCwgb3BhY2l0eTogMCB9XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICBub3JtYWw6IHtcbiAgICAgICAgeDogMCxcbiAgICAgICAgeTogMCxcbiAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgc2NhbGU6IDEsXG4gICAgICAgIHRyYW5zaXRpb246IHsgZHVyYXRpb246IDAuMiB9XG4gICAgICB9LFxuICAgICAgZmx5T3V0OiB7XG4gICAgICAgIC4uLmRpcmVjdGlvbnNbZGlyZWN0aW9uXSB8fCBkaXJlY3Rpb25zWydkb3duJ10sXG4gICAgICAgIHNjYWxlOiAwLjgsXG4gICAgICAgIHRyYW5zaXRpb246IHsgXG4gICAgICAgICAgZHVyYXRpb246IDEuOCxcbiAgICAgICAgICBlYXNlOiBcImVhc2VJblwiXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gQ2hvcmVvZ3JhcGhpZXJ0ZSBUaWxlLURlbGF5cyBmw7xyIGdlc3RhZmZlbHRlIEFuaW1hdGlvbmVuXG4gIGdldFRpbGVEZWxheShpbmRleCwgdG90YWxUaWxlcywgYW5pbWF0aW9uVHlwZSkge1xuICAgIHN3aXRjaCAoYW5pbWF0aW9uVHlwZSkge1xuICAgICAgY2FzZSAnd2F2ZUluJzpcbiAgICAgICAgcmV0dXJuIGluZGV4ICogMTAwOyAvLyBXZWxsZW5lZmZla3RcbiAgICAgIGNhc2UgJ3NwaXJhbElud2FyZCc6XG4gICAgICBjYXNlICdzcGlyYWxPdXR3YXJkJzpcbiAgICAgICAgcmV0dXJuIGluZGV4ICogMTUwOyAvLyBTcGlyYWwtU3RhZmZlbHVuZ1xuICAgICAgY2FzZSAnc2NhdHRlckluJzpcbiAgICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiA1MDA7IC8vIFp1ZsOkbGxpZ2UgU3RyZXV1bmdcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBpbmRleCAqIDgwOyAvLyBTdGFuZGFyZC1TdGFmZmVsdW5nXG4gICAgfVxuICB9XG59XG5cbi8vIFNpbmdsZXRvbiBFeHBvcnRcbmV4cG9ydCBjb25zdCBhbmltYXRpb25NYW5hZ2VyID0gbmV3IEFuaW1hdGlvbk1hbmFnZXIoKTsgIl0sIm5hbWVzIjpbIkFuaW1hdGlvbk1hbmFnZXIiLCJjb25zdHJ1Y3RvciIsImFuaW1hdGlvblR5cGVzIiwiZ2V0UmFuZG9tR3JpZEFuaW1hdGlvbiIsInJhbmRvbUluZGV4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwibGVuZ3RoIiwiZ2V0R3JpZFZhcmlhbnRzIiwiYW5pbWF0aW9uVHlwZSIsInZpZXdwb3J0V2lkdGgiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwidmlld3BvcnRIZWlnaHQiLCJpbm5lckhlaWdodCIsInZhcmlhbnRzIiwic2xpZGVGcm9tTGVmdCIsImhpZGRlbiIsIngiLCJvcGFjaXR5IiwidmlzaWJsZSIsInRyYW5zaXRpb24iLCJkdXJhdGlvbiIsImVhc2UiLCJleGl0Iiwic2xpZGVGcm9tUmlnaHQiLCJzbGlkZUZyb21Ub3AiLCJ5Iiwic2xpZGVGcm9tQm90dG9tIiwic2xpZGVGcm9tVG9wTGVmdCIsInNsaWRlRnJvbVRvcFJpZ2h0Iiwic2xpZGVGcm9tQm90dG9tTGVmdCIsInNsaWRlRnJvbUJvdHRvbVJpZ2h0Iiwic3BpcmFsSW53YXJkIiwic2NhbGUiLCJ0eXBlIiwic3RpZmZuZXNzIiwiZGFtcGluZyIsInNwaXJhbE91dHdhcmQiLCJzY2F0dGVySW4iLCJ3YXZlSW4iLCJza2V3WSIsImdldENsaWNrZWRUaWxlVmFyaWFudHMiLCJub3JtYWwiLCJjbGlja2VkIiwiZGVsYXkiLCJnZXRGbHlPdXRUaWxlVmFyaWFudHMiLCJkaXJlY3Rpb24iLCJkaXJlY3Rpb25zIiwiZmx5T3V0IiwiZ2V0VGlsZURlbGF5IiwiaW5kZXgiLCJ0b3RhbFRpbGVzIiwiYW5pbWF0aW9uTWFuYWdlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./utils/animationManager.js\n");

/***/ }),

/***/ "./utils/imageCache.js":
/*!*****************************!*\
  !*** ./utils/imageCache.js ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearCachedImage: () => (/* binding */ clearCachedImage),\n/* harmony export */   getCachedImage: () => (/* binding */ getCachedImage)\n/* harmony export */ });\n/* harmony import */ var idb_keyval__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! idb-keyval */ \"idb-keyval\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([idb_keyval__WEBPACK_IMPORTED_MODULE_0__]);\nidb_keyval__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n// Image Cache Utility for Base64-Caching in Local Storage with 7-day expiry\nconst DEFAULT_EXPIRY_DAYS = 7;\nfunction getCacheKey(url, version = \"\") {\n    return `imgcache_${url}_${version}`;\n}\nfunction getExpiryKey(url, version = \"\") {\n    return `imgcache_expiry_${url}_${version}`;\n}\nasync function getCachedImage(url, version = \"\", expiryDays = DEFAULT_EXPIRY_DAYS) {\n    const cacheKey = getCacheKey(url, version);\n    const expiryKey = getExpiryKey(url, version);\n    const now = Date.now();\n    try {\n        const expiry = await (0,idb_keyval__WEBPACK_IMPORTED_MODULE_0__.get)(expiryKey);\n        if (expiry && parseInt(expiry, 10) > now) {\n            const cached = await (0,idb_keyval__WEBPACK_IMPORTED_MODULE_0__.get)(cacheKey);\n            if (cached) return cached;\n        } else {\n            // Expired: Clean up\n            await (0,idb_keyval__WEBPACK_IMPORTED_MODULE_0__.del)(cacheKey);\n            await (0,idb_keyval__WEBPACK_IMPORTED_MODULE_0__.del)(expiryKey);\n        }\n    } catch (e) {\n        // IndexedDB may be unavailable\n        console.warn(\"ImageCache: IndexedDB not available\", e);\n    }\n    // Fetch and cache image as Base64\n    const response = await fetch(url);\n    if (!response.ok) throw new Error(\"Image download failed: \" + url);\n    const blob = await response.blob();\n    const base64 = await new Promise((resolve, reject)=>{\n        const reader = new FileReader();\n        reader.onloadend = ()=>resolve(reader.result);\n        reader.onerror = reject;\n        reader.readAsDataURL(blob);\n    });\n    try {\n        await (0,idb_keyval__WEBPACK_IMPORTED_MODULE_0__.set)(cacheKey, base64);\n        await (0,idb_keyval__WEBPACK_IMPORTED_MODULE_0__.set)(expiryKey, (now + expiryDays * 24 * 60 * 60 * 1000).toString());\n    } catch (e) {\n        // IndexedDB full or error\n        console.warn(\"ImageCache: IndexedDB full or error, cannot cache image\", e);\n    }\n    return base64;\n}\nasync function clearCachedImage(url, version = \"\") {\n    const cacheKey = getCacheKey(url, version);\n    const expiryKey = getExpiryKey(url, version);\n    await (0,idb_keyval__WEBPACK_IMPORTED_MODULE_0__.del)(cacheKey);\n    await (0,idb_keyval__WEBPACK_IMPORTED_MODULE_0__.del)(expiryKey);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9pbWFnZUNhY2hlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUEyQztBQUUzQyw0RUFBNEU7QUFDNUUsTUFBTUcsc0JBQXNCO0FBRTVCLFNBQVNDLFlBQVlDLEdBQUcsRUFBRUMsVUFBVSxFQUFFO0lBQ3BDLE9BQU8sQ0FBQyxTQUFTLEVBQUVELElBQUksQ0FBQyxFQUFFQyxRQUFRLENBQUM7QUFDckM7QUFFQSxTQUFTQyxhQUFhRixHQUFHLEVBQUVDLFVBQVUsRUFBRTtJQUNyQyxPQUFPLENBQUMsZ0JBQWdCLEVBQUVELElBQUksQ0FBQyxFQUFFQyxRQUFRLENBQUM7QUFDNUM7QUFFTyxlQUFlRSxlQUFlSCxHQUFHLEVBQUVDLFVBQVUsRUFBRSxFQUFFRyxhQUFhTixtQkFBbUI7SUFDdEYsTUFBTU8sV0FBV04sWUFBWUMsS0FBS0M7SUFDbEMsTUFBTUssWUFBWUosYUFBYUYsS0FBS0M7SUFDcEMsTUFBTU0sTUFBTUMsS0FBS0QsR0FBRztJQUVwQixJQUFJO1FBQ0YsTUFBTUUsU0FBUyxNQUFNYiwrQ0FBR0EsQ0FBQ1U7UUFDekIsSUFBSUcsVUFBVUMsU0FBU0QsUUFBUSxNQUFNRixLQUFLO1lBQ3hDLE1BQU1JLFNBQVMsTUFBTWYsK0NBQUdBLENBQUNTO1lBQ3pCLElBQUlNLFFBQVEsT0FBT0E7UUFDckIsT0FBTztZQUNMLG9CQUFvQjtZQUNwQixNQUFNZCwrQ0FBR0EsQ0FBQ1E7WUFDVixNQUFNUiwrQ0FBR0EsQ0FBQ1M7UUFDWjtJQUNGLEVBQUUsT0FBT00sR0FBRztRQUNWLCtCQUErQjtRQUMvQkMsUUFBUUMsSUFBSSxDQUFDLHVDQUF1Q0Y7SUFDdEQ7SUFFQSxrQ0FBa0M7SUFDbEMsTUFBTUcsV0FBVyxNQUFNQyxNQUFNaEI7SUFDN0IsSUFBSSxDQUFDZSxTQUFTRSxFQUFFLEVBQUUsTUFBTSxJQUFJQyxNQUFNLDRCQUE0QmxCO0lBQzlELE1BQU1tQixPQUFPLE1BQU1KLFNBQVNJLElBQUk7SUFDaEMsTUFBTUMsU0FBUyxNQUFNLElBQUlDLFFBQVEsQ0FBQ0MsU0FBU0M7UUFDekMsTUFBTUMsU0FBUyxJQUFJQztRQUNuQkQsT0FBT0UsU0FBUyxHQUFHLElBQU1KLFFBQVFFLE9BQU9HLE1BQU07UUFDOUNILE9BQU9JLE9BQU8sR0FBR0w7UUFDakJDLE9BQU9LLGFBQWEsQ0FBQ1Y7SUFDdkI7SUFFQSxJQUFJO1FBQ0YsTUFBTXhCLCtDQUFHQSxDQUFDVSxVQUFVZTtRQUNwQixNQUFNekIsK0NBQUdBLENBQUNXLFdBQVcsQ0FBQ0MsTUFBTUgsYUFBYSxLQUFLLEtBQUssS0FBSyxJQUFHLEVBQUcwQixRQUFRO0lBQ3hFLEVBQUUsT0FBT2xCLEdBQUc7UUFDViwwQkFBMEI7UUFDMUJDLFFBQVFDLElBQUksQ0FBQywyREFBMkRGO0lBQzFFO0lBRUEsT0FBT1E7QUFDVDtBQUVPLGVBQWVXLGlCQUFpQi9CLEdBQUcsRUFBRUMsVUFBVSxFQUFFO0lBQ3RELE1BQU1JLFdBQVdOLFlBQVlDLEtBQUtDO0lBQ2xDLE1BQU1LLFlBQVlKLGFBQWFGLEtBQUtDO0lBQ3BDLE1BQU1KLCtDQUFHQSxDQUFDUTtJQUNWLE1BQU1SLCtDQUFHQSxDQUFDUztBQUNaIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va2luZGVybGV4aWtvbi8uL3V0aWxzL2ltYWdlQ2FjaGUuanM/MjRkMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzZXQsIGdldCwgZGVsIH0gZnJvbSAnaWRiLWtleXZhbCc7XHJcblxyXG4vLyBJbWFnZSBDYWNoZSBVdGlsaXR5IGZvciBCYXNlNjQtQ2FjaGluZyBpbiBMb2NhbCBTdG9yYWdlIHdpdGggNy1kYXkgZXhwaXJ5XHJcbmNvbnN0IERFRkFVTFRfRVhQSVJZX0RBWVMgPSA3O1xyXG5cclxuZnVuY3Rpb24gZ2V0Q2FjaGVLZXkodXJsLCB2ZXJzaW9uID0gJycpIHtcclxuICByZXR1cm4gYGltZ2NhY2hlXyR7dXJsfV8ke3ZlcnNpb259YDtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0RXhwaXJ5S2V5KHVybCwgdmVyc2lvbiA9ICcnKSB7XHJcbiAgcmV0dXJuIGBpbWdjYWNoZV9leHBpcnlfJHt1cmx9XyR7dmVyc2lvbn1gO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q2FjaGVkSW1hZ2UodXJsLCB2ZXJzaW9uID0gJycsIGV4cGlyeURheXMgPSBERUZBVUxUX0VYUElSWV9EQVlTKSB7XHJcbiAgY29uc3QgY2FjaGVLZXkgPSBnZXRDYWNoZUtleSh1cmwsIHZlcnNpb24pO1xyXG4gIGNvbnN0IGV4cGlyeUtleSA9IGdldEV4cGlyeUtleSh1cmwsIHZlcnNpb24pO1xyXG4gIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBleHBpcnkgPSBhd2FpdCBnZXQoZXhwaXJ5S2V5KTtcclxuICAgIGlmIChleHBpcnkgJiYgcGFyc2VJbnQoZXhwaXJ5LCAxMCkgPiBub3cpIHtcclxuICAgICAgY29uc3QgY2FjaGVkID0gYXdhaXQgZ2V0KGNhY2hlS2V5KTtcclxuICAgICAgaWYgKGNhY2hlZCkgcmV0dXJuIGNhY2hlZDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIEV4cGlyZWQ6IENsZWFuIHVwXHJcbiAgICAgIGF3YWl0IGRlbChjYWNoZUtleSk7XHJcbiAgICAgIGF3YWl0IGRlbChleHBpcnlLZXkpO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIC8vIEluZGV4ZWREQiBtYXkgYmUgdW5hdmFpbGFibGVcclxuICAgIGNvbnNvbGUud2FybignSW1hZ2VDYWNoZTogSW5kZXhlZERCIG5vdCBhdmFpbGFibGUnLCBlKTtcclxuICB9XHJcblxyXG4gIC8vIEZldGNoIGFuZCBjYWNoZSBpbWFnZSBhcyBCYXNlNjRcclxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCk7XHJcbiAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKCdJbWFnZSBkb3dubG9hZCBmYWlsZWQ6ICcgKyB1cmwpO1xyXG4gIGNvbnN0IGJsb2IgPSBhd2FpdCByZXNwb25zZS5ibG9iKCk7XHJcbiAgY29uc3QgYmFzZTY0ID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgIHJlYWRlci5vbmxvYWRlbmQgPSAoKSA9PiByZXNvbHZlKHJlYWRlci5yZXN1bHQpO1xyXG4gICAgcmVhZGVyLm9uZXJyb3IgPSByZWplY3Q7XHJcbiAgICByZWFkZXIucmVhZEFzRGF0YVVSTChibG9iKTtcclxuICB9KTtcclxuXHJcbiAgdHJ5IHtcclxuICAgIGF3YWl0IHNldChjYWNoZUtleSwgYmFzZTY0KTtcclxuICAgIGF3YWl0IHNldChleHBpcnlLZXksIChub3cgKyBleHBpcnlEYXlzICogMjQgKiA2MCAqIDYwICogMTAwMCkudG9TdHJpbmcoKSk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgLy8gSW5kZXhlZERCIGZ1bGwgb3IgZXJyb3JcclxuICAgIGNvbnNvbGUud2FybignSW1hZ2VDYWNoZTogSW5kZXhlZERCIGZ1bGwgb3IgZXJyb3IsIGNhbm5vdCBjYWNoZSBpbWFnZScsIGUpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGJhc2U2NDtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNsZWFyQ2FjaGVkSW1hZ2UodXJsLCB2ZXJzaW9uID0gJycpIHtcclxuICBjb25zdCBjYWNoZUtleSA9IGdldENhY2hlS2V5KHVybCwgdmVyc2lvbik7XHJcbiAgY29uc3QgZXhwaXJ5S2V5ID0gZ2V0RXhwaXJ5S2V5KHVybCwgdmVyc2lvbik7XHJcbiAgYXdhaXQgZGVsKGNhY2hlS2V5KTtcclxuICBhd2FpdCBkZWwoZXhwaXJ5S2V5KTtcclxufSAiXSwibmFtZXMiOlsic2V0IiwiZ2V0IiwiZGVsIiwiREVGQVVMVF9FWFBJUllfREFZUyIsImdldENhY2hlS2V5IiwidXJsIiwidmVyc2lvbiIsImdldEV4cGlyeUtleSIsImdldENhY2hlZEltYWdlIiwiZXhwaXJ5RGF5cyIsImNhY2hlS2V5IiwiZXhwaXJ5S2V5Iiwibm93IiwiRGF0ZSIsImV4cGlyeSIsInBhcnNlSW50IiwiY2FjaGVkIiwiZSIsImNvbnNvbGUiLCJ3YXJuIiwicmVzcG9uc2UiLCJmZXRjaCIsIm9rIiwiRXJyb3IiLCJibG9iIiwiYmFzZTY0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkZW5kIiwicmVzdWx0Iiwib25lcnJvciIsInJlYWRBc0RhdGFVUkwiLCJ0b1N0cmluZyIsImNsZWFyQ2FjaGVkSW1hZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./utils/imageCache.js\n");

/***/ }),

/***/ "./styles/globals.css":
/*!****************************!*\
  !*** ./styles/globals.css ***!
  \****************************/
/***/ (() => {



/***/ }),

/***/ "next/dist/compiled/next-server/pages.runtime.dev.js":
/*!**********************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages.runtime.dev.js" ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/pages.runtime.dev.js");

/***/ }),

/***/ "next/head":
/*!****************************!*\
  !*** external "next/head" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/head");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "react-dom":
/*!****************************!*\
  !*** external "react-dom" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("react-dom");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "react/jsx-runtime":
/*!************************************!*\
  !*** external "react/jsx-runtime" ***!
  \************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-runtime");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "idb-keyval":
/*!*****************************!*\
  !*** external "idb-keyval" ***!
  \*****************************/
/***/ ((module) => {

"use strict";
module.exports = import("idb-keyval");;

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@swc","vendor-chunks/framer-motion"], () => (__webpack_exec__("./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%5Cindex.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();