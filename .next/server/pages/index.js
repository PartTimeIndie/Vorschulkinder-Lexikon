/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/index";
exports.ids = ["pages/index"];
exports.modules = {

/***/ "./public/websiteBaseImages/questionmark.png":
/*!***************************************************!*\
  !*** ./public/websiteBaseImages/questionmark.png ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\"src\":\"/_next/static/media/questionmark.7cf4244c.png\",\"height\":1024,\"width\":1024,\"blurDataURL\":\"/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Fquestionmark.7cf4244c.png&w=8&q=70\",\"blurWidth\":8,\"blurHeight\":8});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvd2Vic2l0ZUJhc2VJbWFnZXMvcXVlc3Rpb25tYXJrLnBuZyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsQ0FBQyw4TUFBOE0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9raW5kZXJsZXhpa29uLy4vcHVibGljL3dlYnNpdGVCYXNlSW1hZ2VzL3F1ZXN0aW9ubWFyay5wbmc/MzBkOCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XCJzcmNcIjpcIi9fbmV4dC9zdGF0aWMvbWVkaWEvcXVlc3Rpb25tYXJrLjdjZjQyNDRjLnBuZ1wiLFwiaGVpZ2h0XCI6MTAyNCxcIndpZHRoXCI6MTAyNCxcImJsdXJEYXRhVVJMXCI6XCIvX25leHQvaW1hZ2U/dXJsPSUyRl9uZXh0JTJGc3RhdGljJTJGbWVkaWElMkZxdWVzdGlvbm1hcmsuN2NmNDI0NGMucG5nJnc9OCZxPTcwXCIsXCJibHVyV2lkdGhcIjo4LFwiYmx1ckhlaWdodFwiOjh9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/websiteBaseImages/questionmark.png\n");

/***/ }),

/***/ "./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%5Cindex.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%5Cindex.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getServerSideProps: () => (/* binding */ getServerSideProps),\n/* harmony export */   getStaticPaths: () => (/* binding */ getStaticPaths),\n/* harmony export */   getStaticProps: () => (/* binding */ getStaticProps),\n/* harmony export */   reportWebVitals: () => (/* binding */ reportWebVitals),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   unstable_getServerProps: () => (/* binding */ unstable_getServerProps),\n/* harmony export */   unstable_getServerSideProps: () => (/* binding */ unstable_getServerSideProps),\n/* harmony export */   unstable_getStaticParams: () => (/* binding */ unstable_getStaticParams),\n/* harmony export */   unstable_getStaticPaths: () => (/* binding */ unstable_getStaticPaths),\n/* harmony export */   unstable_getStaticProps: () => (/* binding */ unstable_getStaticProps)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages/module.compiled */ \"./node_modules/next/dist/server/future/route-modules/pages/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! private-next-pages/_document */ \"./pages/_document.js\");\n/* harmony import */ var private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! private-next-pages/_app */ \"./pages/_app.js\");\n/* harmony import */ var _pages_index_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pages\\index.js */ \"./pages/index.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__, _pages_index_js__WEBPACK_IMPORTED_MODULE_5__]);\n([private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__, _pages_index_js__WEBPACK_IMPORTED_MODULE_5__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n// Import the app and document modules.\n\n\n// Import the userland code.\n\n// Re-export the component (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"default\"));\n// Re-export methods.\nconst getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"getStaticProps\");\nconst getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"getStaticPaths\");\nconst getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"getServerSideProps\");\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"config\");\nconst reportWebVitals = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"reportWebVitals\");\n// Re-export legacy methods.\nconst unstable_getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticProps\");\nconst unstable_getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticPaths\");\nconst unstable_getStaticParams = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticParams\");\nconst unstable_getServerProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerProps\");\nconst unstable_getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerSideProps\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES,\n        page: \"/index\",\n        pathname: \"/\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    components: {\n        App: private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n        Document: private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__[\"default\"]\n    },\n    userland: _pages_index_js__WEBPACK_IMPORTED_MODULE_5__\n});\n\n//# sourceMappingURL=pages.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTJnBhZ2U9JTJGJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlNUNpbmRleC5qcyZhYnNvbHV0ZUFwcFBhdGg9cHJpdmF0ZS1uZXh0LXBhZ2VzJTJGX2FwcCZhYnNvbHV0ZURvY3VtZW50UGF0aD1wcml2YXRlLW5leHQtcGFnZXMlMkZfZG9jdW1lbnQmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDaEM7QUFDTDtBQUMxRDtBQUNvRDtBQUNWO0FBQzFDO0FBQzhDO0FBQzlDO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyw0Q0FBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyx1QkFBdUIsd0VBQUssQ0FBQyw0Q0FBUTtBQUNyQyx1QkFBdUIsd0VBQUssQ0FBQyw0Q0FBUTtBQUNyQywyQkFBMkIsd0VBQUssQ0FBQyw0Q0FBUTtBQUN6QyxlQUFlLHdFQUFLLENBQUMsNENBQVE7QUFDN0Isd0JBQXdCLHdFQUFLLENBQUMsNENBQVE7QUFDN0M7QUFDTyxnQ0FBZ0Msd0VBQUssQ0FBQyw0Q0FBUTtBQUM5QyxnQ0FBZ0Msd0VBQUssQ0FBQyw0Q0FBUTtBQUM5QyxpQ0FBaUMsd0VBQUssQ0FBQyw0Q0FBUTtBQUMvQyxnQ0FBZ0Msd0VBQUssQ0FBQyw0Q0FBUTtBQUM5QyxvQ0FBb0Msd0VBQUssQ0FBQyw0Q0FBUTtBQUN6RDtBQUNPLHdCQUF3Qix5R0FBZ0I7QUFDL0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxXQUFXO0FBQ1gsZ0JBQWdCO0FBQ2hCLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCxpQyIsInNvdXJjZXMiOlsid2VicGFjazovL2tpbmRlcmxleGlrb24vPzJjZTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSBhcHAgYW5kIGRvY3VtZW50IG1vZHVsZXMuXG5pbXBvcnQgRG9jdW1lbnQgZnJvbSBcInByaXZhdGUtbmV4dC1wYWdlcy9fZG9jdW1lbnRcIjtcbmltcG9ydCBBcHAgZnJvbSBcInByaXZhdGUtbmV4dC1wYWdlcy9fYXBwXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlc1xcXFxpbmRleC5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBjb21wb25lbnQgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBtZXRob2RzLlxuZXhwb3J0IGNvbnN0IGdldFN0YXRpY1Byb3BzID0gaG9pc3QodXNlcmxhbmQsIFwiZ2V0U3RhdGljUHJvcHNcIik7XG5leHBvcnQgY29uc3QgZ2V0U3RhdGljUGF0aHMgPSBob2lzdCh1c2VybGFuZCwgXCJnZXRTdGF0aWNQYXRoc1wiKTtcbmV4cG9ydCBjb25zdCBnZXRTZXJ2ZXJTaWRlUHJvcHMgPSBob2lzdCh1c2VybGFuZCwgXCJnZXRTZXJ2ZXJTaWRlUHJvcHNcIik7XG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuZXhwb3J0IGNvbnN0IHJlcG9ydFdlYlZpdGFscyA9IGhvaXN0KHVzZXJsYW5kLCBcInJlcG9ydFdlYlZpdGFsc1wiKTtcbi8vIFJlLWV4cG9ydCBsZWdhY3kgbWV0aG9kcy5cbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9nZXRTdGF0aWNQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCBcInVuc3RhYmxlX2dldFN0YXRpY1Byb3BzXCIpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFN0YXRpY1BhdGhzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U3RhdGljUGF0aHNcIik7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U3RhdGljUGFyYW1zID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U3RhdGljUGFyYW1zXCIpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFNlcnZlclByb3BzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U2VydmVyUHJvcHNcIik7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U2VydmVyU2lkZVByb3BzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U2VydmVyU2lkZVByb3BzXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVMsXG4gICAgICAgIHBhZ2U6IFwiL2luZGV4XCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9cIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgY29tcG9uZW50czoge1xuICAgICAgICBBcHAsXG4gICAgICAgIERvY3VtZW50XG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%5Cindex.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "./components/CategoryTile.js":
/*!************************************!*\
  !*** ./components/CategoryTile.js ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/image */ \"./node_modules/next/image.js\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_image__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! framer-motion */ \"framer-motion\");\n/* harmony import */ var _utils_animationManager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/animationManager */ \"./utils/animationManager.js\");\n/* harmony import */ var _utils_assetCache__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/assetCache */ \"./utils/assetCache.js\");\n/* harmony import */ var _public_websiteBaseImages_questionmark_png__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../public/websiteBaseImages/questionmark.png */ \"./public/websiteBaseImages/questionmark.png\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([framer_motion__WEBPACK_IMPORTED_MODULE_3__, _utils_assetCache__WEBPACK_IMPORTED_MODULE_5__]);\n([framer_motion__WEBPACK_IMPORTED_MODULE_3__, _utils_assetCache__WEBPACK_IMPORTED_MODULE_5__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\nconst CategoryTile = ({ poolTile, delay = 0, base64Image, tileKey// <-- Add this prop to receive the key\n })=>{\n    const isDebugTile = poolTile?.id === \"tile-0\";\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isDebugTile) console.log(`[TILE] MOUNT id=${poolTile?.id}, contentId=${poolTile?.content?.id}, animationMode=${poolTile?.animationMode}, key=${tileKey}`);\n        return ()=>{\n            if (isDebugTile) console.log(`[TILE] UNMOUNT id=${poolTile?.id}, contentId=${poolTile?.content?.id}, animationMode=${poolTile?.animationMode}, key=${tileKey}`);\n        };\n    }, [\n        tileKey\n    ]);\n    const [imgLoaded, setImgLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const lastImageUrlRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Bild-URL ermitteln (muss immer definiert sein, auch wenn das Tile nicht sichtbar ist)\n    const getImageUrl = (lowRes = true)=>{\n        const category = poolTile?.content;\n        if (!category || !category.image || !category.image.filename) {\n            return null; // No real image, use placeholder\n        }\n        // Wenn es ein Tier/Entry ist, immer /images/ verwenden\n        if (poolTile?.isAnimal) {\n            return lowRes ? `/images/lowres/${category.image.filename}` : `/images/${category.image.filename}`;\n        }\n        // Sonst Kategorie/Subkategorie\n        return lowRes ? `/kategorien/images/lowres/${category.image.filename}` : `/kategorien/images/${category.image.filename}`;\n    };\n    const imageUrl = getImageUrl(); // immer berechnen\n    // State for the actual image source (Base64 or URL)\n    const [imgSrc, setImgSrc] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(imageUrl || _public_websiteBaseImages_questionmark_png__WEBPACK_IMPORTED_MODULE_6__[\"default\"].src);\n    const [prevImgSrc, setPrevImgSrc] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let isMounted = true;\n        if (imgSrc) {\n            setPrevImgSrc(imgSrc);\n            (0,_utils_assetCache__WEBPACK_IMPORTED_MODULE_5__.getCachedAsset)(imgSrc).then((base64)=>{\n                if (isMounted && base64) setImgSrc(base64);\n            }).catch(()=>{\n                if (isMounted) setImgSrc(imgSrc);\n            });\n        } else {\n            setPrevImgSrc(null);\n            setImgSrc(null);\n        }\n        return ()=>{\n            isMounted = false;\n        };\n    }, [\n        imgSrc\n    ]);\n    // Only reset imgLoaded if the imageUrl actually changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (lastImageUrlRef.current !== imageUrl) {\n            setImgLoaded(false);\n            if (isDebugTile) console.log(`[TILE] imgLoaded set to FALSE for id=${poolTile?.id}, imageUrl=${imageUrl}, key=${tileKey}`);\n            lastImageUrlRef.current = imageUrl;\n        }\n    }, [\n        imageUrl,\n        tileKey\n    ]);\n    // Reset image state when the image filename changes (e.g., when tile content changes)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const filename = poolTile?.content?.image?.filename;\n        if (filename) {\n            setImgSrc(getImageUrl(true));\n            setImgLoaded(false);\n            setPrevImgSrc(null);\n            if (isDebugTile) console.log(`[IMG] Reset imgSrc and imgLoaded for tileId=${poolTile?.id}, filename=${filename}`);\n        }\n    }, [\n        poolTile?.content?.image?.filename\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isDebugTile) console.log(`[IMG] MOUNT for tileId=${poolTile?.id}, imageUrl=${imageUrl}, key=${tileKey}`);\n        return ()=>{\n            if (isDebugTile) console.log(`[IMG] UNMOUNT for tileId=${poolTile?.id}, imageUrl=${imageUrl}, key=${tileKey}`);\n        };\n    }, [\n        imageUrl,\n        tileKey\n    ]);\n    if (isDebugTile) console.log(`[TILE] RENDER id=${poolTile?.id}, contentId=${poolTile?.content?.id}, animationMode=${poolTile?.animationMode}, imageUrl=${imageUrl}, imgLoaded=${imgLoaded}, key=${tileKey}`);\n    if (!poolTile?.isVisible || !poolTile?.content) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"category-tile\",\n            style: {\n                opacity: 0,\n                pointerEvents: \"none\",\n                visibility: \"hidden\",\n                width: \"100%\",\n                height: \"100%\"\n            }\n        }, void 0, false, {\n            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\components\\\\CategoryTile.js\",\n            lineNumber: 95,\n            columnNumber: 7\n        }, undefined);\n    }\n    const { content: category, animationMode, isAnimal, isPlayed, isCurrentlyPlaying, onClick } = poolTile;\n    const handleClick = ()=>{\n        if (animationMode) return;\n        if (onClick) {\n            onClick(category);\n        }\n    };\n    const isClicked = animationMode === \"clicked\";\n    const isFlyingOut = animationMode && animationMode.startsWith(\"fall-out-\");\n    let tileVariants;\n    let animateState;\n    if (isClicked) {\n        tileVariants = _utils_animationManager__WEBPACK_IMPORTED_MODULE_4__.animationManager.getClickedTileVariants();\n        animateState = \"clicked\";\n    } else if (isFlyingOut) {\n        const direction = animationMode.replace(\"fall-out-\", \"\");\n        tileVariants = _utils_animationManager__WEBPACK_IMPORTED_MODULE_4__.animationManager.getFlyOutTileVariants(direction);\n        animateState = \"flyOut\";\n    } else {\n        tileVariants = {\n            normal: {\n                opacity: 1,\n                scale: 1,\n                x: 0,\n                y: 0\n            }\n        };\n        animateState = \"normal\";\n    }\n    const getTileClasses = ()=>{\n        let classes = \"category-tile\";\n        if (isAnimal && isCurrentlyPlaying) {\n            classes += \" currently-playing\";\n        }\n        return classes;\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_3__.motion.div, {\n        className: getTileClasses(),\n        onClick: handleClick,\n        variants: tileVariants,\n        initial: \"normal\",\n        animate: animateState,\n        transition: {\n            duration: 1.8,\n            ease: \"easeInOut\"\n        },\n        style: {\n            pointerEvents: animationMode ? \"none\" : \"auto\",\n            zIndex: isClicked ? 1000 : \"auto\",\n            transform: \"translateZ(0)\",\n            backfaceVisibility: \"hidden\",\n            WebkitBackfaceVisibility: \"hidden\",\n            willChange: animationMode ? \"transform, opacity\" : \"auto\",\n            background: imgLoaded ? \"linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%)\" : \"transparent\"\n        },\n        children: [\n            isAnimal && isPlayed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"completion-badge\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                    src: \"/websiteBaseImages/abzeichen.png\",\n                    alt: \"Bereits geh\\xf6rt\",\n                    width: 40,\n                    height: 40,\n                    style: {\n                        objectFit: \"contain\"\n                    }\n                }, void 0, false, {\n                    fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\components\\\\CategoryTile.js\",\n                    lineNumber: 173,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\components\\\\CategoryTile.js\",\n                lineNumber: 172,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    position: \"absolute\",\n                    inset: 0,\n                    width: \"100%\",\n                    height: \"100%\"\n                },\n                children: [\n                    prevImgSrc && !imgLoaded && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                        src: prevImgSrc,\n                        alt: \"\",\n                        width: 300,\n                        height: 180,\n                        className: \"category-image\",\n                        style: {\n                            objectFit: \"cover\",\n                            position: \"absolute\",\n                            inset: 0,\n                            width: \"100%\",\n                            height: \"100%\",\n                            zIndex: 0,\n                            opacity: 1,\n                            transition: \"opacity 0.2s\"\n                        },\n                        draggable: false\n                    }, void 0, false, {\n                        fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\components\\\\CategoryTile.js\",\n                        lineNumber: 185,\n                        columnNumber: 11\n                    }, undefined),\n                    imgSrc && imgSrc !== \"null\" && imgSrc !== \"/null\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                        src: imgSrc,\n                        alt: category.image?.alt || category.name,\n                        width: 300,\n                        height: 180,\n                        className: \"category-image\",\n                        style: {\n                            objectFit: \"cover\",\n                            position: \"absolute\",\n                            inset: 0,\n                            width: \"100%\",\n                            height: \"100%\",\n                            zIndex: 1,\n                            opacity: imgLoaded ? 1 : 0,\n                            transition: \"opacity 0.2s\"\n                        },\n                        onLoad: ()=>{\n                            setImgLoaded(true);\n                            setPrevImgSrc(null);\n                            if (isDebugTile) console.log(`[IMG] onLoad for tileId=${poolTile?.id}, imageUrl=${imgSrc}`);\n                        },\n                        onError: ()=>{\n                            // Fallback to original image if low-res not found\n                            if (imgSrc !== getImageUrl(false) && getImageUrl(false)) setImgSrc(getImageUrl(false));\n                            else setImgLoaded(true);\n                            setPrevImgSrc(null);\n                            if (isDebugTile) console.log(`[IMG] onError for tileId=${poolTile?.id}, imageUrl=${imgSrc}`);\n                        },\n                        draggable: false\n                    }, imgSrc, false, {\n                        fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\components\\\\CategoryTile.js\",\n                        lineNumber: 196,\n                        columnNumber: 11\n                    }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                        src: _public_websiteBaseImages_questionmark_png__WEBPACK_IMPORTED_MODULE_6__[\"default\"].src,\n                        alt: \"?\",\n                        width: 300,\n                        height: 180,\n                        className: \"category-image\",\n                        style: {\n                            objectFit: \"cover\",\n                            position: \"absolute\",\n                            inset: 0,\n                            width: \"100%\",\n                            height: \"100%\",\n                            zIndex: 1,\n                            opacity: 1,\n                            transition: \"opacity 0.2s\"\n                        },\n                        draggable: false\n                    }, void 0, false, {\n                        fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\components\\\\CategoryTile.js\",\n                        lineNumber: 219,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\components\\\\CategoryTile.js\",\n                lineNumber: 183,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"category-content\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                        className: \"category-title\",\n                        children: category.name\n                    }, void 0, false, {\n                        fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\components\\\\CategoryTile.js\",\n                        lineNumber: 231,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"category-description\",\n                        children: category.description || \"\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\components\\\\CategoryTile.js\",\n                        lineNumber: 232,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\components\\\\CategoryTile.js\",\n                lineNumber: 230,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\components\\\\CategoryTile.js\",\n        lineNumber: 151,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CategoryTile);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFJMUQsV0FBV1AsWUFBWSxVQUFVQSxZQUFZLFFBQVFRLFVBQVVSLFlBQVk7aUNBQzFFRixhQUFhOzRCQUNsQmEsY0FBYzs0QkFDZCxJQUFJcEIsYUFBYUUsUUFBUUMsR0FBRyxDQUFDLENBQUMseUJBQXlCLEVBQUVQLFVBQVVLLEdBQUcsV0FBVyxFQUFFZSxPQUFPLENBQUM7d0JBQzdGO3dCQUNBdUQsV0FBVzt1QkFuQk52RDs7OztrREFzQlAsOERBQUNrRDt3QkFDQ2hELEtBQUt4QixzRkFBZ0I7d0JBQ3JCeUUsS0FBSTt3QkFDSmxDLE9BQU87d0JBQ1BDLFFBQVE7d0JBQ1JOLFdBQVU7d0JBQ1ZDLE9BQU87NEJBQUV1QyxXQUFXOzRCQUFTQyxVQUFVOzRCQUFZQyxPQUFPOzRCQUFHckMsT0FBTzs0QkFBUUMsUUFBUTs0QkFBUTBCLFFBQVE7NEJBQUc5QixTQUFTOzRCQUFHMkIsWUFBWTt3QkFBZTt3QkFDOUljLFdBQVc7Ozs7Ozs7Ozs7OzswQkFJakIsOERBQUM1QztnQkFBSUMsV0FBVTs7a0NBQ2IsOERBQUMrQzt3QkFBRy9DLFdBQVU7a0NBQWtCakIsU0FBUzZELElBQUk7Ozs7OztrQ0FDN0MsOERBQUNJO3dCQUFFaEQsV0FBVTtrQ0FDVmpCLFNBQVNrRSxXQUFXLElBQUk7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUtuQztBQUVBLGlFQUFlbEYsWUFBWUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2tpbmRlcmxleGlrb24vLi9jb21wb25lbnRzL0NhdGVnb3J5VGlsZS5qcz9jZDFiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBJbWFnZSBmcm9tICduZXh0L2ltYWdlJztcbmltcG9ydCB7IG1vdGlvbiB9IGZyb20gJ2ZyYW1lci1tb3Rpb24nO1xuaW1wb3J0IHsgYW5pbWF0aW9uTWFuYWdlciB9IGZyb20gJy4uL3V0aWxzL2FuaW1hdGlvbk1hbmFnZXInO1xuaW1wb3J0IHsgZ2V0Q2FjaGVkQXNzZXQgfSBmcm9tICcuLi91dGlscy9hc3NldENhY2hlJztcbmltcG9ydCBxdWVzdGlvbm1hcmsgZnJvbSAnLi4vcHVibGljL3dlYnNpdGVCYXNlSW1hZ2VzL3F1ZXN0aW9ubWFyay5wbmcnO1xuXG5jb25zdCBDYXRlZ29yeVRpbGUgPSAoeyBcbiAgcG9vbFRpbGUsICAvLyBKZXR6dCBuZWhtZW4gd2lyIGRhcyBrb21wbGV0dGUgVGlsZSBhdXMgZGVtIFBvb2xcbiAgZGVsYXkgPSAwLFxuICBiYXNlNjRJbWFnZSwgLy8gRsO8Z2UgYmFzZTY0SW1hZ2UgYWxzIG9wdGlvbmFsZXMgUHJvcCBoaW56dSAoZsO8ciBzcMOkdGVyZSBPcHRpbWllcnVuZylcbiAgdGlsZUtleSAvLyA8LS0gQWRkIHRoaXMgcHJvcCB0byByZWNlaXZlIHRoZSBrZXlcbn0pID0+IHtcbiAgY29uc3QgaXNEZWJ1Z1RpbGUgPSBwb29sVGlsZT8uaWQgPT09ICd0aWxlLTAnO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlzRGVidWdUaWxlKSBjb25zb2xlLmxvZyhgW1RJTEVdIE1PVU5UIGlkPSR7cG9vbFRpbGU/LmlkfSwgY29udGVudElkPSR7cG9vbFRpbGU/LmNvbnRlbnQ/LmlkfSwgYW5pbWF0aW9uTW9kZT0ke3Bvb2xUaWxlPy5hbmltYXRpb25Nb2RlfSwga2V5PSR7dGlsZUtleX1gKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKGlzRGVidWdUaWxlKSBjb25zb2xlLmxvZyhgW1RJTEVdIFVOTU9VTlQgaWQ9JHtwb29sVGlsZT8uaWR9LCBjb250ZW50SWQ9JHtwb29sVGlsZT8uY29udGVudD8uaWR9LCBhbmltYXRpb25Nb2RlPSR7cG9vbFRpbGU/LmFuaW1hdGlvbk1vZGV9LCBrZXk9JHt0aWxlS2V5fWApO1xuICAgIH07XG4gIH0sIFt0aWxlS2V5XSk7XG5cbiAgY29uc3QgW2ltZ0xvYWRlZCwgc2V0SW1nTG9hZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgbGFzdEltYWdlVXJsUmVmID0gdXNlUmVmKG51bGwpO1xuXG4gIC8vIEJpbGQtVVJMIGVybWl0dGVsbiAobXVzcyBpbW1lciBkZWZpbmllcnQgc2VpbiwgYXVjaCB3ZW5uIGRhcyBUaWxlIG5pY2h0IHNpY2h0YmFyIGlzdClcbiAgY29uc3QgZ2V0SW1hZ2VVcmwgPSAobG93UmVzID0gdHJ1ZSkgPT4ge1xuICAgIGNvbnN0IGNhdGVnb3J5ID0gcG9vbFRpbGU/LmNvbnRlbnQ7XG4gICAgaWYgKCFjYXRlZ29yeSB8fCAhY2F0ZWdvcnkuaW1hZ2UgfHwgIWNhdGVnb3J5LmltYWdlLmZpbGVuYW1lKSB7XG4gICAgICByZXR1cm4gbnVsbDsgLy8gTm8gcmVhbCBpbWFnZSwgdXNlIHBsYWNlaG9sZGVyXG4gICAgfVxuICAgIC8vIFdlbm4gZXMgZWluIFRpZXIvRW50cnkgaXN0LCBpbW1lciAvaW1hZ2VzLyB2ZXJ3ZW5kZW5cbiAgICBpZiAocG9vbFRpbGU/LmlzQW5pbWFsKSB7XG4gICAgICByZXR1cm4gbG93UmVzID8gYC9pbWFnZXMvbG93cmVzLyR7Y2F0ZWdvcnkuaW1hZ2UuZmlsZW5hbWV9YCA6IGAvaW1hZ2VzLyR7Y2F0ZWdvcnkuaW1hZ2UuZmlsZW5hbWV9YDtcbiAgICB9XG4gICAgLy8gU29uc3QgS2F0ZWdvcmllL1N1YmthdGVnb3JpZVxuICAgIHJldHVybiBsb3dSZXMgPyBgL2thdGVnb3JpZW4vaW1hZ2VzL2xvd3Jlcy8ke2NhdGVnb3J5LmltYWdlLmZpbGVuYW1lfWAgOiBgL2thdGVnb3JpZW4vaW1hZ2VzLyR7Y2F0ZWdvcnkuaW1hZ2UuZmlsZW5hbWV9YDtcbiAgfTtcblxuICBjb25zdCBpbWFnZVVybCA9IGdldEltYWdlVXJsKCk7IC8vIGltbWVyIGJlcmVjaG5lblxuXG4gIC8vIFN0YXRlIGZvciB0aGUgYWN0dWFsIGltYWdlIHNvdXJjZSAoQmFzZTY0IG9yIFVSTClcbiAgY29uc3QgW2ltZ1NyYywgc2V0SW1nU3JjXSA9IHVzZVN0YXRlKGltYWdlVXJsIHx8IHF1ZXN0aW9ubWFyay5zcmMpO1xuICBjb25zdCBbcHJldkltZ1NyYywgc2V0UHJldkltZ1NyY10gPSB1c2VTdGF0ZShudWxsKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBpc01vdW50ZWQgPSB0cnVlO1xuICAgIGlmIChpbWdTcmMpIHtcbiAgICAgIHNldFByZXZJbWdTcmMoaW1nU3JjKTtcbiAgICAgIGdldENhY2hlZEFzc2V0KGltZ1NyYylcbiAgICAgICAgLnRoZW4oYmFzZTY0ID0+IHtcbiAgICAgICAgICBpZiAoaXNNb3VudGVkICYmIGJhc2U2NCkgc2V0SW1nU3JjKGJhc2U2NCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgaWYgKGlzTW91bnRlZCkgc2V0SW1nU3JjKGltZ1NyYyk7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRQcmV2SW1nU3JjKG51bGwpO1xuICAgICAgc2V0SW1nU3JjKG51bGwpO1xuICAgIH1cbiAgICByZXR1cm4gKCkgPT4geyBpc01vdW50ZWQgPSBmYWxzZTsgfTtcbiAgfSwgW2ltZ1NyY10pO1xuXG4gIC8vIE9ubHkgcmVzZXQgaW1nTG9hZGVkIGlmIHRoZSBpbWFnZVVybCBhY3R1YWxseSBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGxhc3RJbWFnZVVybFJlZi5jdXJyZW50ICE9PSBpbWFnZVVybCkge1xuICAgICAgc2V0SW1nTG9hZGVkKGZhbHNlKTtcbiAgICAgIGlmIChpc0RlYnVnVGlsZSkgY29uc29sZS5sb2coYFtUSUxFXSBpbWdMb2FkZWQgc2V0IHRvIEZBTFNFIGZvciBpZD0ke3Bvb2xUaWxlPy5pZH0sIGltYWdlVXJsPSR7aW1hZ2VVcmx9LCBrZXk9JHt0aWxlS2V5fWApO1xuICAgICAgbGFzdEltYWdlVXJsUmVmLmN1cnJlbnQgPSBpbWFnZVVybDtcbiAgICB9XG4gIH0sIFtpbWFnZVVybCwgdGlsZUtleV0pO1xuXG4gIC8vIFJlc2V0IGltYWdlIHN0YXRlIHdoZW4gdGhlIGltYWdlIGZpbGVuYW1lIGNoYW5nZXMgKGUuZy4sIHdoZW4gdGlsZSBjb250ZW50IGNoYW5nZXMpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZmlsZW5hbWUgPSBwb29sVGlsZT8uY29udGVudD8uaW1hZ2U/LmZpbGVuYW1lO1xuICAgIGlmIChmaWxlbmFtZSkge1xuICAgICAgc2V0SW1nU3JjKGdldEltYWdlVXJsKHRydWUpKTtcbiAgICAgIHNldEltZ0xvYWRlZChmYWxzZSk7XG4gICAgICBzZXRQcmV2SW1nU3JjKG51bGwpO1xuICAgICAgaWYgKGlzRGVidWdUaWxlKSBjb25zb2xlLmxvZyhgW0lNR10gUmVzZXQgaW1nU3JjIGFuZCBpbWdMb2FkZWQgZm9yIHRpbGVJZD0ke3Bvb2xUaWxlPy5pZH0sIGZpbGVuYW1lPSR7ZmlsZW5hbWV9YCk7XG4gICAgfVxuICB9LCBbcG9vbFRpbGU/LmNvbnRlbnQ/LmltYWdlPy5maWxlbmFtZV0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlzRGVidWdUaWxlKSBjb25zb2xlLmxvZyhgW0lNR10gTU9VTlQgZm9yIHRpbGVJZD0ke3Bvb2xUaWxlPy5pZH0sIGltYWdlVXJsPSR7aW1hZ2VVcmx9LCBrZXk9JHt0aWxlS2V5fWApO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAoaXNEZWJ1Z1RpbGUpIGNvbnNvbGUubG9nKGBbSU1HXSBVTk1PVU5UIGZvciB0aWxlSWQ9JHtwb29sVGlsZT8uaWR9LCBpbWFnZVVybD0ke2ltYWdlVXJsfSwga2V5PSR7dGlsZUtleX1gKTtcbiAgICB9O1xuICB9LCBbaW1hZ2VVcmwsIHRpbGVLZXldKTtcblxuICBpZiAoaXNEZWJ1Z1RpbGUpIGNvbnNvbGUubG9nKGBbVElMRV0gUkVOREVSIGlkPSR7cG9vbFRpbGU/LmlkfSwgY29udGVudElkPSR7cG9vbFRpbGU/LmNvbnRlbnQ/LmlkfSwgYW5pbWF0aW9uTW9kZT0ke3Bvb2xUaWxlPy5hbmltYXRpb25Nb2RlfSwgaW1hZ2VVcmw9JHtpbWFnZVVybH0sIGltZ0xvYWRlZD0ke2ltZ0xvYWRlZH0sIGtleT0ke3RpbGVLZXl9YCk7XG5cbiAgaWYgKCFwb29sVGlsZT8uaXNWaXNpYmxlIHx8ICFwb29sVGlsZT8uY29udGVudCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IFxuICAgICAgICBjbGFzc05hbWU9XCJjYXRlZ29yeS10aWxlXCIgXG4gICAgICAgIHN0eWxlPXt7IFxuICAgICAgICAgIG9wYWNpdHk6IDAsIFxuICAgICAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJyxcbiAgICAgICAgICB2aXNpYmlsaXR5OiAnaGlkZGVuJyxcbiAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgIGhlaWdodDogJzEwMCUnXG4gICAgICAgIH19XG4gICAgICAvPlxuICAgICk7XG4gIH1cbiAgXG4gIGNvbnN0IHsgY29udGVudDogY2F0ZWdvcnksIGFuaW1hdGlvbk1vZGUsIGlzQW5pbWFsLCBpc1BsYXllZCwgaXNDdXJyZW50bHlQbGF5aW5nLCBvbkNsaWNrIH0gPSBwb29sVGlsZTtcblxuICBjb25zdCBoYW5kbGVDbGljayA9ICgpID0+IHtcbiAgICBpZiAoYW5pbWF0aW9uTW9kZSkgcmV0dXJuO1xuICAgIGlmIChvbkNsaWNrKSB7XG4gICAgICBvbkNsaWNrKGNhdGVnb3J5KTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaXNDbGlja2VkID0gYW5pbWF0aW9uTW9kZSA9PT0gJ2NsaWNrZWQnO1xuICBjb25zdCBpc0ZseWluZ091dCA9IGFuaW1hdGlvbk1vZGUgJiYgYW5pbWF0aW9uTW9kZS5zdGFydHNXaXRoKCdmYWxsLW91dC0nKTtcblxuICBsZXQgdGlsZVZhcmlhbnRzO1xuICBsZXQgYW5pbWF0ZVN0YXRlO1xuXG4gIGlmIChpc0NsaWNrZWQpIHtcbiAgICB0aWxlVmFyaWFudHMgPSBhbmltYXRpb25NYW5hZ2VyLmdldENsaWNrZWRUaWxlVmFyaWFudHMoKTtcbiAgICBhbmltYXRlU3RhdGUgPSAnY2xpY2tlZCc7XG4gIH0gZWxzZSBpZiAoaXNGbHlpbmdPdXQpIHtcbiAgICBjb25zdCBkaXJlY3Rpb24gPSBhbmltYXRpb25Nb2RlLnJlcGxhY2UoJ2ZhbGwtb3V0LScsICcnKTtcbiAgICB0aWxlVmFyaWFudHMgPSBhbmltYXRpb25NYW5hZ2VyLmdldEZseU91dFRpbGVWYXJpYW50cyhkaXJlY3Rpb24pO1xuICAgIGFuaW1hdGVTdGF0ZSA9ICdmbHlPdXQnO1xuICB9IGVsc2Uge1xuICAgIHRpbGVWYXJpYW50cyA9IHtcbiAgICAgIG5vcm1hbDogeyBcbiAgICAgICAgb3BhY2l0eTogMSwgXG4gICAgICAgIHNjYWxlOiAxLCBcbiAgICAgICAgeDogMCwgXG4gICAgICAgIHk6IDBcbiAgICAgIH1cbiAgICB9O1xuICAgIGFuaW1hdGVTdGF0ZSA9ICdub3JtYWwnO1xuICB9XG5cbiAgY29uc3QgZ2V0VGlsZUNsYXNzZXMgPSAoKSA9PiB7XG4gICAgbGV0IGNsYXNzZXMgPSBcImNhdGVnb3J5LXRpbGVcIjtcbiAgICBpZiAoaXNBbmltYWwgJiYgaXNDdXJyZW50bHlQbGF5aW5nKSB7XG4gICAgICBjbGFzc2VzICs9IFwiIGN1cnJlbnRseS1wbGF5aW5nXCI7XG4gICAgfVxuICAgIHJldHVybiBjbGFzc2VzO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPG1vdGlvbi5kaXYgXG4gICAgICBjbGFzc05hbWU9e2dldFRpbGVDbGFzc2VzKCl9XG4gICAgICBvbkNsaWNrPXtoYW5kbGVDbGlja31cbiAgICAgIHZhcmlhbnRzPXt0aWxlVmFyaWFudHN9XG4gICAgICBpbml0aWFsPVwibm9ybWFsXCJcbiAgICAgIGFuaW1hdGU9e2FuaW1hdGVTdGF0ZX1cbiAgICAgIHRyYW5zaXRpb249e3sgXG4gICAgICAgIGR1cmF0aW9uOiAxLjgsIFxuICAgICAgICBlYXNlOiBcImVhc2VJbk91dFwiXG4gICAgICB9fVxuICAgICAgc3R5bGU9e3sgXG4gICAgICAgIHBvaW50ZXJFdmVudHM6IGFuaW1hdGlvbk1vZGUgPyAnbm9uZScgOiAnYXV0bycsXG4gICAgICAgIHpJbmRleDogaXNDbGlja2VkID8gMTAwMCA6ICdhdXRvJyxcbiAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlWigwKScsXG4gICAgICAgIGJhY2tmYWNlVmlzaWJpbGl0eTogJ2hpZGRlbicsXG4gICAgICAgIFdlYmtpdEJhY2tmYWNlVmlzaWJpbGl0eTogJ2hpZGRlbicsXG4gICAgICAgIHdpbGxDaGFuZ2U6IGFuaW1hdGlvbk1vZGUgPyAndHJhbnNmb3JtLCBvcGFjaXR5JyA6ICdhdXRvJyxcbiAgICAgICAgYmFja2dyb3VuZDogaW1nTG9hZGVkID8gJ2xpbmVhci1ncmFkaWVudCgxMzVkZWcsICNlOGY1ZTggMCUsICNjOGU2YzkgMTAwJSknIDogJ3RyYW5zcGFyZW50JyxcbiAgICAgIH19XG4gICAgPlxuICAgICAge2lzQW5pbWFsICYmIGlzUGxheWVkICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb21wbGV0aW9uLWJhZGdlXCI+XG4gICAgICAgICAgPGltZ1xuICAgICAgICAgICAgc3JjPVwiL3dlYnNpdGVCYXNlSW1hZ2VzL2FiemVpY2hlbi5wbmdcIlxuICAgICAgICAgICAgYWx0PVwiQmVyZWl0cyBnZWjDtnJ0XCJcbiAgICAgICAgICAgIHdpZHRoPXs0MH1cbiAgICAgICAgICAgIGhlaWdodD17NDB9XG4gICAgICAgICAgICBzdHlsZT17eyBvYmplY3RGaXQ6ICdjb250YWluJyB9fVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICAgIHsvKiBDcm9zc2ZhZGU6IHNob3cgcHJldmlvdXMgaW1hZ2UgdW50aWwgbmV3IG9uZSBpcyBsb2FkZWQgKi99XG4gICAgICA8ZGl2IHN0eWxlPXt7cG9zaXRpb246ICdhYnNvbHV0ZScsIGluc2V0OiAwLCB3aWR0aDogJzEwMCUnLCBoZWlnaHQ6ICcxMDAlJ319PlxuICAgICAgICB7cHJldkltZ1NyYyAmJiAhaW1nTG9hZGVkICYmIChcbiAgICAgICAgICA8aW1nXG4gICAgICAgICAgICBzcmM9e3ByZXZJbWdTcmN9XG4gICAgICAgICAgICBhbHQ9XCJcIlxuICAgICAgICAgICAgd2lkdGg9ezMwMH1cbiAgICAgICAgICAgIGhlaWdodD17MTgwfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2F0ZWdvcnktaW1hZ2VcIlxuICAgICAgICAgICAgc3R5bGU9e3sgb2JqZWN0Rml0OiAnY292ZXInLCBwb3NpdGlvbjogJ2Fic29sdXRlJywgaW5zZXQ6IDAsIHdpZHRoOiAnMTAwJScsIGhlaWdodDogJzEwMCUnLCB6SW5kZXg6IDAsIG9wYWNpdHk6IDEsIHRyYW5zaXRpb246ICdvcGFjaXR5IDAuMnMnIH19XG4gICAgICAgICAgICBkcmFnZ2FibGU9e2ZhbHNlfVxuICAgICAgICAgIC8+XG4gICAgICAgICl9XG4gICAgICAgIHtpbWdTcmMgJiYgaW1nU3JjICE9PSAnbnVsbCcgJiYgaW1nU3JjICE9PSAnL251bGwnID8gKFxuICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgIGtleT17aW1nU3JjfVxuICAgICAgICAgICAgc3JjPXtpbWdTcmN9XG4gICAgICAgICAgICBhbHQ9e2NhdGVnb3J5LmltYWdlPy5hbHQgfHwgY2F0ZWdvcnkubmFtZX1cbiAgICAgICAgICAgIHdpZHRoPXszMDB9XG4gICAgICAgICAgICBoZWlnaHQ9ezE4MH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImNhdGVnb3J5LWltYWdlXCJcbiAgICAgICAgICAgIHN0eWxlPXt7IG9iamVjdEZpdDogJ2NvdmVyJywgcG9zaXRpb246ICdhYnNvbHV0ZScsIGluc2V0OiAwLCB3aWR0aDogJzEwMCUnLCBoZWlnaHQ6ICcxMDAlJywgekluZGV4OiAxLCBvcGFjaXR5OiBpbWdMb2FkZWQgPyAxIDogMCwgdHJhbnNpdGlvbjogJ29wYWNpdHkgMC4ycycgfX1cbiAgICAgICAgICAgIG9uTG9hZD17KCkgPT4ge1xuICAgICAgICAgICAgICBzZXRJbWdMb2FkZWQodHJ1ZSk7XG4gICAgICAgICAgICAgIHNldFByZXZJbWdTcmMobnVsbCk7XG4gICAgICAgICAgICAgIGlmIChpc0RlYnVnVGlsZSkgY29uc29sZS5sb2coYFtJTUddIG9uTG9hZCBmb3IgdGlsZUlkPSR7cG9vbFRpbGU/LmlkfSwgaW1hZ2VVcmw9JHtpbWdTcmN9YCk7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgb25FcnJvcj17KCkgPT4ge1xuICAgICAgICAgICAgICAvLyBGYWxsYmFjayB0byBvcmlnaW5hbCBpbWFnZSBpZiBsb3ctcmVzIG5vdCBmb3VuZFxuICAgICAgICAgICAgICBpZiAoaW1nU3JjICE9PSBnZXRJbWFnZVVybChmYWxzZSkgJiYgZ2V0SW1hZ2VVcmwoZmFsc2UpKSBzZXRJbWdTcmMoZ2V0SW1hZ2VVcmwoZmFsc2UpKTtcbiAgICAgICAgICAgICAgZWxzZSBzZXRJbWdMb2FkZWQodHJ1ZSk7XG4gICAgICAgICAgICAgIHNldFByZXZJbWdTcmMobnVsbCk7XG4gICAgICAgICAgICAgIGlmIChpc0RlYnVnVGlsZSkgY29uc29sZS5sb2coYFtJTUddIG9uRXJyb3IgZm9yIHRpbGVJZD0ke3Bvb2xUaWxlPy5pZH0sIGltYWdlVXJsPSR7aW1nU3JjfWApO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIGRyYWdnYWJsZT17ZmFsc2V9XG4gICAgICAgICAgLz5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8aW1nXG4gICAgICAgICAgICBzcmM9e3F1ZXN0aW9ubWFyay5zcmN9XG4gICAgICAgICAgICBhbHQ9XCI/XCJcbiAgICAgICAgICAgIHdpZHRoPXszMDB9XG4gICAgICAgICAgICBoZWlnaHQ9ezE4MH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImNhdGVnb3J5LWltYWdlXCJcbiAgICAgICAgICAgIHN0eWxlPXt7IG9iamVjdEZpdDogJ2NvdmVyJywgcG9zaXRpb246ICdhYnNvbHV0ZScsIGluc2V0OiAwLCB3aWR0aDogJzEwMCUnLCBoZWlnaHQ6ICcxMDAlJywgekluZGV4OiAxLCBvcGFjaXR5OiAxLCB0cmFuc2l0aW9uOiAnb3BhY2l0eSAwLjJzJyB9fVxuICAgICAgICAgICAgZHJhZ2dhYmxlPXtmYWxzZX1cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhdGVnb3J5LWNvbnRlbnRcIj5cbiAgICAgICAgPGgzIGNsYXNzTmFtZT1cImNhdGVnb3J5LXRpdGxlXCI+e2NhdGVnb3J5Lm5hbWV9PC9oMz5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwiY2F0ZWdvcnktZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICB7Y2F0ZWdvcnkuZGVzY3JpcHRpb24gfHwgJyd9XG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvbW90aW9uLmRpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IENhdGVnb3J5VGlsZTsgIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwiSW1hZ2UiLCJtb3Rpb24iLCJhbmltYXRpb25NYW5hZ2VyIiwiZ2V0Q2FjaGVkQXNzZXQiLCJxdWVzdGlvbm1hcmsiLCJDYXRlZ29yeVRpbGUiLCJwb29sVGlsZSIsImRlbGF5IiwiYmFzZTY0SW1hZ2UiLCJ0aWxlS2V5IiwiaXNEZWJ1Z1RpbGUiLCJpZCIsImNvbnNvbGUiLCJsb2ciLCJjb250ZW50IiwiYW5pbWF0aW9uTW9kZSIsImltZ0xvYWRlZCIsInNldEltZ0xvYWRlZCIsImxhc3RJbWFnZVVybFJlZiIsImdldEltYWdlVXJsIiwibG93UmVzIiwiY2F0ZWdvcnkiLCJpbWFnZSIsImZpbGVuYW1lIiwiaXNBbmltYWwiLCJpbWFnZVVybCIsImltZ1NyYyIsInNldEltZ1NyYyIsInNyYyIsInByZXZJbWdTcmMiLCJzZXRQcmV2SW1nU3JjIiwiaXNNb3VudGVkIiwidGhlbiIsImJhc2U2NCIsImNhdGNoIiwiY3VycmVudCIsImlzVmlzaWJsZSIsImRpdiIsImNsYXNzTmFtZSIsInN0eWxlIiwib3BhY2l0eSIsInBvaW50ZXJFdmVudHMiLCJ2aXNpYmlsaXR5Iiwid2lkdGgiLCJoZWlnaHQiLCJpc1BsYXllZCIsImlzQ3VycmVudGx5UGxheWluZyIsIm9uQ2xpY2siLCJoYW5kbGVDbGljayIsImlzQ2xpY2tlZCIsImlzRmx5aW5nT3V0Iiwic3RhcnRzV2l0aCIsInRpbGVWYXJpYW50cyIsImFuaW1hdGVTdGF0ZSIsImdldENsaWNrZWRUaWxlVmFyaWFudHMiLCJkaXJlY3Rpb24iLCJyZXBsYWNlIiwiZ2V0Rmx5T3V0VGlsZVZhcmlhbnRzIiwibm9ybWFsIiwic2NhbGUiLCJ4IiwieSIsImdldFRpbGVDbGFzc2VzIiwiY2xhc3NlcyIsInZhcmlhbnRzIiwiaW5pdGlhbCIsImFuaW1hdGUiLCJ0cmFuc2l0aW9uIiwiZHVyYXRpb24iLCJlYXNlIiwiekluZGV4IiwidHJhbnNmb3JtIiwiYmFja2ZhY2VWaXNpYmlsaXR5IiwiV2Via2l0QmFja2ZhY2VWaXNpYmlsaXR5Iiwid2lsbENoYW5nZSIsImJhY2tncm91bmQiLCJpbWciLCJhbHQiLCJvYmplY3RGaXQiLCJwb3NpdGlvbiIsImluc2V0IiwiZHJhZ2dhYmxlIiwibmFtZSIsIm9uTG9hZCIsIm9uRXJyb3IiLCJoMyIsInAiLCJkZXNjcmlwdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/CategoryTile.js\n");

/***/ }),

/***/ "./components/Character.js":
/*!*********************************!*\
  !*** ./components/Character.js ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/image */ \"./node_modules/next/image.js\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_image__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _utils_assetCache__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/assetCache */ \"./utils/assetCache.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_utils_assetCache__WEBPACK_IMPORTED_MODULE_3__]);\n_utils_assetCache__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n// Statische Variable um sicherzustellen dass Character nur EINMAL initialisiert wird\nlet characterInitialized = false;\n// Entferne die Hilfsfunktion getCharacterImageUrl\nconst Character = ({ currentContext = \"idle\", onEmotionChange })=>{\n    const [currentEmotion, setCurrentEmotion] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"idle\");\n    const [isRotating, setIsRotating] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [rotationPhase, setRotationPhase] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"idle\"); // 'idle', 'out', 'in'\n    const [availableEmotions, setAvailableEmotions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([\n        \"idle\",\n        \"curious\"\n    ]);\n    const [hasLoaded, setHasLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(characterInitialized); // Fr initiale Fly-In Animation - einmal fr immer\n    const [lastProcessedContext, setLastProcessedContext] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null); // Verhindert mehrfache Emotion-Wechsel\n    const [lastEmotionChangeTime, setLastEmotionChangeTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0); // Cooldown fr Emotion-Changes\n    const autoResetTimer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const emotionChangeTimer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Character-Bilder-Varianten definieren\n    const characterVariants = {\n        idle: [\n            \"/Characters/Character-idle.png\",\n            \"/Characters/Character-idle-2.png\",\n            \"/Characters/Character-idle-3.png\"\n        ],\n        excited: [\n            \"/Characters/Character-excited.png\",\n            \"/Characters/Character-excited-2.png\",\n            \"/Characters/Character-excited-3.png\"\n        ],\n        curious: [\n            \"/Characters/Character-curious.png\",\n            \"/Characters/Character-curious-2.png\",\n            \"/Characters/Character-curious-3.png\"\n        ],\n        surprised: [\n            \"/Characters/Character-surprised.png\",\n            \"/Characters/Character-surprised-2.png\",\n            \"/Characters/Character-surprised-3.png\"\n        ],\n        thinking: [\n            \"/Characters/Character-thinking.png\",\n            \"/Characters/Character-thinking-2.png\",\n            \"/Characters/Character-thinking-3.png\"\n        ],\n        laughing: [\n            \"/Characters/Character-laughing.png\",\n            \"/Characters/Character-laughing-2.png\"\n        ],\n        exploring: [\n            \"/Characters/Character-excited.png\",\n            \"/Characters/Character-excited-2.png\",\n            \"/Characters/Character-excited-3.png\"\n        ],\n        scared: [\n            \"/Characters/Character-surprised.png\",\n            \"/Characters/Character-surprised-2.png\",\n            \"/Characters/Character-surprised-3.png\"\n        ]\n    };\n    // State fr gewhlte Variante pro Emotion\n    const [selectedVariant, setSelectedVariant] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"/Characters/Character-idle.png\");\n    const [imgLoaded, setImgLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [imgSrc, setImgSrc] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"/Characters/Character-idle.png\");\n    // Whenever selectedVariant changes, try to load from cache\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let isMounted = true;\n        if (!selectedVariant) return;\n        (0,_utils_assetCache__WEBPACK_IMPORTED_MODULE_3__.getCachedAsset)(selectedVariant).then((base64)=>{\n            if (isMounted && base64) setImgSrc(base64);\n            else if (isMounted) setImgSrc(selectedVariant);\n        }).catch(()=>{\n            if (isMounted) setImgSrc(selectedVariant);\n        });\n        return ()=>{\n            isMounted = false;\n        };\n    }, [\n        selectedVariant\n    ]);\n    // Zufllige Variante fr Emotion whlen und speichern (NIEMALS die gleiche)\n    const selectVariantForEmotion = (emotion)=>{\n        const variants = characterVariants[emotion] || characterVariants.idle;\n        // Wenn nur eine Variante vorhanden, diese nehmen\n        if (variants.length === 1) {\n            const variant = variants[0];\n            setSelectedVariant(variant);\n            return variant;\n        }\n        // Aktuelle Variante rausfiltern um Wiederholung zu vermeiden\n        const otherVariants = variants.filter((variant)=>variant !== selectedVariant);\n        // Falls alle Varianten die gleiche sind (sollte nicht passieren), erste nehmen\n        if (otherVariants.length === 0) {\n            const variant = variants[0];\n            setSelectedVariant(variant);\n            return variant;\n        }\n        // Zufllige andere Variante whlen\n        const randomVariant = otherVariants[Math.floor(Math.random() * otherVariants.length)];\n        setSelectedVariant(randomVariant);\n        return randomVariant;\n    };\n    // Zufllige Emotion aus verfgbaren Emotionen whlen\n    const getRandomEmotion = (emotions = availableEmotions)=>{\n        const filtered = emotions.filter((e)=>e !== currentEmotion);\n        if (filtered.length === 0) return emotions[0];\n        return filtered[Math.floor(Math.random() * filtered.length)];\n    };\n    // Emotion-Wechsel mit ursprnglicher Flip-Animation\n    const changeEmotion = (newEmotion, immediate = false)=>{\n        console.log(` Emotion change: ${currentEmotion}  ${newEmotion} (immediate: ${immediate})`);\n        if (newEmotion === currentEmotion) {\n            console.log(` Same emotion, skipping`);\n            return;\n        }\n        if (immediate) {\n            // Direkter Wechsel ohne Animation\n            console.log(` Immediate change to ${newEmotion}`);\n            setCurrentEmotion(newEmotion);\n            selectVariantForEmotion(newEmotion);\n            return;\n        }\n        // Flip-Animation: Raus -> Bild wechseln -> Rein\n        console.log(` Starting flip animation: out  change  in`);\n        setIsRotating(true);\n        setRotationPhase(\"out\");\n        // Nach Raus-Animation (200ms): Bild wechseln\n        setTimeout(()=>{\n            console.log(` Flip animation: Changing image to ${newEmotion}`);\n            setCurrentEmotion(newEmotion);\n            selectVariantForEmotion(newEmotion);\n            setRotationPhase(\"in\");\n            // Nach Rein-Animation (200ms): Animation beenden\n            setTimeout(()=>{\n                console.log(` Flip animation: Complete!`);\n                setRotationPhase(\"idle\");\n                setIsRotating(false);\n            }, 200);\n        }, 200);\n    };\n    // Auto-Reset entfernt - Character wechselt nur bei Interaktionen\n    // Context-abhngige Emotionen laden\n    const loadContextEmotions = async (context)=>{\n        console.log(` loadContextEmotions called with context: '${context}' (lastProcessed: '${lastProcessedContext}')`);\n        try {\n            // Statt API: Definiere die Emotions-Logik clientseitig oder lade aus statischer Datei\n            // Beispiel: Mapping von Context zu Emotions\n            const contextEmotionMap = {\n                idle: [\n                    \"idle\",\n                    \"curious\"\n                ],\n                main: [\n                    \"excited\",\n                    \"curious\",\n                    \"idle\"\n                ],\n                category: [\n                    \"curious\",\n                    \"thinking\",\n                    \"excited\"\n                ],\n                animals: [\n                    \"excited\",\n                    \"surprised\",\n                    \"laughing\"\n                ],\n                default: [\n                    \"idle\",\n                    \"curious\",\n                    \"excited\",\n                    \"surprised\",\n                    \"thinking\",\n                    \"laughing\"\n                ]\n            };\n            const emotions = contextEmotionMap[context] || contextEmotionMap.default;\n            setAvailableEmotions(emotions);\n            // Der Rest bleibt gleich wie vorher\n            const now = Date.now();\n            const timeSinceLastChange = now - lastEmotionChangeTime;\n            const EMOTION_COOLDOWN = 2000; // 2 Sekunden Cooldown\n            console.log(` Context check: context=${context}, lastProcessed=${lastProcessedContext}, cooldown=${timeSinceLastChange}ms`);\n            if (context !== \"idle\" && context !== lastProcessedContext && timeSinceLastChange >= EMOTION_COOLDOWN) {\n                console.log(` TRIGGERING emotion change for context '${context}'`);\n                const randomEmotion = emotions[Math.floor(Math.random() * emotions.length)];\n                changeEmotion(randomEmotion, false); // Mit Flip-Animation\n                setLastProcessedContext(context); // Merke dass wir diesen Context schon verarbeitet haben\n                setLastEmotionChangeTime(now); // Setze Cooldown-Timer\n            } else if (context === lastProcessedContext) {\n                console.log(` BLOCKED: Context '${context}' already processed`);\n            } else if (timeSinceLastChange < EMOTION_COOLDOWN) {\n                console.log(` BLOCKED: Cooldown active (${timeSinceLastChange}ms < ${EMOTION_COOLDOWN}ms)`);\n            } else if (context === \"idle\") {\n                // Bei idle-Context: Reset lastProcessedContext fr nchste Interaktion (aber kein Cooldown Reset)\n                console.log(` RESET: Idle context, clearing lastProcessedContext`);\n                setLastProcessedContext(null);\n            // Character wird NICHT neu instanziert, nur hasLoaded bleibt true\n            }\n        } catch (error) {\n            console.error(\"Error loading context emotions:\", error);\n            setAvailableEmotions([\n                \"idle\",\n                \"curious\"\n            ]);\n        }\n    };\n    // Zuflliges Lachen abspielen (ohne Voice-Overs zu unterbrechen)\n    const playRandomLaughter = ()=>{\n        const laughterFiles = [\n            \"/audio/LaughingKid/laughing-1.wav\",\n            \"/audio/LaughingKid/laughing-2.wav\",\n            \"/audio/LaughingKid/laughing-3.wav\",\n            \"/audio/LaughingKid/laughing-4.wav\",\n            \"/audio/LaughingKid/laughing-5.wav\",\n            \"/audio/LaughingKid/laughing-6.wav\",\n            \"/audio/LaughingKid/laughing-7.wav\"\n        ];\n        // Zufllige Lacher-Datei auswhlen\n        const randomLaughter = laughterFiles[Math.floor(Math.random() * laughterFiles.length)];\n        try {\n            // SEPARATES Audio-Element fr Lacher (nicht global!)\n            const laughterAudio = new Audio(randomLaughter);\n            laughterAudio.volume = 0.7; // Etwas leiser als Voice-Overs\n            laughterAudio.play().catch((err)=>{\n                console.log(\"Lacher-Audio autoplay verhindert:\", err);\n            });\n            console.log(\"\\uD83E\\uDD23 Lacher abgespielt:\", randomLaughter);\n        } catch (error) {\n            console.error(\"Lacher-Audio-Fehler:\", error);\n        }\n    };\n    // Character antippen - Rotation, Emotion-Wechsel UND Lachen\n    const handleCharacterClick = ()=>{\n        // Zu laughing oder excited wechseln, aber NIEMALS die aktuelle Emotion\n        const happyEmotions = [\n            \"laughing\",\n            \"excited\"\n        ];\n        let randomHappyEmotion;\n        // Andere Emotion whlen als die aktuelle\n        if (currentEmotion === \"laughing\") {\n            randomHappyEmotion = \"excited\";\n        } else if (currentEmotion === \"excited\") {\n            randomHappyEmotion = \"laughing\";\n        } else {\n            // Wenn weder laughing noch excited, zufllig whlen\n            randomHappyEmotion = happyEmotions[Math.floor(Math.random() * happyEmotions.length)];\n        }\n        changeEmotion(randomHappyEmotion, false); // Mit Flip-Animation\n        setLastEmotionChangeTime(Date.now()); // Cooldown-Timer auch bei direktem Character-Klick setzen\n        // Zuflliges Lachen abspielen (parallel zu Voice-Overs)\n        playRandomLaughter();\n        // Callback fr Emotion-nderung\n        if (onEmotionChange) {\n            onEmotionChange(randomHappyEmotion);\n        }\n    };\n    // Initial Fly-In Animation starten - NUR EINMAL in der gesamten App-Laufzeit\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!characterInitialized) {\n            console.log(` Character FIRST TIME INITIALIZATION`);\n            characterInitialized = true; // Setze statische Variable\n            // Nach kurzer Verzgerung Character reinfliegen lassen\n            const loadTimer = setTimeout(()=>{\n                console.log(` Setting hasLoaded to true`);\n                setHasLoaded(true);\n            }, 300);\n            return ()=>clearTimeout(loadTimer);\n        } else {\n            console.log(` Character ALREADY INITIALIZED - setting hasLoaded immediately`);\n            setHasLoaded(true); // Bei Re-Render sofort auf loaded setzen\n        }\n    }, []);\n    // Context-nderungen berwachen - mit Ref um doppelte Aufrufe zu verhindern\n    const lastContextRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (currentContext && currentContext !== lastContextRef.current) {\n            console.log(` Processing NEW context: '${currentContext}'`);\n            lastContextRef.current = currentContext;\n            loadContextEmotions(currentContext);\n        }\n    }, [\n        currentContext\n    ]);\n    // Cleanup Timer\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        return ()=>{\n            if (autoResetTimer.current) clearTimeout(autoResetTimer.current);\n            if (emotionChangeTimer.current) clearTimeout(emotionChangeTimer.current);\n        };\n    }, []);\n    // Preload image via Base64 cache, but do not use it for rendering\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!selectedVariant) return;\n        (0,_utils_assetCache__WEBPACK_IMPORTED_MODULE_3__.getCachedAsset)(selectedVariant).catch(()=>{});\n    }, [\n        selectedVariant\n    ]);\n    // Track loading state for the real image\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let didCancel = false;\n        let fallbackTimer;\n        setImgLoaded(false);\n        if (selectedVariant) {\n            fallbackTimer = setTimeout(()=>{\n                if (!didCancel) setImgLoaded(true);\n            }, 500);\n        }\n        return ()=>{\n            didCancel = true;\n            if (fallbackTimer) clearTimeout(fallbackTimer);\n        };\n    }, [\n        selectedVariant\n    ]);\n    // Animation-Klassen bestimmen\n    const getAnimationClasses = ()=>{\n        let classes = \"character-image\";\n        // Initial Fly-In Animation beim ersten Laden\n        if (!hasLoaded) {\n            classes += \" character-fly-in\";\n            console.log(` CSS Classes: ${classes} (fly-in)`);\n            return classes;\n        }\n        // Rotation-Animation hat Prioritt\n        if (rotationPhase === \"out\") {\n            classes += \" character-rotate-out\";\n            console.log(` CSS Classes: ${classes} (rotating OUT)`);\n        } else if (rotationPhase === \"in\") {\n            classes += \" character-rotate-in\";\n            console.log(` CSS Classes: ${classes} (rotating IN)`);\n        } else if (rotationPhase === \"idle\" && !isRotating) {\n            // Subtile Loop-Animation nur wenn wirklich idle\n            classes += \" character-subtle-animation\";\n            console.log(` CSS Classes: ${classes} (subtle idle)`);\n        } else {\n            console.log(` CSS Classes: ${classes} (no extra animation)`);\n        }\n        return classes;\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"character-container\",\n        onClick: handleCharacterClick,\n        title: \"Character antippen f\\xfcr Emotionen!\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n            src: imgSrc,\n            alt: `Character ${currentEmotion}`,\n            width: 120,\n            height: 150,\n            className: getAnimationClasses(),\n            style: {\n                objectFit: \"contain\",\n                position: \"relative\",\n                zIndex: 1,\n                opacity: imgLoaded ? 1 : 0,\n                transition: \"opacity 0.2s\"\n            },\n            onLoad: ()=>setImgLoaded(true),\n            onError: ()=>setImgLoaded(true)\n        }, void 0, false, {\n            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\components\\\\Character.js\",\n            lineNumber: 355,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\components\\\\Character.js\",\n        lineNumber: 350,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Character); // Cache-Refresh: Updated Character Animation and removed isBouncing \n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Z0JBQWdCLEVBQUVpQyxRQUFRLFNBQVMsQ0FBQztZQUNqRCxPQUFPQTtRQUNUO1FBRUEsbUNBQW1DO1FBQ25DLElBQUluRixrQkFBa0IsT0FBTztZQUMzQm1GLFdBQVc7WUFDWGxDLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLGdCQUFnQixFQUFFaUMsUUFBUSxlQUFlLENBQUM7UUFDekQsT0FBTyxJQUFJbkYsa0JBQWtCLE1BQU07WUFDakNtRixXQUFXO1lBQ1hsQyxRQUFRQyxHQUFHLENBQUMsQ0FBQyxnQkFBZ0IsRUFBRWlDLFFBQVEsY0FBYyxDQUFDO1FBQ3hELE9BQU8sSUFBSW5GLGtCQUFrQixVQUFVLENBQUNGLFlBQVk7WUFDbEQsZ0RBQWdEO1lBQ2hEcUYsV0FBVztZQUNYbEMsUUFBUUMsR0FBRyxDQUFDLENBQUMsZ0JBQWdCLEVBQUVpQyxRQUFRLGNBQWMsQ0FBQztRQUN4RCxPQUFPO1lBQ0xsQyxRQUFRQyxHQUFHLENBQUMsQ0FBQyxnQkFBZ0IsRUFBRWlDLFFBQVEscUJBQXFCLENBQUM7UUFDL0Q7UUFFQSxPQUFPQTtJQUNUO0lBRUEscUJBQ0UsOERBQUNDO1FBQ0NDLFdBQVU7UUFDVkMsU0FBU2I7UUFDVGMsT0FBTTtrQkFFTiw0RUFBQ0M7WUFDQ0MsS0FBS2hFO1lBQ0xpRSxLQUFLLENBQUMsVUFBVSxFQUFFOUYsZUFBZSxDQUFDO1lBQ2xDK0YsT0FBTztZQUNQQyxRQUFRO1lBQ1JQLFdBQVdIO1lBQ1hXLE9BQU87Z0JBQUVDLFdBQVc7Z0JBQVdDLFVBQVU7Z0JBQVlDLFFBQVE7Z0JBQUdDLFNBQVMxRSxZQUFZLElBQUk7Z0JBQUcyRSxZQUFZO1lBQWU7WUFDdkhDLFFBQVEsSUFBTTNFLGFBQWE7WUFDM0I0RSxTQUFTLElBQU01RSxhQUFhOzs7Ozs7Ozs7OztBQUlwQztBQUVBLGlFQUFlL0IsU0FBU0EsRUFBQyxDQUN6QixxRUFBcUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9raW5kZXJsZXhpa29uLy4vY29tcG9uZW50cy9DaGFyYWN0ZXIuanM/ZTI3ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgSW1hZ2UgZnJvbSAnbmV4dC9pbWFnZSc7XG5pbXBvcnQgeyBnZXRDYWNoZWRBc3NldCB9IGZyb20gJy4uL3V0aWxzL2Fzc2V0Q2FjaGUnO1xuXG4vLyBTdGF0aXNjaGUgVmFyaWFibGUgdW0gc2ljaGVyenVzdGVsbGVuIGRhc3MgQ2hhcmFjdGVyIG51ciBFSU5NQUwgaW5pdGlhbGlzaWVydCB3aXJkXG5sZXQgY2hhcmFjdGVySW5pdGlhbGl6ZWQgPSBmYWxzZTtcblxuLy8gRW50ZmVybmUgZGllIEhpbGZzZnVua3Rpb24gZ2V0Q2hhcmFjdGVySW1hZ2VVcmxcblxuY29uc3QgQ2hhcmFjdGVyID0gKHsgY3VycmVudENvbnRleHQgPSAnaWRsZScsIG9uRW1vdGlvbkNoYW5nZSB9KSA9PiB7XG4gIGNvbnN0IFtjdXJyZW50RW1vdGlvbiwgc2V0Q3VycmVudEVtb3Rpb25dID0gdXNlU3RhdGUoJ2lkbGUnKTtcbiAgY29uc3QgW2lzUm90YXRpbmcsIHNldElzUm90YXRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcm90YXRpb25QaGFzZSwgc2V0Um90YXRpb25QaGFzZV0gPSB1c2VTdGF0ZSgnaWRsZScpOyAvLyAnaWRsZScsICdvdXQnLCAnaW4nXG4gIGNvbnN0IFthdmFpbGFibGVFbW90aW9ucywgc2V0QXZhaWxhYmxlRW1vdGlvbnNdID0gdXNlU3RhdGUoWydpZGxlJywgJ2N1cmlvdXMnXSk7XG4gIGNvbnN0IFtoYXNMb2FkZWQsIHNldEhhc0xvYWRlZF0gPSB1c2VTdGF0ZShjaGFyYWN0ZXJJbml0aWFsaXplZCk7IC8vIEbDvHIgaW5pdGlhbGUgRmx5LUluIEFuaW1hdGlvbiAtIGVpbm1hbCBmw7xyIGltbWVyXG4gIGNvbnN0IFtsYXN0UHJvY2Vzc2VkQ29udGV4dCwgc2V0TGFzdFByb2Nlc3NlZENvbnRleHRdID0gdXNlU3RhdGUobnVsbCk7IC8vIFZlcmhpbmRlcnQgbWVocmZhY2hlIEVtb3Rpb24tV2VjaHNlbFxuICBjb25zdCBbbGFzdEVtb3Rpb25DaGFuZ2VUaW1lLCBzZXRMYXN0RW1vdGlvbkNoYW5nZVRpbWVdID0gdXNlU3RhdGUoMCk7IC8vIENvb2xkb3duIGbDvHIgRW1vdGlvbi1DaGFuZ2VzXG4gIFxuICBjb25zdCBhdXRvUmVzZXRUaW1lciA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgZW1vdGlvbkNoYW5nZVRpbWVyID0gdXNlUmVmKG51bGwpO1xuXG4gIC8vIENoYXJhY3Rlci1CaWxkZXItVmFyaWFudGVuIGRlZmluaWVyZW5cbiAgY29uc3QgY2hhcmFjdGVyVmFyaWFudHMgPSB7XG4gICAgaWRsZTogW1xuICAgICAgJy9DaGFyYWN0ZXJzL0NoYXJhY3Rlci1pZGxlLnBuZycsXG4gICAgICAnL0NoYXJhY3RlcnMvQ2hhcmFjdGVyLWlkbGUtMi5wbmcnLFxuICAgICAgJy9DaGFyYWN0ZXJzL0NoYXJhY3Rlci1pZGxlLTMucG5nJ1xuICAgIF0sXG4gICAgZXhjaXRlZDogW1xuICAgICAgJy9DaGFyYWN0ZXJzL0NoYXJhY3Rlci1leGNpdGVkLnBuZycsXG4gICAgICAnL0NoYXJhY3RlcnMvQ2hhcmFjdGVyLWV4Y2l0ZWQtMi5wbmcnLFxuICAgICAgJy9DaGFyYWN0ZXJzL0NoYXJhY3Rlci1leGNpdGVkLTMucG5nJ1xuICAgIF0sXG4gICAgY3VyaW91czogW1xuICAgICAgJy9DaGFyYWN0ZXJzL0NoYXJhY3Rlci1jdXJpb3VzLnBuZycsXG4gICAgICAnL0NoYXJhY3RlcnMvQ2hhcmFjdGVyLWN1cmlvdXMtMi5wbmcnLFxuICAgICAgJy9DaGFyYWN0ZXJzL0NoYXJhY3Rlci1jdXJpb3VzLTMucG5nJ1xuICAgIF0sXG4gICAgc3VycHJpc2VkOiBbXG4gICAgICAnL0NoYXJhY3RlcnMvQ2hhcmFjdGVyLXN1cnByaXNlZC5wbmcnLFxuICAgICAgJy9DaGFyYWN0ZXJzL0NoYXJhY3Rlci1zdXJwcmlzZWQtMi5wbmcnLFxuICAgICAgJy9DaGFyYWN0ZXJzL0NoYXJhY3Rlci1zdXJwcmlzZWQtMy5wbmcnXG4gICAgXSxcbiAgICB0aGlua2luZzogW1xuICAgICAgJy9DaGFyYWN0ZXJzL0NoYXJhY3Rlci10aGlua2luZy5wbmcnLFxuICAgICAgJy9DaGFyYWN0ZXJzL0NoYXJhY3Rlci10aGlua2luZy0yLnBuZycsXG4gICAgICAnL0NoYXJhY3RlcnMvQ2hhcmFjdGVyLXRoaW5raW5nLTMucG5nJ1xuICAgIF0sXG4gICAgbGF1Z2hpbmc6IFtcbiAgICAgICcvQ2hhcmFjdGVycy9DaGFyYWN0ZXItbGF1Z2hpbmcucG5nJyxcbiAgICAgICcvQ2hhcmFjdGVycy9DaGFyYWN0ZXItbGF1Z2hpbmctMi5wbmcnXG4gICAgXSxcbiAgICBleHBsb3Jpbmc6IFtcbiAgICAgICcvQ2hhcmFjdGVycy9DaGFyYWN0ZXItZXhjaXRlZC5wbmcnLFxuICAgICAgJy9DaGFyYWN0ZXJzL0NoYXJhY3Rlci1leGNpdGVkLTIucG5nJyxcbiAgICAgICcvQ2hhcmFjdGVycy9DaGFyYWN0ZXItZXhjaXRlZC0zLnBuZydcbiAgICBdLFxuICAgIHNjYXJlZDogW1xuICAgICAgJy9DaGFyYWN0ZXJzL0NoYXJhY3Rlci1zdXJwcmlzZWQucG5nJyxcbiAgICAgICcvQ2hhcmFjdGVycy9DaGFyYWN0ZXItc3VycHJpc2VkLTIucG5nJyxcbiAgICAgICcvQ2hhcmFjdGVycy9DaGFyYWN0ZXItc3VycHJpc2VkLTMucG5nJ1xuICAgIF0sXG4gIH07XG5cbiAgLy8gU3RhdGUgZsO8ciBnZXfDpGhsdGUgVmFyaWFudGUgcHJvIEVtb3Rpb25cbiAgY29uc3QgW3NlbGVjdGVkVmFyaWFudCwgc2V0U2VsZWN0ZWRWYXJpYW50XSA9IHVzZVN0YXRlKCcvQ2hhcmFjdGVycy9DaGFyYWN0ZXItaWRsZS5wbmcnKTtcbiAgY29uc3QgW2ltZ0xvYWRlZCwgc2V0SW1nTG9hZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2ltZ1NyYywgc2V0SW1nU3JjXSA9IHVzZVN0YXRlKCcvQ2hhcmFjdGVycy9DaGFyYWN0ZXItaWRsZS5wbmcnKTtcblxuICAvLyBXaGVuZXZlciBzZWxlY3RlZFZhcmlhbnQgY2hhbmdlcywgdHJ5IHRvIGxvYWQgZnJvbSBjYWNoZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBpc01vdW50ZWQgPSB0cnVlO1xuICAgIGlmICghc2VsZWN0ZWRWYXJpYW50KSByZXR1cm47XG4gICAgZ2V0Q2FjaGVkQXNzZXQoc2VsZWN0ZWRWYXJpYW50KVxuICAgICAgLnRoZW4oYmFzZTY0ID0+IHtcbiAgICAgICAgaWYgKGlzTW91bnRlZCAmJiBiYXNlNjQpIHNldEltZ1NyYyhiYXNlNjQpO1xuICAgICAgICBlbHNlIGlmIChpc01vdW50ZWQpIHNldEltZ1NyYyhzZWxlY3RlZFZhcmlhbnQpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgIGlmIChpc01vdW50ZWQpIHNldEltZ1NyYyhzZWxlY3RlZFZhcmlhbnQpO1xuICAgICAgfSk7XG4gICAgcmV0dXJuICgpID0+IHsgaXNNb3VudGVkID0gZmFsc2U7IH07XG4gIH0sIFtzZWxlY3RlZFZhcmlhbnRdKTtcblxuICAvLyBadWbDpGxsaWdlIFZhcmlhbnRlIGbDvHIgRW1vdGlvbiB3w6RobGVuIHVuZCBzcGVpY2hlcm4gKE5JRU1BTFMgZGllIGdsZWljaGUpXG4gIGNvbnN0IHNlbGVjdFZhcmlhbnRGb3JFbW90aW9uID0gKGVtb3Rpb24pID0+IHtcbiAgICBjb25zdCB2YXJpYW50cyA9IGNoYXJhY3RlclZhcmlhbnRzW2Vtb3Rpb25dIHx8IGNoYXJhY3RlclZhcmlhbnRzLmlkbGU7XG4gICAgXG4gICAgLy8gV2VubiBudXIgZWluZSBWYXJpYW50ZSB2b3JoYW5kZW4sIGRpZXNlIG5laG1lblxuICAgIGlmICh2YXJpYW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgIGNvbnN0IHZhcmlhbnQgPSB2YXJpYW50c1swXTtcbiAgICAgIHNldFNlbGVjdGVkVmFyaWFudCh2YXJpYW50KTtcbiAgICAgIHJldHVybiB2YXJpYW50O1xuICAgIH1cbiAgICBcbiAgICAvLyBBa3R1ZWxsZSBWYXJpYW50ZSByYXVzZmlsdGVybiB1bSBXaWVkZXJob2x1bmcgenUgdmVybWVpZGVuXG4gICAgY29uc3Qgb3RoZXJWYXJpYW50cyA9IHZhcmlhbnRzLmZpbHRlcih2YXJpYW50ID0+IHZhcmlhbnQgIT09IHNlbGVjdGVkVmFyaWFudCk7XG4gICAgXG4gICAgLy8gRmFsbHMgYWxsZSBWYXJpYW50ZW4gZGllIGdsZWljaGUgc2luZCAoc29sbHRlIG5pY2h0IHBhc3NpZXJlbiksIGVyc3RlIG5laG1lblxuICAgIGlmIChvdGhlclZhcmlhbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29uc3QgdmFyaWFudCA9IHZhcmlhbnRzWzBdO1xuICAgICAgc2V0U2VsZWN0ZWRWYXJpYW50KHZhcmlhbnQpO1xuICAgICAgcmV0dXJuIHZhcmlhbnQ7XG4gICAgfVxuICAgIFxuICAgIC8vIFp1ZsOkbGxpZ2UgYW5kZXJlIFZhcmlhbnRlIHfDpGhsZW5cbiAgICBjb25zdCByYW5kb21WYXJpYW50ID0gb3RoZXJWYXJpYW50c1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBvdGhlclZhcmlhbnRzLmxlbmd0aCldO1xuICAgIHNldFNlbGVjdGVkVmFyaWFudChyYW5kb21WYXJpYW50KTtcbiAgICByZXR1cm4gcmFuZG9tVmFyaWFudDtcbiAgfTtcblxuICAvLyBadWbDpGxsaWdlIEVtb3Rpb24gYXVzIHZlcmbDvGdiYXJlbiBFbW90aW9uZW4gd8OkaGxlblxuICBjb25zdCBnZXRSYW5kb21FbW90aW9uID0gKGVtb3Rpb25zID0gYXZhaWxhYmxlRW1vdGlvbnMpID0+IHtcbiAgICBjb25zdCBmaWx0ZXJlZCA9IGVtb3Rpb25zLmZpbHRlcihlID0+IGUgIT09IGN1cnJlbnRFbW90aW9uKTtcbiAgICBpZiAoZmlsdGVyZWQubGVuZ3RoID09PSAwKSByZXR1cm4gZW1vdGlvbnNbMF07XG4gICAgcmV0dXJuIGZpbHRlcmVkW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGZpbHRlcmVkLmxlbmd0aCldO1xuICB9O1xuXG4gIC8vIEVtb3Rpb24tV2VjaHNlbCBtaXQgdXJzcHLDvG5nbGljaGVyIEZsaXAtQW5pbWF0aW9uXG4gIGNvbnN0IGNoYW5nZUVtb3Rpb24gPSAobmV3RW1vdGlvbiwgaW1tZWRpYXRlID0gZmFsc2UpID0+IHtcbiAgICBjb25zb2xlLmxvZyhg8J+OrSBFbW90aW9uIGNoYW5nZTogJHtjdXJyZW50RW1vdGlvbn0g4oaSICR7bmV3RW1vdGlvbn0gKGltbWVkaWF0ZTogJHtpbW1lZGlhdGV9KWApO1xuICAgIFxuICAgIGlmIChuZXdFbW90aW9uID09PSBjdXJyZW50RW1vdGlvbikge1xuICAgICAgY29uc29sZS5sb2coYPCfjq0gU2FtZSBlbW90aW9uLCBza2lwcGluZ2ApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBpZiAoaW1tZWRpYXRlKSB7XG4gICAgICAvLyBEaXJla3RlciBXZWNoc2VsIG9obmUgQW5pbWF0aW9uXG4gICAgICBjb25zb2xlLmxvZyhg8J+OrSBJbW1lZGlhdGUgY2hhbmdlIHRvICR7bmV3RW1vdGlvbn1gKTtcbiAgICAgIHNldEN1cnJlbnRFbW90aW9uKG5ld0Vtb3Rpb24pO1xuICAgICAgc2VsZWN0VmFyaWFudEZvckVtb3Rpb24obmV3RW1vdGlvbik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIEZsaXAtQW5pbWF0aW9uOiBSYXVzIC0+IEJpbGQgd2VjaHNlbG4gLT4gUmVpblxuICAgIGNvbnNvbGUubG9nKGDwn46tIFN0YXJ0aW5nIGZsaXAgYW5pbWF0aW9uOiBvdXQg4oaSIGNoYW5nZSDihpIgaW5gKTtcbiAgICBzZXRJc1JvdGF0aW5nKHRydWUpO1xuICAgIHNldFJvdGF0aW9uUGhhc2UoJ291dCcpO1xuICAgIFxuICAgIC8vIE5hY2ggUmF1cy1BbmltYXRpb24gKDIwMG1zKTogQmlsZCB3ZWNoc2VsblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coYPCfjq0gRmxpcCBhbmltYXRpb246IENoYW5naW5nIGltYWdlIHRvICR7bmV3RW1vdGlvbn1gKTtcbiAgICAgIHNldEN1cnJlbnRFbW90aW9uKG5ld0Vtb3Rpb24pO1xuICAgICAgc2VsZWN0VmFyaWFudEZvckVtb3Rpb24obmV3RW1vdGlvbik7XG4gICAgICBzZXRSb3RhdGlvblBoYXNlKCdpbicpO1xuICAgICAgXG4gICAgICAvLyBOYWNoIFJlaW4tQW5pbWF0aW9uICgyMDBtcyk6IEFuaW1hdGlvbiBiZWVuZGVuXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coYPCfjq0gRmxpcCBhbmltYXRpb246IENvbXBsZXRlIWApO1xuICAgICAgICBzZXRSb3RhdGlvblBoYXNlKCdpZGxlJyk7XG4gICAgICAgIHNldElzUm90YXRpbmcoZmFsc2UpO1xuICAgICAgfSwgMjAwKTtcbiAgICB9LCAyMDApO1xuICB9O1xuXG4gIC8vIEF1dG8tUmVzZXQgZW50ZmVybnQgLSBDaGFyYWN0ZXIgd2VjaHNlbHQgbnVyIGJlaSBJbnRlcmFrdGlvbmVuXG5cbiAgLy8gQ29udGV4dC1hYmjDpG5naWdlIEVtb3Rpb25lbiBsYWRlblxuICBjb25zdCBsb2FkQ29udGV4dEVtb3Rpb25zID0gYXN5bmMgKGNvbnRleHQpID0+IHtcbiAgICBjb25zb2xlLmxvZyhg8J+OrSBsb2FkQ29udGV4dEVtb3Rpb25zIGNhbGxlZCB3aXRoIGNvbnRleHQ6ICcke2NvbnRleHR9JyAobGFzdFByb2Nlc3NlZDogJyR7bGFzdFByb2Nlc3NlZENvbnRleHR9JylgKTtcbiAgICB0cnkge1xuICAgICAgLy8gU3RhdHQgQVBJOiBEZWZpbmllcmUgZGllIEVtb3Rpb25zLUxvZ2lrIGNsaWVudHNlaXRpZyBvZGVyIGxhZGUgYXVzIHN0YXRpc2NoZXIgRGF0ZWlcbiAgICAgIC8vIEJlaXNwaWVsOiBNYXBwaW5nIHZvbiBDb250ZXh0IHp1IEVtb3Rpb25zXG4gICAgICBjb25zdCBjb250ZXh0RW1vdGlvbk1hcCA9IHtcbiAgICAgICAgaWRsZTogWydpZGxlJywgJ2N1cmlvdXMnXSxcbiAgICAgICAgbWFpbjogWydleGNpdGVkJywgJ2N1cmlvdXMnLCAnaWRsZSddLFxuICAgICAgICBjYXRlZ29yeTogWydjdXJpb3VzJywgJ3RoaW5raW5nJywgJ2V4Y2l0ZWQnXSxcbiAgICAgICAgYW5pbWFsczogWydleGNpdGVkJywgJ3N1cnByaXNlZCcsICdsYXVnaGluZyddLFxuICAgICAgICBkZWZhdWx0OiBbJ2lkbGUnLCAnY3VyaW91cycsICdleGNpdGVkJywgJ3N1cnByaXNlZCcsICd0aGlua2luZycsICdsYXVnaGluZyddXG4gICAgICB9O1xuICAgICAgY29uc3QgZW1vdGlvbnMgPSBjb250ZXh0RW1vdGlvbk1hcFtjb250ZXh0XSB8fCBjb250ZXh0RW1vdGlvbk1hcC5kZWZhdWx0O1xuICAgICAgc2V0QXZhaWxhYmxlRW1vdGlvbnMoZW1vdGlvbnMpO1xuICAgICAgLy8gRGVyIFJlc3QgYmxlaWJ0IGdsZWljaCB3aWUgdm9yaGVyXG4gICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgIGNvbnN0IHRpbWVTaW5jZUxhc3RDaGFuZ2UgPSBub3cgLSBsYXN0RW1vdGlvbkNoYW5nZVRpbWU7XG4gICAgICAgIGNvbnN0IEVNT1RJT05fQ09PTERPV04gPSAyMDAwOyAvLyAyIFNla3VuZGVuIENvb2xkb3duXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn46tIENvbnRleHQgY2hlY2s6IGNvbnRleHQ9JHtjb250ZXh0fSwgbGFzdFByb2Nlc3NlZD0ke2xhc3RQcm9jZXNzZWRDb250ZXh0fSwgY29vbGRvd249JHt0aW1lU2luY2VMYXN0Q2hhbmdlfW1zYCk7XG4gICAgICAgIGlmIChjb250ZXh0ICE9PSAnaWRsZScgJiYgY29udGV4dCAhPT0gbGFzdFByb2Nlc3NlZENvbnRleHQgJiYgdGltZVNpbmNlTGFzdENoYW5nZSA+PSBFTU9USU9OX0NPT0xET1dOKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYPCfjq0gVFJJR0dFUklORyBlbW90aW9uIGNoYW5nZSBmb3IgY29udGV4dCAnJHtjb250ZXh0fSdgKTtcbiAgICAgICAgY29uc3QgcmFuZG9tRW1vdGlvbiA9IGVtb3Rpb25zW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGVtb3Rpb25zLmxlbmd0aCldO1xuICAgICAgICAgIGNoYW5nZUVtb3Rpb24ocmFuZG9tRW1vdGlvbiwgZmFsc2UpOyAvLyBNaXQgRmxpcC1BbmltYXRpb25cbiAgICAgICAgICBzZXRMYXN0UHJvY2Vzc2VkQ29udGV4dChjb250ZXh0KTsgLy8gTWVya2UgZGFzcyB3aXIgZGllc2VuIENvbnRleHQgc2Nob24gdmVyYXJiZWl0ZXQgaGFiZW5cbiAgICAgICAgICBzZXRMYXN0RW1vdGlvbkNoYW5nZVRpbWUobm93KTsgLy8gU2V0emUgQ29vbGRvd24tVGltZXJcbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0ID09PSBsYXN0UHJvY2Vzc2VkQ29udGV4dCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGDwn46tIEJMT0NLRUQ6IENvbnRleHQgJyR7Y29udGV4dH0nIGFscmVhZHkgcHJvY2Vzc2VkYCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGltZVNpbmNlTGFzdENoYW5nZSA8IEVNT1RJT05fQ09PTERPV04pIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhg8J+OrSBCTE9DS0VEOiBDb29sZG93biBhY3RpdmUgKCR7dGltZVNpbmNlTGFzdENoYW5nZX1tcyA8ICR7RU1PVElPTl9DT09MRE9XTn1tcylgKTtcbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0ID09PSAnaWRsZScpIHtcbiAgICAgICAgICAvLyBCZWkgaWRsZS1Db250ZXh0OiBSZXNldCBsYXN0UHJvY2Vzc2VkQ29udGV4dCBmw7xyIG7DpGNoc3RlIEludGVyYWt0aW9uIChhYmVyIGtlaW4gQ29vbGRvd24gUmVzZXQpXG4gICAgICAgICAgY29uc29sZS5sb2coYPCfjq0gUkVTRVQ6IElkbGUgY29udGV4dCwgY2xlYXJpbmcgbGFzdFByb2Nlc3NlZENvbnRleHRgKTtcbiAgICAgICAgICBzZXRMYXN0UHJvY2Vzc2VkQ29udGV4dChudWxsKTtcbiAgICAgICAgICAvLyBDaGFyYWN0ZXIgd2lyZCBOSUNIVCBuZXUgaW5zdGFuemllcnQsIG51ciBoYXNMb2FkZWQgYmxlaWJ0IHRydWVcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBjb250ZXh0IGVtb3Rpb25zOicsIGVycm9yKTtcbiAgICAgIHNldEF2YWlsYWJsZUVtb3Rpb25zKFsnaWRsZScsICdjdXJpb3VzJ10pO1xuICAgIH1cbiAgfTtcblxuICAvLyBadWbDpGxsaWdlcyBMYWNoZW4gYWJzcGllbGVuIChvaG5lIFZvaWNlLU92ZXJzIHp1IHVudGVyYnJlY2hlbilcbiAgY29uc3QgcGxheVJhbmRvbUxhdWdodGVyID0gKCkgPT4ge1xuICAgIGNvbnN0IGxhdWdodGVyRmlsZXMgPSBbXG4gICAgICAnL2F1ZGlvL0xhdWdoaW5nS2lkL2xhdWdoaW5nLTEud2F2JyxcbiAgICAgICcvYXVkaW8vTGF1Z2hpbmdLaWQvbGF1Z2hpbmctMi53YXYnLFxuICAgICAgJy9hdWRpby9MYXVnaGluZ0tpZC9sYXVnaGluZy0zLndhdicsXG4gICAgICAnL2F1ZGlvL0xhdWdoaW5nS2lkL2xhdWdoaW5nLTQud2F2JyxcbiAgICAgICcvYXVkaW8vTGF1Z2hpbmdLaWQvbGF1Z2hpbmctNS53YXYnLFxuICAgICAgJy9hdWRpby9MYXVnaGluZ0tpZC9sYXVnaGluZy02LndhdicsXG4gICAgICAnL2F1ZGlvL0xhdWdoaW5nS2lkL2xhdWdoaW5nLTcud2F2J1xuICAgIF07XG4gICAgXG4gICAgLy8gWnVmw6RsbGlnZSBMYWNoZXItRGF0ZWkgYXVzd8OkaGxlblxuICAgIGNvbnN0IHJhbmRvbUxhdWdodGVyID0gbGF1Z2h0ZXJGaWxlc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBsYXVnaHRlckZpbGVzLmxlbmd0aCldO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBTRVBBUkFURVMgQXVkaW8tRWxlbWVudCBmw7xyIExhY2hlciAobmljaHQgZ2xvYmFsISlcbiAgICAgIGNvbnN0IGxhdWdodGVyQXVkaW8gPSBuZXcgQXVkaW8ocmFuZG9tTGF1Z2h0ZXIpO1xuICAgICAgbGF1Z2h0ZXJBdWRpby52b2x1bWUgPSAwLjc7IC8vIEV0d2FzIGxlaXNlciBhbHMgVm9pY2UtT3ZlcnNcbiAgICAgIFxuICAgICAgbGF1Z2h0ZXJBdWRpby5wbGF5KCkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ0xhY2hlci1BdWRpbyBhdXRvcGxheSB2ZXJoaW5kZXJ0OicsIGVycik7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ/CfpKMgTGFjaGVyIGFiZ2VzcGllbHQ6JywgcmFuZG9tTGF1Z2h0ZXIpO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0xhY2hlci1BdWRpby1GZWhsZXI6JywgZXJyb3IpO1xuICAgIH1cbiAgfTtcblxuICAvLyBDaGFyYWN0ZXIgYW50aXBwZW4gLSBSb3RhdGlvbiwgRW1vdGlvbi1XZWNoc2VsIFVORCBMYWNoZW5cbiAgY29uc3QgaGFuZGxlQ2hhcmFjdGVyQ2xpY2sgPSAoKSA9PiB7XG4gICAgLy8gWnUgbGF1Z2hpbmcgb2RlciBleGNpdGVkIHdlY2hzZWxuLCBhYmVyIE5JRU1BTFMgZGllIGFrdHVlbGxlIEVtb3Rpb25cbiAgICBjb25zdCBoYXBweUVtb3Rpb25zID0gWydsYXVnaGluZycsICdleGNpdGVkJ107XG4gICAgbGV0IHJhbmRvbUhhcHB5RW1vdGlvbjtcbiAgICBcbiAgICAvLyBBbmRlcmUgRW1vdGlvbiB3w6RobGVuIGFscyBkaWUgYWt0dWVsbGVcbiAgICBpZiAoY3VycmVudEVtb3Rpb24gPT09ICdsYXVnaGluZycpIHtcbiAgICAgIHJhbmRvbUhhcHB5RW1vdGlvbiA9ICdleGNpdGVkJztcbiAgICB9IGVsc2UgaWYgKGN1cnJlbnRFbW90aW9uID09PSAnZXhjaXRlZCcpIHtcbiAgICAgIHJhbmRvbUhhcHB5RW1vdGlvbiA9ICdsYXVnaGluZyc7ICBcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gV2VubiB3ZWRlciBsYXVnaGluZyBub2NoIGV4Y2l0ZWQsIHp1ZsOkbGxpZyB3w6RobGVuXG4gICAgICByYW5kb21IYXBweUVtb3Rpb24gPSBoYXBweUVtb3Rpb25zW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGhhcHB5RW1vdGlvbnMubGVuZ3RoKV07XG4gICAgfVxuICAgIFxuICAgIGNoYW5nZUVtb3Rpb24ocmFuZG9tSGFwcHlFbW90aW9uLCBmYWxzZSk7IC8vIE1pdCBGbGlwLUFuaW1hdGlvblxuICAgIHNldExhc3RFbW90aW9uQ2hhbmdlVGltZShEYXRlLm5vdygpKTsgLy8gQ29vbGRvd24tVGltZXIgYXVjaCBiZWkgZGlyZWt0ZW0gQ2hhcmFjdGVyLUtsaWNrIHNldHplblxuICAgIFxuICAgIC8vIFp1ZsOkbGxpZ2VzIExhY2hlbiBhYnNwaWVsZW4gKHBhcmFsbGVsIHp1IFZvaWNlLU92ZXJzKVxuICAgIHBsYXlSYW5kb21MYXVnaHRlcigpO1xuICAgIFxuICAgIC8vIENhbGxiYWNrIGbDvHIgRW1vdGlvbi3DhG5kZXJ1bmdcbiAgICBpZiAob25FbW90aW9uQ2hhbmdlKSB7XG4gICAgICBvbkVtb3Rpb25DaGFuZ2UocmFuZG9tSGFwcHlFbW90aW9uKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gSW5pdGlhbCBGbHktSW4gQW5pbWF0aW9uIHN0YXJ0ZW4gLSBOVVIgRUlOTUFMIGluIGRlciBnZXNhbXRlbiBBcHAtTGF1ZnplaXRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWNoYXJhY3RlckluaXRpYWxpemVkKSB7XG4gICAgICBjb25zb2xlLmxvZyhg8J+OrSBDaGFyYWN0ZXIgRklSU1QgVElNRSBJTklUSUFMSVpBVElPTmApO1xuICAgICAgY2hhcmFjdGVySW5pdGlhbGl6ZWQgPSB0cnVlOyAvLyBTZXR6ZSBzdGF0aXNjaGUgVmFyaWFibGVcbiAgICAgIFxuICAgICAgLy8gTmFjaCBrdXJ6ZXIgVmVyesO2Z2VydW5nIENoYXJhY3RlciByZWluZmxpZWdlbiBsYXNzZW5cbiAgICAgIGNvbnN0IGxvYWRUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhg8J+OrSBTZXR0aW5nIGhhc0xvYWRlZCB0byB0cnVlYCk7XG4gICAgICAgIHNldEhhc0xvYWRlZCh0cnVlKTtcbiAgICAgIH0sIDMwMCk7XG4gICAgICBcbiAgICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQobG9hZFRpbWVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coYPCfjq0gQ2hhcmFjdGVyIEFMUkVBRFkgSU5JVElBTElaRUQgLSBzZXR0aW5nIGhhc0xvYWRlZCBpbW1lZGlhdGVseWApO1xuICAgICAgc2V0SGFzTG9hZGVkKHRydWUpOyAvLyBCZWkgUmUtUmVuZGVyIHNvZm9ydCBhdWYgbG9hZGVkIHNldHplblxuICAgIH1cbiAgfSwgW10pO1xuXG4gIC8vIENvbnRleHQtw4RuZGVydW5nZW4gw7xiZXJ3YWNoZW4gLSBtaXQgUmVmIHVtIGRvcHBlbHRlIEF1ZnJ1ZmUgenUgdmVyaGluZGVyblxuICBjb25zdCBsYXN0Q29udGV4dFJlZiA9IHVzZVJlZihudWxsKTtcbiAgXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGN1cnJlbnRDb250ZXh0ICYmIGN1cnJlbnRDb250ZXh0ICE9PSBsYXN0Q29udGV4dFJlZi5jdXJyZW50KSB7XG4gICAgICBjb25zb2xlLmxvZyhg8J+OrSBQcm9jZXNzaW5nIE5FVyBjb250ZXh0OiAnJHtjdXJyZW50Q29udGV4dH0nYCk7XG4gICAgICBsYXN0Q29udGV4dFJlZi5jdXJyZW50ID0gY3VycmVudENvbnRleHQ7XG4gICAgICBsb2FkQ29udGV4dEVtb3Rpb25zKGN1cnJlbnRDb250ZXh0KTtcbiAgICB9XG4gIH0sIFtjdXJyZW50Q29udGV4dF0pO1xuXG4gIC8vIENsZWFudXAgVGltZXJcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKGF1dG9SZXNldFRpbWVyLmN1cnJlbnQpIGNsZWFyVGltZW91dChhdXRvUmVzZXRUaW1lci5jdXJyZW50KTtcbiAgICAgIGlmIChlbW90aW9uQ2hhbmdlVGltZXIuY3VycmVudCkgY2xlYXJUaW1lb3V0KGVtb3Rpb25DaGFuZ2VUaW1lci5jdXJyZW50KTtcbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgLy8gUHJlbG9hZCBpbWFnZSB2aWEgQmFzZTY0IGNhY2hlLCBidXQgZG8gbm90IHVzZSBpdCBmb3IgcmVuZGVyaW5nXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFzZWxlY3RlZFZhcmlhbnQpIHJldHVybjtcbiAgICBnZXRDYWNoZWRBc3NldChzZWxlY3RlZFZhcmlhbnQpLmNhdGNoKCgpID0+IHt9KTtcbiAgfSwgW3NlbGVjdGVkVmFyaWFudF0pO1xuXG4gIC8vIFRyYWNrIGxvYWRpbmcgc3RhdGUgZm9yIHRoZSByZWFsIGltYWdlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IGRpZENhbmNlbCA9IGZhbHNlO1xuICAgIGxldCBmYWxsYmFja1RpbWVyO1xuICAgIHNldEltZ0xvYWRlZChmYWxzZSk7XG4gICAgaWYgKHNlbGVjdGVkVmFyaWFudCkge1xuICAgICAgZmFsbGJhY2tUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAoIWRpZENhbmNlbCkgc2V0SW1nTG9hZGVkKHRydWUpO1xuICAgICAgfSwgNTAwKTtcbiAgICB9XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRpZENhbmNlbCA9IHRydWU7XG4gICAgICBpZiAoZmFsbGJhY2tUaW1lcikgY2xlYXJUaW1lb3V0KGZhbGxiYWNrVGltZXIpO1xuICAgIH07XG4gIH0sIFtzZWxlY3RlZFZhcmlhbnRdKTtcblxuICAvLyBBbmltYXRpb24tS2xhc3NlbiBiZXN0aW1tZW5cbiAgY29uc3QgZ2V0QW5pbWF0aW9uQ2xhc3NlcyA9ICgpID0+IHtcbiAgICBsZXQgY2xhc3NlcyA9ICdjaGFyYWN0ZXItaW1hZ2UnO1xuICAgIFxuICAgIC8vIEluaXRpYWwgRmx5LUluIEFuaW1hdGlvbiBiZWltIGVyc3RlbiBMYWRlblxuICAgIGlmICghaGFzTG9hZGVkKSB7XG4gICAgICBjbGFzc2VzICs9ICcgY2hhcmFjdGVyLWZseS1pbic7XG4gICAgICBjb25zb2xlLmxvZyhg8J+OqCBDU1MgQ2xhc3NlczogJHtjbGFzc2VzfSAoZmx5LWluKWApO1xuICAgICAgcmV0dXJuIGNsYXNzZXM7XG4gICAgfVxuICAgIFxuICAgIC8vIFJvdGF0aW9uLUFuaW1hdGlvbiBoYXQgUHJpb3JpdMOkdFxuICAgIGlmIChyb3RhdGlvblBoYXNlID09PSAnb3V0Jykge1xuICAgICAgY2xhc3NlcyArPSAnIGNoYXJhY3Rlci1yb3RhdGUtb3V0JztcbiAgICAgIGNvbnNvbGUubG9nKGDwn46oIENTUyBDbGFzc2VzOiAke2NsYXNzZXN9IChyb3RhdGluZyBPVVQpYCk7XG4gICAgfSBlbHNlIGlmIChyb3RhdGlvblBoYXNlID09PSAnaW4nKSB7XG4gICAgICBjbGFzc2VzICs9ICcgY2hhcmFjdGVyLXJvdGF0ZS1pbic7XG4gICAgICBjb25zb2xlLmxvZyhg8J+OqCBDU1MgQ2xhc3NlczogJHtjbGFzc2VzfSAocm90YXRpbmcgSU4pYCk7XG4gICAgfSBlbHNlIGlmIChyb3RhdGlvblBoYXNlID09PSAnaWRsZScgJiYgIWlzUm90YXRpbmcpIHtcbiAgICAgIC8vIFN1YnRpbGUgTG9vcC1BbmltYXRpb24gbnVyIHdlbm4gd2lya2xpY2ggaWRsZVxuICAgICAgY2xhc3NlcyArPSAnIGNoYXJhY3Rlci1zdWJ0bGUtYW5pbWF0aW9uJztcbiAgICAgIGNvbnNvbGUubG9nKGDwn46oIENTUyBDbGFzc2VzOiAke2NsYXNzZXN9IChzdWJ0bGUgaWRsZSlgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coYPCfjqggQ1NTIENsYXNzZXM6ICR7Y2xhc3Nlc30gKG5vIGV4dHJhIGFuaW1hdGlvbilgKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGNsYXNzZXM7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IFxuICAgICAgY2xhc3NOYW1lPVwiY2hhcmFjdGVyLWNvbnRhaW5lclwiXG4gICAgICBvbkNsaWNrPXtoYW5kbGVDaGFyYWN0ZXJDbGlja31cbiAgICAgIHRpdGxlPVwiQ2hhcmFjdGVyIGFudGlwcGVuIGbDvHIgRW1vdGlvbmVuIVwiXG4gICAgPlxuICAgICAgPGltZ1xuICAgICAgICBzcmM9e2ltZ1NyY31cbiAgICAgICAgYWx0PXtgQ2hhcmFjdGVyICR7Y3VycmVudEVtb3Rpb259YH1cbiAgICAgICAgd2lkdGg9ezEyMH1cbiAgICAgICAgaGVpZ2h0PXsxNTB9XG4gICAgICAgIGNsYXNzTmFtZT17Z2V0QW5pbWF0aW9uQ2xhc3NlcygpfVxuICAgICAgICBzdHlsZT17eyBvYmplY3RGaXQ6ICdjb250YWluJywgcG9zaXRpb246ICdyZWxhdGl2ZScsIHpJbmRleDogMSwgb3BhY2l0eTogaW1nTG9hZGVkID8gMSA6IDAsIHRyYW5zaXRpb246ICdvcGFjaXR5IDAuMnMnIH19XG4gICAgICAgIG9uTG9hZD17KCkgPT4gc2V0SW1nTG9hZGVkKHRydWUpfVxuICAgICAgICBvbkVycm9yPXsoKSA9PiBzZXRJbWdMb2FkZWQodHJ1ZSl9XG4gICAgICAvPlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQ2hhcmFjdGVyOyBcbi8vIENhY2hlLVJlZnJlc2g6IFVwZGF0ZWQgQ2hhcmFjdGVyIEFuaW1hdGlvbiBhbmQgcmVtb3ZlZCBpc0JvdW5jaW5nICJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJlZiIsIkltYWdlIiwiZ2V0Q2FjaGVkQXNzZXQiLCJjaGFyYWN0ZXJJbml0aWFsaXplZCIsIkNoYXJhY3RlciIsImN1cnJlbnRDb250ZXh0Iiwib25FbW90aW9uQ2hhbmdlIiwiY3VycmVudEVtb3Rpb24iLCJzZXRDdXJyZW50RW1vdGlvbiIsImlzUm90YXRpbmciLCJzZXRJc1JvdGF0aW5nIiwicm90YXRpb25QaGFzZSIsInNldFJvdGF0aW9uUGhhc2UiLCJhdmFpbGFibGVFbW90aW9ucyIsInNldEF2YWlsYWJsZUVtb3Rpb25zIiwiaGFzTG9hZGVkIiwic2V0SGFzTG9hZGVkIiwibGFzdFByb2Nlc3NlZENvbnRleHQiLCJzZXRMYXN0UHJvY2Vzc2VkQ29udGV4dCIsImxhc3RFbW90aW9uQ2hhbmdlVGltZSIsInNldExhc3RFbW90aW9uQ2hhbmdlVGltZSIsImF1dG9SZXNldFRpbWVyIiwiZW1vdGlvbkNoYW5nZVRpbWVyIiwiY2hhcmFjdGVyVmFyaWFudHMiLCJpZGxlIiwiZXhjaXRlZCIsImN1cmlvdXMiLCJzdXJwcmlzZWQiLCJ0aGlua2luZyIsImxhdWdoaW5nIiwiZXhwbG9yaW5nIiwic2NhcmVkIiwic2VsZWN0ZWRWYXJpYW50Iiwic2V0U2VsZWN0ZWRWYXJpYW50IiwiaW1nTG9hZGVkIiwic2V0SW1nTG9hZGVkIiwiaW1nU3JjIiwic2V0SW1nU3JjIiwiaXNNb3VudGVkIiwidGhlbiIsImJhc2U2NCIsImNhdGNoIiwic2VsZWN0VmFyaWFudEZvckVtb3Rpb24iLCJlbW90aW9uIiwidmFyaWFudHMiLCJsZW5ndGgiLCJ2YXJpYW50Iiwib3RoZXJWYXJpYW50cyIsImZpbHRlciIsInJhbmRvbVZhcmlhbnQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJnZXRSYW5kb21FbW90aW9uIiwiZW1vdGlvbnMiLCJmaWx0ZXJlZCIsImUiLCJjaGFuZ2VFbW90aW9uIiwibmV3RW1vdGlvbiIsImltbWVkaWF0ZSIsImNvbnNvbGUiLCJsb2ciLCJzZXRUaW1lb3V0IiwibG9hZENvbnRleHRFbW90aW9ucyIsImNvbnRleHQiLCJjb250ZXh0RW1vdGlvbk1hcCIsIm1haW4iLCJjYXRlZ29yeSIsImFuaW1hbHMiLCJkZWZhdWx0Iiwibm93IiwiRGF0ZSIsInRpbWVTaW5jZUxhc3RDaGFuZ2UiLCJFTU9USU9OX0NPT0xET1dOIiwicmFuZG9tRW1vdGlvbiIsImVycm9yIiwicGxheVJhbmRvbUxhdWdodGVyIiwibGF1Z2h0ZXJGaWxlcyIsInJhbmRvbUxhdWdodGVyIiwibGF1Z2h0ZXJBdWRpbyIsIkF1ZGlvIiwidm9sdW1lIiwicGxheSIsImVyciIsImhhbmRsZUNoYXJhY3RlckNsaWNrIiwiaGFwcHlFbW90aW9ucyIsInJhbmRvbUhhcHB5RW1vdGlvbiIsImxvYWRUaW1lciIsImNsZWFyVGltZW91dCIsImxhc3RDb250ZXh0UmVmIiwiY3VycmVudCIsImRpZENhbmNlbCIsImZhbGxiYWNrVGltZXIiLCJnZXRBbmltYXRpb25DbGFzc2VzIiwiY2xhc3NlcyIsImRpdiIsImNsYXNzTmFtZSIsIm9uQ2xpY2siLCJ0aXRsZSIsImltZyIsInNyYyIsImFsdCIsIndpZHRoIiwiaGVpZ2h0Iiwic3R5bGUiLCJvYmplY3RGaXQiLCJwb3NpdGlvbiIsInpJbmRleCIsIm9wYWNpdHkiLCJ0cmFuc2l0aW9uIiwib25Mb2FkIiwib25FcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/Character.js\n");

/***/ }),

/***/ "./components/FaviconManager.js":
/*!**************************************!*\
  !*** ./components/FaviconManager.js ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ FaviconManager)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_assetCache__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/assetCache */ \"./utils/assetCache.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_utils_assetCache__WEBPACK_IMPORTED_MODULE_1__]);\n_utils_assetCache__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nfunction FaviconManager() {\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        (async ()=>{\n            try {\n                const base64 = await (0,_utils_assetCache__WEBPACK_IMPORTED_MODULE_1__.getCachedAsset)(\"/websiteBaseImages/lexiconFavIcon.png\");\n                document.getElementById(\"dynamic-favicon\")?.setAttribute(\"href\", base64);\n                document.getElementById(\"dynamic-appleicon\")?.setAttribute(\"href\", base64);\n                document.getElementById(\"dynamic-shortcuticon\")?.setAttribute(\"href\", base64);\n            } catch (e) {\n            // fallback: do nothing\n            }\n        })();\n    }, []);\n    return null;\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL0Zhdmljb25NYW5hZ2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBa0M7QUFDbUI7QUFFdEMsU0FBU0U7SUFDdEJGLGdEQUFTQSxDQUFDO1FBQ1A7WUFDQyxJQUFJO2dCQUNGLE1BQU1HLFNBQVMsTUFBTUYsaUVBQWNBLENBQUM7Z0JBQ3BDRyxTQUFTQyxjQUFjLENBQUMsb0JBQW9CQyxhQUFhLFFBQVFIO2dCQUNqRUMsU0FBU0MsY0FBYyxDQUFDLHNCQUFzQkMsYUFBYSxRQUFRSDtnQkFDbkVDLFNBQVNDLGNBQWMsQ0FBQyx5QkFBeUJDLGFBQWEsUUFBUUg7WUFDeEUsRUFBRSxPQUFPSSxHQUFHO1lBQ1YsdUJBQXVCO1lBQ3pCO1FBQ0Y7SUFDRixHQUFHLEVBQUU7SUFDTCxPQUFPO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9raW5kZXJsZXhpa29uLy4vY29tcG9uZW50cy9GYXZpY29uTWFuYWdlci5qcz83OTNmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgZ2V0Q2FjaGVkQXNzZXQgfSBmcm9tICcuLi91dGlscy9hc3NldENhY2hlJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEZhdmljb25NYW5hZ2VyKCkge1xyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAoYXN5bmMgKCkgPT4ge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGJhc2U2NCA9IGF3YWl0IGdldENhY2hlZEFzc2V0KCcvd2Vic2l0ZUJhc2VJbWFnZXMvbGV4aWNvbkZhdkljb24ucG5nJyk7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2R5bmFtaWMtZmF2aWNvbicpPy5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBiYXNlNjQpO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkeW5hbWljLWFwcGxlaWNvbicpPy5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBiYXNlNjQpO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkeW5hbWljLXNob3J0Y3V0aWNvbicpPy5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBiYXNlNjQpO1xyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgLy8gZmFsbGJhY2s6IGRvIG5vdGhpbmdcclxuICAgICAgfVxyXG4gICAgfSkoKTtcclxuICB9LCBbXSk7XHJcbiAgcmV0dXJuIG51bGw7XHJcbn0gIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsImdldENhY2hlZEFzc2V0IiwiRmF2aWNvbk1hbmFnZXIiLCJiYXNlNjQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwic2V0QXR0cmlidXRlIiwiZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/FaviconManager.js\n");

/***/ }),

/***/ "./pages/_app.js":
/*!***********************!*\
  !*** ./pages/_app.js ***!
  \***********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../styles/globals.css */ \"./styles/globals.css\");\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_styles_globals_css__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_FaviconManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/FaviconManager */ \"./components/FaviconManager.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_components_FaviconManager__WEBPACK_IMPORTED_MODULE_2__]);\n_components_FaviconManager__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nfunction MyApp({ Component, pageProps }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_FaviconManager__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {}, void 0, false, {\n                fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\_app.js\",\n                lineNumber: 7,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n                ...pageProps\n            }, void 0, false, {\n                fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\_app.js\",\n                lineNumber: 8,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MyApp);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9fYXBwLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBK0I7QUFDMkI7QUFFMUQsU0FBU0MsTUFBTSxFQUFFQyxTQUFTLEVBQUVDLFNBQVMsRUFBRTtJQUNyQyxxQkFDRTs7MEJBQ0UsOERBQUNILGtFQUFjQTs7Ozs7MEJBQ2YsOERBQUNFO2dCQUFXLEdBQUdDLFNBQVM7Ozs7Ozs7O0FBRzlCO0FBRUEsaUVBQWVGLEtBQUtBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9raW5kZXJsZXhpa29uLy4vcGFnZXMvX2FwcC5qcz9lMGFkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAnLi4vc3R5bGVzL2dsb2JhbHMuY3NzJztcbmltcG9ydCBGYXZpY29uTWFuYWdlciBmcm9tICcuLi9jb21wb25lbnRzL0Zhdmljb25NYW5hZ2VyJztcblxuZnVuY3Rpb24gTXlBcHAoeyBDb21wb25lbnQsIHBhZ2VQcm9wcyB9KSB7XG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxGYXZpY29uTWFuYWdlciAvPlxuICAgICAgPENvbXBvbmVudCB7Li4ucGFnZVByb3BzfSAvPlxuICAgIDwvPlxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBNeUFwcDsgIl0sIm5hbWVzIjpbIkZhdmljb25NYW5hZ2VyIiwiTXlBcHAiLCJDb21wb25lbnQiLCJwYWdlUHJvcHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/_app.js\n");

/***/ }),

/***/ "./pages/_document.js":
/*!****************************!*\
  !*** ./pages/_document.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_document__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/document */ \"./node_modules/next/document.js\");\n/* harmony import */ var next_document__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_document__WEBPACK_IMPORTED_MODULE_1__);\n\n\nclass MyDocument extends (next_document__WEBPACK_IMPORTED_MODULE_1___default()) {\n    static async getInitialProps(ctx) {\n        const initialProps = await next_document__WEBPACK_IMPORTED_MODULE_1___default().getInitialProps(ctx);\n        return {\n            ...initialProps\n        };\n    }\n    render() {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_document__WEBPACK_IMPORTED_MODULE_1__.Html, {\n            lang: \"de\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_document__WEBPACK_IMPORTED_MODULE_1__.Head, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"link\", {\n                            rel: \"icon\",\n                            id: \"dynamic-favicon\"\n                        }, void 0, false, {\n                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\_document.js\",\n                            lineNumber: 13,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"link\", {\n                            rel: \"apple-touch-icon\",\n                            id: \"dynamic-appleicon\"\n                        }, void 0, false, {\n                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\_document.js\",\n                            lineNumber: 14,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"link\", {\n                            rel: \"shortcut icon\",\n                            id: \"dynamic-shortcuticon\"\n                        }, void 0, false, {\n                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\_document.js\",\n                            lineNumber: 15,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"link\", {\n                            rel: \"manifest\",\n                            href: \"/manifest.json\"\n                        }, void 0, false, {\n                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\_document.js\",\n                            lineNumber: 16,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                            name: \"theme-color\",\n                            content: \"#b8860b\"\n                        }, void 0, false, {\n                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\_document.js\",\n                            lineNumber: 17,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\_document.js\",\n                    lineNumber: 11,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_document__WEBPACK_IMPORTED_MODULE_1__.Main, {}, void 0, false, {\n                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\_document.js\",\n                            lineNumber: 20,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_document__WEBPACK_IMPORTED_MODULE_1__.NextScript, {}, void 0, false, {\n                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\_document.js\",\n                            lineNumber: 21,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\_document.js\",\n                    lineNumber: 19,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\_document.js\",\n            lineNumber: 10,\n            columnNumber: 7\n        }, this);\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MyDocument);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9fZG9jdW1lbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXNFO0FBRXRFLE1BQU1LLG1CQUFtQkwsc0RBQVFBO0lBQy9CLGFBQWFNLGdCQUFnQkMsR0FBRyxFQUFFO1FBQ2hDLE1BQU1DLGVBQWUsTUFBTVIsb0VBQXdCLENBQUNPO1FBQ3BELE9BQU87WUFBRSxHQUFHQyxZQUFZO1FBQUM7SUFDM0I7SUFDQUMsU0FBUztRQUNQLHFCQUNFLDhEQUFDUiwrQ0FBSUE7WUFBQ1MsTUFBSzs7OEJBQ1QsOERBQUNSLCtDQUFJQTs7c0NBRUgsOERBQUNTOzRCQUFLQyxLQUFJOzRCQUFPQyxJQUFHOzs7Ozs7c0NBQ3BCLDhEQUFDRjs0QkFBS0MsS0FBSTs0QkFBbUJDLElBQUc7Ozs7OztzQ0FDaEMsOERBQUNGOzRCQUFLQyxLQUFJOzRCQUFnQkMsSUFBRzs7Ozs7O3NDQUM3Qiw4REFBQ0Y7NEJBQUtDLEtBQUk7NEJBQVdFLE1BQUs7Ozs7OztzQ0FDMUIsOERBQUNDOzRCQUFLQyxNQUFLOzRCQUFjQyxTQUFROzs7Ozs7Ozs7Ozs7OEJBRW5DLDhEQUFDQzs7c0NBQ0MsOERBQUNmLCtDQUFJQTs7Ozs7c0NBQ0wsOERBQUNDLHFEQUFVQTs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFJbkI7QUFDRjtBQUVBLGlFQUFlQyxVQUFVQSxFQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va2luZGVybGV4aWtvbi8uL3BhZ2VzL19kb2N1bWVudC5qcz81MzhiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBEb2N1bWVudCwgeyBIdG1sLCBIZWFkLCBNYWluLCBOZXh0U2NyaXB0IH0gZnJvbSAnbmV4dC9kb2N1bWVudCdcblxuY2xhc3MgTXlEb2N1bWVudCBleHRlbmRzIERvY3VtZW50IHtcbiAgc3RhdGljIGFzeW5jIGdldEluaXRpYWxQcm9wcyhjdHgpIHtcbiAgICBjb25zdCBpbml0aWFsUHJvcHMgPSBhd2FpdCBEb2N1bWVudC5nZXRJbml0aWFsUHJvcHMoY3R4KTtcbiAgICByZXR1cm4geyAuLi5pbml0aWFsUHJvcHMgfTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxIdG1sIGxhbmc9XCJkZVwiPlxuICAgICAgICA8SGVhZD5cbiAgICAgICAgICB7LyogRmF2aWNvbiB1bmQgQXBwbGUtVG91Y2gtSWNvbiB3ZXJkZW4gaW0gQ1NSIGR5bmFtaXNjaCBnZXNldHp0ICovfVxuICAgICAgICAgIDxsaW5rIHJlbD1cImljb25cIiBpZD1cImR5bmFtaWMtZmF2aWNvblwiIC8+XG4gICAgICAgICAgPGxpbmsgcmVsPVwiYXBwbGUtdG91Y2gtaWNvblwiIGlkPVwiZHluYW1pYy1hcHBsZWljb25cIiAvPlxuICAgICAgICAgIDxsaW5rIHJlbD1cInNob3J0Y3V0IGljb25cIiBpZD1cImR5bmFtaWMtc2hvcnRjdXRpY29uXCIgLz5cbiAgICAgICAgICA8bGluayByZWw9XCJtYW5pZmVzdFwiIGhyZWY9XCIvbWFuaWZlc3QuanNvblwiIC8+XG4gICAgICAgICAgPG1ldGEgbmFtZT1cInRoZW1lLWNvbG9yXCIgY29udGVudD1cIiNiODg2MGJcIiAvPlxuICAgICAgICA8L0hlYWQ+XG4gICAgICAgIDxib2R5PlxuICAgICAgICAgIDxNYWluIC8+XG4gICAgICAgICAgPE5leHRTY3JpcHQgLz5cbiAgICAgICAgPC9ib2R5PlxuICAgICAgPC9IdG1sPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBNeURvY3VtZW50ICJdLCJuYW1lcyI6WyJEb2N1bWVudCIsIkh0bWwiLCJIZWFkIiwiTWFpbiIsIk5leHRTY3JpcHQiLCJNeURvY3VtZW50IiwiZ2V0SW5pdGlhbFByb3BzIiwiY3R4IiwiaW5pdGlhbFByb3BzIiwicmVuZGVyIiwibGFuZyIsImxpbmsiLCJyZWwiLCJpZCIsImhyZWYiLCJtZXRhIiwibmFtZSIsImNvbnRlbnQiLCJib2R5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./pages/_document.js\n");

/***/ }),

/***/ "./pages/index.js":
/*!************************!*\
  !*** ./pages/index.js ***!
  \************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Home)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/head */ \"next/head\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _components_Character__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/Character */ \"./components/Character.js\");\n/* harmony import */ var _components_CategoryTile__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/CategoryTile */ \"./components/CategoryTile.js\");\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! framer-motion */ \"framer-motion\");\n/* harmony import */ var _utils_animationManager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/animationManager */ \"./utils/animationManager.js\");\n/* harmony import */ var _utils_assetCache__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/assetCache */ \"./utils/assetCache.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_components_Character__WEBPACK_IMPORTED_MODULE_3__, _components_CategoryTile__WEBPACK_IMPORTED_MODULE_4__, framer_motion__WEBPACK_IMPORTED_MODULE_5__, _utils_assetCache__WEBPACK_IMPORTED_MODULE_7__]);\n([_components_Character__WEBPACK_IMPORTED_MODULE_3__, _components_CategoryTile__WEBPACK_IMPORTED_MODULE_4__, framer_motion__WEBPACK_IMPORTED_MODULE_5__, _utils_assetCache__WEBPACK_IMPORTED_MODULE_7__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n// REMOVE: import { AnimatePresence } from 'framer-motion';\n\nfunction Home() {\n    const [categories, setCategories] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [selectedCategory, setSelectedCategory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [subcategories, setSubcategories] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [animals, setAnimals] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [characterContext, setCharacterContext] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"idle\");\n    const [currentView, setCurrentView] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"main\"); // 'main', 'category', 'animals', 'transitioning'\n    const [clickedItemId, setClickedItemId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [scrollProgress, setScrollProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [recentItems, setRecentItems] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [playedAnimals, setPlayedAnimals] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentlyPlaying, setCurrentlyPlaying] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const scrollContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [showGrid, setShowGrid] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [animationKey, setAnimationKey] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [isGridVisible, setIsGridVisible] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [allImagesLoaded, setAllImagesLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [isFullscreen, setIsFullscreen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showInfo, setShowInfo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showBackButton, setShowBackButton] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [buttonsVisible, setButtonsVisible] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    // Image Preloading State\n    const [preloadedData, setPreloadedData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isPreloading, setIsPreloading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Tile Pool System - 100 feste Tiles\n    const TILE_POOL_SIZE = 100;\n    const [tilePool, setTilePool] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(()=>{\n        // Initialisiere 100 leere Tiles\n        return Array.from({\n            length: TILE_POOL_SIZE\n        }, (_, index)=>({\n                id: `tile-${index}`,\n                isVisible: false,\n                content: null,\n                animationMode: null,\n                isAnimal: false,\n                isPlayed: false,\n                isCurrentlyPlaying: false,\n                onClick: null\n            }));\n    });\n    // Hilfsfunktion: Setzt alle animationModes im tilePool auf null\n    function resetAllTileAnimations() {\n        setTilePool((prev)=>prev.map((tile)=>({\n                    ...tile,\n                    animationMode: null\n                })));\n    }\n    // Zentraler Animation State\n    const [currentGridAnimation, setCurrentGridAnimation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"slideFromLeft\");\n    const [globalAnimationDirection, setGlobalAnimationDirection] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"down\");\n    // Local Storage Utility-Funktionen\n    const savePlayedAnimalsToStorage = (playedList)=>{\n        try {\n            localStorage.setItem(\"kinderlexikon_played_animals\", JSON.stringify(playedList));\n        } catch (error) {\n            console.error(\"Error saving to localStorage:\", error);\n        }\n    };\n    const loadPlayedAnimalsFromStorage = ()=>{\n        try {\n            const saved = localStorage.getItem(\"kinderlexikon_played_animals\");\n            return saved ? JSON.parse(saved) : [];\n        } catch (error) {\n            console.error(\"Error loading from localStorage:\", error);\n            return [];\n        }\n    };\n    // HIERARCHISCHES Recent Items Local Storage System\n    const getStorageKey = (level, categorySlug = null, subcategorySlug = null)=>{\n        if (level === \"main\") return \"kinderlexikon_recent_main\";\n        if (level === \"category\" && categorySlug) return `kinderlexikon_recent_cat_${categorySlug}`;\n        if (level === \"animals\" && categorySlug && subcategorySlug) return `kinderlexikon_recent_animals_${categorySlug}_${subcategorySlug}`;\n        return \"kinderlexikon_recent_fallback\"; // Fallback\n    };\n    const saveRecentItemsToStorage = (recentList, level, categorySlug = null, subcategorySlug = null)=>{\n        try {\n            const key = getStorageKey(level, categorySlug, subcategorySlug);\n            localStorage.setItem(key, JSON.stringify(recentList));\n            console.log(` Saved recent items for ${level}:`, recentList);\n        } catch (error) {\n            console.error(\"Error saving recent items to localStorage:\", error);\n        }\n    };\n    const loadRecentItemsFromStorage = (level, categorySlug = null, subcategorySlug = null)=>{\n        try {\n            const key = getStorageKey(level, categorySlug, subcategorySlug);\n            const saved = localStorage.getItem(key);\n            const result = saved ? JSON.parse(saved) : [];\n            console.log(` Loaded recent items for ${level}:`, result);\n            return result;\n        } catch (error) {\n            console.error(\"Error loading recent items from localStorage:\", error);\n            return [];\n        }\n    };\n    // Utility-Funktionen fr zufllige Anordnung\n    const shuffleArray = (array)=>{\n        const shuffled = [\n            ...array\n        ];\n        for(let i = shuffled.length - 1; i > 0; i--){\n            const j = Math.floor(Math.random() * (i + 1));\n            [shuffled[i], shuffled[j]] = [\n                shuffled[j],\n                shuffled[i]\n            ];\n        }\n        return shuffled;\n    };\n    const arrangeItemsWithRecent = (items, recentIds = [])=>{\n        // Recent Items in der richtigen Reihenfolge (zuletzt geklickt zuerst)\n        const recentItems = [];\n        recentIds.forEach((recentId)=>{\n            const item = items.find((item)=>item.id === recentId);\n            if (item) recentItems.push(item);\n        });\n        // Andere Items zufllig anordnen\n        const otherItems = items.filter((item)=>!recentIds.includes(item.id));\n        const shuffledOthers = shuffleArray(otherItems);\n        return [\n            ...recentItems,\n            ...shuffledOthers\n        ];\n    };\n    // Hierarchisches Add-to-Recent System\n    const addToRecent = (itemId, level, categorySlug = null, subcategorySlug = null)=>{\n        setRecentItems((prev)=>{\n            const newRecent = [\n                itemId,\n                ...prev.filter((id)=>id !== itemId)\n            ];\n            const limitedRecent = newRecent.slice(0, 4); // Nur letzte 4 behalten\n            saveRecentItemsToStorage(limitedRecent, level, categorySlug, subcategorySlug); // Hierarchisch speichern\n            return limitedRecent;\n        });\n    };\n    // Context-abhngiges Recent Items laden\n    const getCurrentRecentItems = ()=>{\n        if (currentView === \"main\") {\n            return loadRecentItemsFromStorage(\"main\");\n        } else if (currentView === \"category\" && selectedCategory) {\n            return loadRecentItemsFromStorage(\"category\", selectedCategory.slug);\n        } else if (currentView === \"animals\" && selectedCategory) {\n            // Fr Animals: Category + aktuell geladene Subcategory identifizieren\n            return loadRecentItemsFromStorage(\"animals\", selectedCategory.slug, \"current_subcat\");\n        }\n        return [];\n    };\n    // Kategorien vom Backend laden mit zuflliger Animation\n    const loadCategories = async ()=>{\n        try {\n            setLoading(true);\n            console.log(\"\\uD83D\\uDD04 Loading categories...\");\n            // Zufllige Animation fr neues Grid whlen\n            const randomAnimation = _utils_animationManager__WEBPACK_IMPORTED_MODULE_6__.animationManager.getRandomGridAnimation();\n            setCurrentGridAnimation(randomAnimation);\n            // Statt API: Lade alle Kategorien aus public/kategorien/tiere.json (oder weitere, falls vorhanden)\n            const data = await (0,_utils_assetCache__WEBPACK_IMPORTED_MODULE_7__.getCachedJson)(\"/kategorien/tiere.json\");\n            // Passe die Struktur an, falls ntig (z.B. data.categories -> [data] falls Einzeldatei)\n            if (data) {\n                const categories = Array.isArray(data) ? data : [\n                    data\n                ];\n                // HIERARCHISCH: Kategorien mit Main-Recent-Logic anordnen\n                const mainRecentItems = loadRecentItemsFromStorage(\"main\");\n                const arrangedCategories = arrangeItemsWithRecent(categories, mainRecentItems);\n                setRecentItems(mainRecentItems); // State aktualisieren\n                setCategories(arrangedCategories);\n                setError(null);\n            } else {\n                throw new Error(\"No categories found\");\n            }\n        } catch (err) {\n            console.error(\"Error loading categories:\", err);\n            setError(\"Fehler beim Laden der Kategorien. Bitte versuche es nochmal!\");\n            setCategories([]); // Explizit leeres Array setzen\n        } finally{\n            setLoading(false);\n        }\n    };\n    // Spezifische Kategorie mit Subkategorien laden mit Animation\n    const loadCategoryDetails = async (slug)=>{\n        try {\n            // Nur neue Animation whlen wenn nicht schon von Navigation gesetzt\n            if (!currentGridAnimation || currentGridAnimation === \"slideFromLeft\") {\n                const randomAnimation = _utils_animationManager__WEBPACK_IMPORTED_MODULE_6__.animationManager.getRandomGridAnimation();\n                setCurrentGridAnimation(randomAnimation);\n            }\n            // Statt API: Lade Kategorie-Details aus public/kategorien/[slug].json\n            const data = await (0,_utils_assetCache__WEBPACK_IMPORTED_MODULE_7__.getCachedJson)(`/kategorien/${slug}.json`);\n            if (data) {\n                setSelectedCategory(data);\n                // HIERARCHISCH: Subkategorien mit Category-spezifischen Recent Items anordnen\n                const subcats = data.subcategories || [];\n                const categoryRecentItems = loadRecentItemsFromStorage(\"category\", slug);\n                const arrangedSubcats = arrangeItemsWithRecent(subcats, categoryRecentItems);\n                setRecentItems(categoryRecentItems); // State aktualisieren\n                setSubcategories(arrangedSubcats);\n                setError(null);\n            } else {\n                throw new Error(\"Category not found\");\n            }\n        } catch (err) {\n            console.error(\"Error loading category details:\", err);\n            setError(\"Fehler beim Laden der Kategorie-Details!\");\n        }\n    };\n    // Audio-Wiedergabe Funktion mit Stop-Management\n    const playAudio = (audioPath)=>{\n        if (!audioPath || audioPath === \"null\" || audioPath === \"/null\") {\n            console.warn(\"[AUDIO] \\xdcberspringe ung\\xfcltigen Audio-Pfad:\", audioPath);\n            return;\n        }\n        try {\n            if (window.currentAudio) {\n                window.currentAudio.pause();\n                window.currentAudio.currentTime = 0;\n            }\n            const audio = new Audio(audioPath);\n            window.currentAudio = audio;\n            audio.play().catch((err)=>{\n                console.log(\"Audio autoplay verhindert:\", err);\n            });\n            audio.addEventListener(\"ended\", ()=>{\n                if (window.currentAudio === audio) {\n                    window.currentAudio = null;\n                }\n            });\n        } catch (error) {\n            console.error(\"Audio-Fehler:\", error);\n        }\n    };\n    // Image Preloading Funktion\n    const preloadNextContent = async (slug, type = \"category\")=>{\n        try {\n            setIsPreloading(true);\n            console.log(` Preloading ${type}: ${slug}`);\n            let data;\n            // Statt API: Lade Kategorie-Details fr Preloading\n            if (type === \"category\") {\n                data = await (0,_utils_assetCache__WEBPACK_IMPORTED_MODULE_7__.getCachedJson)(`/kategorien/${slug}.json`);\n            } else if (type === \"animals\") {\n                // Lade alle Tiere und filtere nach Kategorie\n                data = await (0,_utils_assetCache__WEBPACK_IMPORTED_MODULE_7__.getCachedJson)(\"/eintraege/tierEintraege.json\");\n            }\n            if (type === \"animals\") {\n                // Filtere Tiere nach Kategorie\n                data.animals = data.tiere.filter((tier)=>tier.categories.includes(slug));\n            }\n            if (data) {\n                setPreloadedData({\n                    type,\n                    slug,\n                    data\n                });\n                console.log(` Preloaded ${type} data:`, data);\n                // Dynamische Host-Erkennung fr mobile IP-Zugriffe\n                const protocol =  false ? 0 : \"http:\";\n                const hostname =  false ? 0 : \"localhost\";\n                const port = \"5000\";\n                const tileSize = 300; // Tile-optimierte Gre - hhere Qualitt\n                const quality = 75; // Performance-optimierte Qualitt\n                const baseImageUrl = `${protocol}//${hostname}:${port}/images/`;\n                // Preload Images mit LowRes und Fallback\n                const imagesToPreload = [];\n                if (type === \"category\" && data.subcategories) {\n                    imagesToPreload.push(...data.subcategories.map((sub)=>`/kategorien/images/lowres/${sub.image.filename}`));\n                } else if (type === \"animal\" && data.image) {\n                    imagesToPreload.push(`/images/lowres/${data.image.filename}`);\n                }\n                // Promise.all fr alle Bilder mit Fallback auf Original\n                await Promise.all(imagesToPreload.map((src)=>{\n                    return new Promise((resolve)=>{\n                        const img = new Image();\n                        img.onload = ()=>resolve();\n                        img.onerror = ()=>{\n                            // Fallback to original image if low-res not found\n                            const fallbackSrc = src.replace(\"/lowres/\", \"/\");\n                            if (fallbackSrc !== src) {\n                                const fallbackImg = new Image();\n                                fallbackImg.onload = ()=>resolve();\n                                fallbackImg.onerror = ()=>resolve();\n                                fallbackImg.src = fallbackSrc;\n                            } else {\n                                resolve();\n                            }\n                        };\n                        img.src = src;\n                    });\n                }));\n                console.log(` Preloaded ${imagesToPreload.length} images`);\n            }\n        } catch (error) {\n            console.error(\"Preloading error:\", error);\n        } finally{\n            setIsPreloading(false);\n        }\n    };\n    // Hilfsfunktion: Preload mehrere Bilder, gibt Promise zurck\n    async function preloadImages(urls) {\n        await Promise.all(urls.map((url)=>{\n            if (!url || url === \"null\" || url === \"/null\") {\n                console.warn(\"[PRELOAD] \\xdcberspringe ung\\xfcltige Bild-URL:\", url);\n                return Promise.resolve();\n            }\n            // Prfe, ob schon im Cache\n            const cacheKey = `imgcache_${url}_`;\n            if (localStorage.getItem(cacheKey)) return Promise.resolve();\n            // Sonst Bild laden\n            return fetch(url).then((r)=>r.blob()).then((blob)=>new Promise((resolve, reject)=>{\n                    const reader = new FileReader();\n                    reader.onloadend = ()=>{\n                        try {\n                            localStorage.setItem(cacheKey, reader.result);\n                        } catch  {}\n                        resolve();\n                    };\n                    reader.onerror = reject;\n                    reader.readAsDataURL(blob);\n                }));\n        }));\n    }\n    // Hilfsfunktion: Sammle alle Bild-URLs fr Kategorie/Subkategorie/Tiere\n    function getAllImageUrlsForCategory(category, lowRes = true) {\n        if (!category?.subcategories) return [];\n        return category.subcategories.map((sub)=>{\n            const url = lowRes ? `/kategorien/images/lowres/${sub.image.filename}` : `/kategorien/images/${sub.image.filename}`;\n            if (!sub.image || !sub.image.filename) {\n                console.warn(\"[IMGURL] Subkategorie ohne Bild:\", sub);\n                return null;\n            }\n            return url;\n        }).filter(Boolean);\n    }\n    // Fr Tiere/Eintrge IMMER /images/ verwenden\n    function getAllImageUrlsForAnimals(animals, lowRes = true) {\n        return animals.map((animal)=>{\n            const url = lowRes ? `/images/lowres/${animal.image.filename}` : `/images/${animal.image.filename}`;\n            if (!animal.image || !animal.image.filename) {\n                console.warn(\"[IMGURL] Tier ohne Bild:\", animal);\n                return null;\n            }\n            return url;\n        }).filter(Boolean);\n    }\n    // Hilfsfunktion: Warte, bis alle Base64-Bilder wirklich im <img> geladen sind\n    function waitForAllImagesToLoad(imageSrcs) {\n        return Promise.all(imageSrcs.map((src)=>new Promise((resolve)=>{\n                const img = new window.Image();\n                img.onload = resolve;\n                img.onerror = resolve;\n                img.src = src;\n            })));\n    }\n    // Hauptkategorie angeklickt - MIT Image Preloading\n    const handleCategoryClick = async (category)=>{\n        if (currentView === \"transitioning\") return;\n        setCurrentView(\"transitioning\");\n        setClickedItemId(category.id);\n        setGlobalAnimationDirection(getRandomDirection());\n        setCurrentGridAnimation(_utils_animationManager__WEBPACK_IMPORTED_MODULE_6__.animationManager.getRandomGridAnimation());\n        setCharacterContext(category.slug);\n        addToRecent(category.id, \"main\");\n        if (category.audio && category.audio.path) playAudio(`/${category.audio.path}`);\n        // 1. Lade Daten und starte Preloading SOFORT\n        const data = await (0,_utils_assetCache__WEBPACK_IMPORTED_MODULE_7__.getCachedJson)(`/kategorien/${category.slug}.json`);\n        const imageUrls = getAllImageUrlsForCategory(data.category);\n        const preloadPromise = preloadImages(imageUrls);\n        // 2. Animation abwarten\n        await new Promise((resolve)=>setTimeout(resolve, 1800));\n        if (scrollContainerRef.current) scrollContainerRef.current.scrollTop = 0;\n        resetAllTileAnimations();\n        // 3. Warte auf Preloading (falls noch nicht fertig)\n        await preloadPromise;\n        // 4. Pool-Update etc.\n        setSelectedCategory(data);\n        const subcats = data.subcategories || [];\n        const categoryRecentItems = loadRecentItemsFromStorage(\"category\", category.slug);\n        const arrangedSubcats = arrangeItemsWithRecent(subcats, categoryRecentItems);\n        setRecentItems(categoryRecentItems);\n        setSubcategories(arrangedSubcats);\n        setError(null);\n        setCurrentView(\"category\");\n        setClickedItemId(null);\n        setAnimationKey((k)=>k + 1);\n        // Warte, bis alle Bilder wirklich geladen sind\n        const base64s = subcats.map((sub)=>{\n            const url = getAllImageUrlsForCategory({\n                subcategories: [\n                    sub\n                ]\n            })[0];\n            if (!url || url === \"null\" || url === \"/null\" || url === undefined) return null;\n            const cacheKey = `imgcache_${url}_`;\n            return localStorage.getItem(cacheKey);\n        }).filter(Boolean); // entfernt null/undefined\n        setAllImagesLoaded(false);\n        waitForAllImagesToLoad(base64s).then(()=>setAllImagesLoaded(true));\n    };\n    // Subkategorie angeklickt - MIT Image Preloading\n    const handleSubcategoryClick = async (subcategory)=>{\n        if (currentView === \"transitioning\") return;\n        setCurrentView(\"transitioning\");\n        setClickedItemId(subcategory.id);\n        setGlobalAnimationDirection(getRandomDirection());\n        setCurrentGridAnimation(_utils_animationManager__WEBPACK_IMPORTED_MODULE_6__.animationManager.getRandomGridAnimation());\n        setCharacterContext(subcategory.slug);\n        addToRecent(subcategory.id, \"category\", selectedCategory?.slug);\n        if (subcategory.audio && subcategory.audio.path) playAudio(`/${subcategory.audio.path}`);\n        // 1. Lade Daten und starte Preloading SOFORT\n        const data = await (0,_utils_assetCache__WEBPACK_IMPORTED_MODULE_7__.getCachedJson)(\"/eintraege/tierEintraege.json\");\n        data.animals = data.tiere.filter((tier)=>tier.categories.includes(subcategory.slug));\n        const imageUrls = getAllImageUrlsForAnimals(data.animals || []);\n        const preloadPromise = preloadImages(imageUrls);\n        // 2. Animation abwarten\n        await new Promise((resolve)=>setTimeout(resolve, 1800));\n        if (scrollContainerRef.current) scrollContainerRef.current.scrollTop = 0;\n        resetAllTileAnimations();\n        // 3. Warte auf Preloading (falls noch nicht fertig)\n        await preloadPromise;\n        // 4. Pool-Update etc.\n        const animalRecentItems = loadRecentItemsFromStorage(\"animals\", selectedCategory?.slug, subcategory.slug);\n        const arrangedAnimals = arrangeItemsWithRecent(data.animals || [], animalRecentItems);\n        setRecentItems(animalRecentItems);\n        setAnimals(arrangedAnimals);\n        setError(null);\n        setCurrentView(\"animals\");\n        setClickedItemId(null);\n        setAnimationKey((k)=>k + 1);\n    };\n    // Tiere fr spezifische Subkategorie laden - FIXED API CALL\n    const loadAnimalsForCategory = async (subcategorySlug)=>{\n        try {\n            setLoading(true);\n            // Statt API: Lade Tiere fr spezifische Subkategorie\n            const data = await (0,_utils_assetCache__WEBPACK_IMPORTED_MODULE_7__.getCachedJson)(\"/eintraege/tierEintraege.json\");\n            data.animals = data.tiere.filter((tier)=>tier.categories.includes(subcategorySlug));\n            if (data.animals && data.animals.length > 0) {\n                // HIERARCHISCH: Animals mit Subcategory-spezifischen Recent Items anordnen\n                const animalsRecentItems = loadRecentItemsFromStorage(\"animals\", selectedCategory?.slug, subcategorySlug);\n                const arrangedAnimals = arrangeItemsWithRecent(data.animals, animalsRecentItems);\n                setRecentItems(animalsRecentItems); // State aktualisieren\n                // Animals setzen\n                setAnimals(arrangedAnimals);\n                setError(null);\n            } else {\n                // Keine Tiere gefunden - leeres Array setzen\n                setAnimals([]);\n                setError(\"Keine Tiere in dieser Kategorie gefunden.\");\n                console.log(` Keine Tiere fr Subkategorie '${subcategorySlug}' gefunden`);\n            }\n        } catch (err) {\n            console.error(\"Error loading animals:\", err);\n            setError(\"Fehler beim Laden der Tier-Eintr\\xe4ge!\");\n            setAnimals([]);\n        } finally{\n            setLoading(false);\n        }\n    };\n    // Tier-Klick Handler mit Voice-Over und Abzeichen\n    const handleAnimalClick = (animal)=>{\n        if (currentView === \"transitioning\") return;\n        // Stoppe vorheriges Audio\n        if (window.currentAudio) {\n            window.currentAudio.pause();\n            window.currentAudio.currentTime = 0;\n        }\n        // Setze aktuell spielendes Tier (ohne Verzgerung fr sofortige grne Outline)\n        console.log(` OLD currentlyPlaying: ${currentlyPlaying}, NEW: ${animal.id}`);\n        setCurrentlyPlaying(animal.id);\n        // HIERARCHISCH: Animal zu Animals Recent Items hinzufgen (bestimme Subcategory dynamisch)\n        const currentSubcategory = animals.find((a)=>a.id === animal.id)?.category || \"unknown\";\n        addToRecent(animal.id, \"animals\", selectedCategory?.slug, currentSubcategory);\n        // Markiere als gehrt (fr Abzeichen) - mit Local Storage\n        if (!playedAnimals.includes(animal.id)) {\n            const newPlayedAnimals = [\n                ...playedAnimals,\n                animal.id\n            ];\n            setPlayedAnimals(newPlayedAnimals);\n            savePlayedAnimalsToStorage(newPlayedAnimals);\n        }\n        // Audio abspielen\n        if (animal.audio && animal.audio.path) {\n            playAudio(`/${animal.audio.path}`);\n            // Reset currently playing wenn Audio beendet ist\n            if (window.currentAudio) {\n                window.currentAudio.addEventListener(\"ended\", ()=>{\n                    setCurrentlyPlaying(null);\n                }, {\n                    once: true\n                }); // Event nur einmal verwenden\n            }\n        } else {\n            // Kein Audio vorhanden - nach kurzer Zeit reset\n            setTimeout(()=>{\n                setCurrentlyPlaying(null);\n            }, 2000);\n        }\n    };\n    // Zurck zu Hauptkategorien mit Animation\n    const handleBackToCategories = async ()=>{\n        if (currentView === \"transitioning\") return;\n        setCurrentView(\"transitioning\");\n        setClickedItemId(null);\n        setGlobalAnimationDirection(getRandomDirection());\n        setCurrentGridAnimation(_utils_animationManager__WEBPACK_IMPORTED_MODULE_6__.animationManager.getRandomGridAnimation());\n        await new Promise((resolve)=>setTimeout(resolve, 1800));\n        if (scrollContainerRef.current) scrollContainerRef.current.scrollTop = 0;\n        resetAllTileAnimations();\n        setSelectedCategory(null);\n        setSubcategories([]);\n        setAnimals([]);\n        setCharacterContext(\"idle\");\n        setCurrentlyPlaying(null);\n        setCurrentView(\"main\");\n        await loadCategories();\n        setAnimationKey((k)=>k + 1); // AnimationKey nach Pool-Update erhhen\n    };\n    // Zurck zu Subkategorien von Animal-Ansicht mit Animation\n    const handleBackToSubcategories = async ()=>{\n        if (currentView === \"transitioning\") return;\n        setCurrentView(\"transitioning\");\n        setClickedItemId(null);\n        setGlobalAnimationDirection(getRandomDirection());\n        setCurrentGridAnimation(_utils_animationManager__WEBPACK_IMPORTED_MODULE_6__.animationManager.getRandomGridAnimation());\n        await new Promise((resolve)=>setTimeout(resolve, 1800));\n        if (scrollContainerRef.current) scrollContainerRef.current.scrollTop = 0;\n        resetAllTileAnimations();\n        setIsGridVisible(false); // Grid sofort unsichtbar machen\n        setAnimals([]);\n        setCurrentlyPlaying(null);\n        setCharacterContext(selectedCategory ? selectedCategory.slug : \"idle\");\n        setCurrentView(\"category\");\n        let preloadPromise = Promise.resolve();\n        if (selectedCategory) {\n            // Statt API: Lade Kategorie-Details fr Back-Navigation\n            const data = await (0,_utils_assetCache__WEBPACK_IMPORTED_MODULE_7__.getCachedJson)(`/kategorien/${selectedCategory.slug}.json`);\n            const imageUrls = getAllImageUrlsForCategory(data);\n            preloadPromise = preloadImages(imageUrls);\n            await loadCategoryDetails(selectedCategory.slug);\n        }\n        setTimeout(async ()=>{\n            await preloadPromise;\n            setAnimationKey((k)=>k + 1);\n            setIsGridVisible(true);\n        }, 0);\n    };\n    // Character Emotion-Change Handler\n    const handleCharacterEmotionChange = (emotion)=>{\n        console.log(`Character emotion changed to: ${emotion}`);\n    // Hier knnen spter Sounds oder andere Effekte getriggert werden\n    };\n    // Scroll Handler fr Scroll-Indikator\n    const handleScroll = ()=>{\n        const container = scrollContainerRef.current;\n        if (container) {\n            const scrollTop = container.scrollTop;\n            const scrollHeight = container.scrollHeight - container.clientHeight;\n            const progress = scrollHeight > 0 ? scrollTop / scrollHeight * 100 : 0;\n            setScrollProgress(Math.min(100, Math.max(0, progress)));\n        }\n    };\n    // Zufllige Richtung fr ALLE Tiles gemeinsam\n    const getRandomDirection = ()=>{\n        const directions = [\n            \"down\",\n            \"up\",\n            \"left\",\n            \"right\",\n            \"up-left\",\n            \"up-right\",\n            \"down-left\",\n            \"down-right\"\n        ];\n        return directions[Math.floor(Math.random() * directions.length)];\n    };\n    // Bestimme Animation-Mode fr ein Tile\n    const getAnimationMode = (itemId)=>{\n        if (currentView === \"transitioning\") {\n            if (clickedItemId === itemId) {\n                console.log(` CLICKED TILE: ${itemId} (matches clickedItemId: ${clickedItemId})`);\n                return \"clicked\";\n            } else {\n                return `fall-out-${globalAnimationDirection}`;\n            }\n        }\n        // Normale Position - keine individuelle Animation\n        return null;\n    };\n    // Tile Pool Management - Aktualisiere nur Inhalte\n    const updateTilePool = (items)=>{\n        // SPEZIAL: Whrend Transition nur Animation-Modi updaten, KEINE Content-Changes!\n        if (currentView === \"transitioning\") {\n            console.log(\"\\uD83C\\uDFAD Updating ONLY animation modes during transition\");\n            setTilePool((prev)=>{\n                const updated = [\n                    ...prev\n                ];\n                // Nur Animation-Modi updaten, Content und onClick NICHT ndern!\n                updated.forEach((tile)=>{\n                    if (tile.isVisible && tile.content) {\n                        const newAnimationMode = getAnimationMode(tile.content.id);\n                        if (tile.animationMode !== newAnimationMode) {\n                            tile.animationMode = newAnimationMode;\n                            console.log(` Updated animation for ${tile.content.name}: ${newAnimationMode}`);\n                        }\n                    }\n                });\n                return updated;\n            });\n            return;\n        }\n        setTilePool((prev)=>{\n            const updated = [\n                ...prev\n            ];\n            // 1. Mark all tiles as not updated\n            updated.forEach((tile)=>{\n                tile._updated = false;\n            });\n            // 2. Update or reuse tiles for new items\n            items.forEach((item, index)=>{\n                if (index < TILE_POOL_SIZE) {\n                    const tile = updated[index];\n                    const prevContentId = tile.content?.id;\n                    if (tile.isVisible && prevContentId === item.id) {\n                        // Only update animationMode and other dynamic fields\n                        // Debug: Reusing tile\n                        if (index < 5) console.log(`[POOL] REUSE tile-${index}: contentId=${item.id}`);\n                        tile.animationMode = getAnimationMode(item.id);\n                        tile.onClick = currentView === \"main\" ? handleCategoryClick : currentView === \"category\" ? handleSubcategoryClick : currentView === \"animals\" ? handleAnimalClick : null;\n                        tile.isAnimal = currentView === \"animals\";\n                        tile.isPlayed = currentView === \"animals\" ? playedAnimals.includes(item.id) : false;\n                        tile.isCurrentlyPlaying = currentView === \"animals\" ? currentlyPlaying === item.id : false;\n                        tile._updated = true;\n                    } else {\n                        // Debug: Assigning new content to tile\n                        if (index < 5) console.log(`[POOL] ASSIGN tile-${index}: contentId=${item.id} (was ${prevContentId})`);\n                        tile.isVisible = true;\n                        tile.content = item;\n                        tile.animationMode = getAnimationMode(item.id);\n                        tile.onClick = currentView === \"main\" ? handleCategoryClick : currentView === \"category\" ? handleSubcategoryClick : currentView === \"animals\" ? handleAnimalClick : null;\n                        tile.isAnimal = currentView === \"animals\";\n                        tile.isPlayed = currentView === \"animals\" ? playedAnimals.includes(item.id) : false;\n                        tile.isCurrentlyPlaying = currentView === \"animals\" ? currentlyPlaying === item.id : false;\n                        tile._updated = true;\n                    }\n                }\n            });\n            // 3. Hide tiles that are not used\n            updated.forEach((tile, index)=>{\n                if (!tile._updated) {\n                    if (index < 5) console.log(`[POOL] RESET tile-${index}: was contentId=${tile.content?.id}`);\n                    tile.isVisible = false;\n                    tile.content = null;\n                    tile.animationMode = null;\n                    tile.onClick = null;\n                    tile.isAnimal = false;\n                    tile.isPlayed = false;\n                    tile.isCurrentlyPlaying = false;\n                }\n                delete tile._updated;\n            });\n            // Only keep this summary log for pool\n            console.log(` Tile pool updated: ${items.length} visible tiles, view: ${currentView}`);\n            return updated;\n        });\n    };\n    // Zentrale Funktion: Welche Items sollen aktuell gerendert werden?\n    const getCurrentItems = ()=>{\n        if (currentView === \"main\" || !selectedCategory && currentView !== \"animals\") {\n            // Always use the full main category data for the main tile\n            if (categories.length > 0) {\n                // Find the main category (e.g., by slug or id)\n                const mainCat = categories.find((cat)=>cat.slug === \"tiere\" || cat.id === \"cat_001\");\n                if (mainCat) {\n                    // Just return the mainCat; do not fetch synchronously\n                    return [\n                        mainCat\n                    ];\n                }\n            }\n            return categories;\n        } else if (currentView === \"category\" || selectedCategory && subcategories.length > 0 && currentView === \"transitioning\") {\n            return subcategories;\n        } else if (currentView === \"animals\") {\n            // Animals in CategoryTile-Format konvertieren\n            const mapped = animals.map((animal)=>{\n                console.log(\"[DEBUG] Animal for tile:\", animal);\n                if (!animal.image || !animal.image.filename) {\n                    console.warn(\"[DEBUG] Animal missing image or filename:\", animal);\n                }\n                return {\n                    id: animal.id,\n                    name: animal.name,\n                    slug: animal.slug,\n                    image: animal.image,\n                    audio: animal.audio\n                };\n            });\n            return mapped;\n        }\n        return [];\n    };\n    // Zentrale Funktion: Soll Grid-Animation laufen?\n    const shouldUseGridAnimation = ()=>{\n        return currentView !== \"transitioning\";\n    };\n    // Tile Pool aktualisieren wenn sich Inhalte ndern\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const currentItems = getCurrentItems();\n        console.log(` Updating tile pool for ${currentView}:`, currentItems.length, \"items\", currentItems);\n        // Nur updaten wenn wir tatschlich Items haben oder explizit leeren wollen\n        if (currentItems.length > 0 || currentView === \"main\" && categories.length === 0) {\n            updateTilePool(currentItems);\n        }\n    }, [\n        categories,\n        subcategories,\n        animals,\n        currentView,\n        playedAnimals,\n        currentlyPlaying,\n        clickedItemId,\n        globalAnimationDirection\n    ]);\n    // Debug useEffect fr Back Navigation\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        console.log(` State Update - View: ${currentView}, Categories: ${categories.length}, Subcategories: ${subcategories.length}, Animals: ${animals.length}`);\n        tilePool.filter((t)=>t.isVisible).forEach((tile, index)=>{\n            console.log(`  Tile ${index}: ${tile.content?.name || \"No name\"}`);\n        });\n    }, [\n        currentView,\n        categories,\n        subcategories,\n        animals,\n        tilePool\n    ]);\n    // Initial Kategorien laden\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        loadCategories();\n        setCurrentView(\"main\");\n    }, []);\n    // Lade gespeicherte gehrte Tiere beim Start\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const savedPlayedAnimals = loadPlayedAnimalsFromStorage();\n        setPlayedAnimals(savedPlayedAnimals);\n        // HIERARCHISCH: Lade Initial Recent Items fr Main-View\n        const savedRecentItems = loadRecentItemsFromStorage(\"main\");\n        setRecentItems(savedRecentItems);\n    }, []);\n    // Kategorien, Subkategorien und Animals werden automatisch mit Recent Items angeordnet\n    // beim Laden durch arrangeItemsWithRecent() - kein separates useEffect ntig\n    // Fullscreen logic\n    const handleToggleFullscreen = ()=>{\n        if (!isFullscreen) {\n            const elem = document.documentElement;\n            if (elem.requestFullscreen) {\n                elem.requestFullscreen();\n            } else if (elem.mozRequestFullScreen) {\n                elem.mozRequestFullScreen();\n            } else if (elem.webkitRequestFullscreen) {\n                elem.webkitRequestFullscreen();\n            } else if (elem.msRequestFullscreen) {\n                elem.msRequestFullscreen();\n            }\n        } else {\n            if (document.exitFullscreen) {\n                document.exitFullscreen();\n            } else if (document.mozCancelFullScreen) {\n                document.mozCancelFullScreen();\n            } else if (document.webkitExitFullscreen) {\n                document.webkitExitFullscreen();\n            } else if (document.msExitFullscreen) {\n                document.msExitFullscreen();\n            }\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const fullscreenChangeHandler = ()=>{\n            setIsFullscreen(!!(document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement));\n        };\n        document.addEventListener(\"fullscreenchange\", fullscreenChangeHandler);\n        document.addEventListener(\"webkitfullscreenchange\", fullscreenChangeHandler);\n        document.addEventListener(\"mozfullscreenchange\", fullscreenChangeHandler);\n        document.addEventListener(\"MSFullscreenChange\", fullscreenChangeHandler);\n        return ()=>{\n            document.removeEventListener(\"fullscreenchange\", fullscreenChangeHandler);\n            document.removeEventListener(\"webkitfullscreenchange\", fullscreenChangeHandler);\n            document.removeEventListener(\"mozfullscreenchange\", fullscreenChangeHandler);\n            document.removeEventListener(\"MSFullscreenChange\", fullscreenChangeHandler);\n        };\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const shouldShow = selectedCategory || currentView === \"animals\";\n        if (shouldShow !== showBackButton) {\n            setButtonsVisible(false); // fade out all\n            setTimeout(()=>{\n                setShowBackButton(shouldShow); // update layout\n                setButtonsVisible(true); // fade in all\n            }, 450); // match CSS transition (was 250)\n        }\n    // eslint-disable-next-line\n    }, [\n        selectedCategory,\n        currentView\n    ]);\n    const [downloadProgress, setDownloadProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        total: 0,\n        done: 0,\n        status: \"idle\"\n    });\n    const [downloadNotification, setDownloadNotification] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Restore progress from localStorage on mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (false) {}\n    }, []);\n    // Persist progress to localStorage\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (false) {}\n    }, [\n        downloadProgress\n    ]);\n    // Download all offline asset files for offline use\n    const handleDownloadAllAssets = async ()=>{\n        setDownloadNotification(\"Download gestartet ...\");\n        setDownloadProgress({\n            total: 0,\n            done: 0,\n            status: \"preparing\"\n        });\n        try {\n            // Fetch the offline asset file list\n            const assetUrls = await (0,_utils_assetCache__WEBPACK_IMPORTED_MODULE_7__.getOfflineAssetFileList)();\n            setDownloadProgress({\n                total: assetUrls.length,\n                done: 0,\n                status: \"downloading\"\n            });\n            let done = 0;\n            for (const url of assetUrls){\n                try {\n                    await (0,_utils_assetCache__WEBPACK_IMPORTED_MODULE_7__.getCachedAsset)(url);\n                } catch (e) {\n                // Ignore individual errors, continue\n                }\n                done++;\n                setDownloadProgress((prev)=>({\n                        ...prev,\n                        done,\n                        status: \"downloading\"\n                    }));\n            }\n            setDownloadProgress((prev)=>({\n                    ...prev,\n                    done: prev.total,\n                    status: \"done\"\n                }));\n            setDownloadNotification(\"Alle Bilder und Audios sind jetzt offline verf\\xfcgbar!\");\n            setTimeout(()=>setDownloadNotification(null), 3500);\n        } catch (e) {\n            setDownloadProgress({\n                total: 0,\n                done: 0,\n                status: \"error\"\n            });\n            setDownloadNotification(\"Fehler beim Download. Bitte versuche es erneut.\");\n            setTimeout(()=>setDownloadNotification(null), 3500);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"container\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_head__WEBPACK_IMPORTED_MODULE_2___default()), {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"title\", {\n                        children: \"Kinderlexikon - Entdecke die Welt!\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                        lineNumber: 899,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"description\",\n                        content: \"Interaktives Kinderlexikon f\\xfcr Vorschulkinder (3-7 Jahre)\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                        lineNumber: 900,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"viewport\",\n                        content: \"width=device-width, initial-scale=1\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                        lineNumber: 901,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"link\", {\n                        rel: \"icon\",\n                        href: \"/favicon.ico\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                        lineNumber: 902,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                lineNumber: 898,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"character-section\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: `character-buttons-row${!buttonsVisible ? \" buttons-fade-out\" : \"\"}`,\n                        children: [\n                            showBackButton && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"back-button\",\n                                onClick: currentView === \"animals\" ? handleBackToSubcategories : handleBackToCategories,\n                                title: currentView === \"animals\" ? \"Zur\\xfcck zu den Unterkategorien\" : \"Zur\\xfcck zu den Hauptkategorien\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                    src: \"/websiteBaseImages/back button.png\",\n                                    alt: \"Zur\\xfcck\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                    lineNumber: 914,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                lineNumber: 909,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"fullscreen-button\",\n                                onClick: handleToggleFullscreen,\n                                title: isFullscreen ? \"Vollbildmodus verlassen\" : \"Vollbildmodus aktivieren\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                    src: isFullscreen ? \"/websiteBaseImages/closeButton.png\" : \"/websiteBaseImages/Fullscreen.png\",\n                                    alt: isFullscreen ? \"Schlie\\xdfen\" : \"Fullscreen\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                    lineNumber: 922,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                lineNumber: 917,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"info-button\",\n                                onClick: ()=>setShowInfo(true),\n                                title: \"Info \\xfcber das Lexikon\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                    src: \"/websiteBaseImages/info.png\",\n                                    alt: \"Info\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                    lineNumber: 929,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                lineNumber: 924,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                        lineNumber: 907,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Character__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                        currentContext: loading || error ? \"idle\" : characterContext,\n                        onEmotionChange: handleCharacterEmotionChange\n                    }, \"main-character\" // Fester Key - wird nur EINMAL gemountet\n                    , false, {\n                        fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                        lineNumber: 932,\n                        columnNumber: 9\n                    }, this),\n                    showInfo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"info-overlay-modal\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"info-overlay-content\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"info-overlay-close\",\n                                    onClick: ()=>setShowInfo(false),\n                                    title: \"Schlie\\xdfen\",\n                                    children: \"\\xd7\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                    lineNumber: 941,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    children: \"Warum ich dieses Kinderlexikon gemacht habe\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                    lineNumber: 942,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: [\n                                        \"Ich habe dieses Kinderlexikon f\\xfcr meine eigenen Kinder erstellt, weil sie ein gro\\xdfes Interesse an Tieren und Wissen im Allgemeinen haben. Leider haben wir bisher kein Lexikon gefunden, das auch f\\xfcr Kinder geeignet ist, die noch nicht lesen k\\xf6nnen. Deshalb habe ich angefangen, ein interaktives, gesprochenes Lexikon zu entwickeln  mit Bildern, einfacher Sprache und Audiounterst\\xfctzung.\",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 944,\n                                            columnNumber: 403\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 944,\n                                            columnNumber: 408\n                                        }, this),\n                                        \"Derzeit gibt es nur die Kategorie Tiere, aber wenn meine Kinder oder auch andere Kinder Interesse an weiteren Kategorien haben, w\\xfcrde ich das Lexikon gerne erweitern. Ihr k\\xf6nnt mir gerne mitteilen, welche Themen ihr euch w\\xfcnscht  ich freue mich \\xfcber Vorschl\\xe4ge!\",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 945,\n                                            columnNumber: 281\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 945,\n                                            columnNumber: 286\n                                        }, this),\n                                        \"Jede neue Hauptkategorie kostet mich jedoch rund 50, da ich die Bilder, Texte und Voiceovers mithilfe von KI generieren lasse. Diese Kosten kann ich aktuell nicht selbst tragen. Falls ihr das Projekt unterst\\xfctzen m\\xf6chtet, schreibt mir gerne eine E-Mail an \",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"b\", {\n                                            children: \"niki@parttimeindie.com\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 946,\n                                            columnNumber: 275\n                                        }, this),\n                                        \". Ich freue mich \\xfcber jede Nachricht und wir k\\xf6nnen dann gerne besprechen, wie ihr das Projekt unterst\\xfctzen k\\xf6nnt.\",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 946,\n                                            columnNumber: 418\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 946,\n                                            columnNumber: 423\n                                        }, this),\n                                        \"Mein Ziel ist es, ein richtiges Lexikon f\\xfcr Kinder zu schaffen  zug\\xe4nglich, unterhaltsam und kindgerecht, auch f\\xfcr die J\\xfcngsten.\",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 947,\n                                            columnNumber: 146\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 947,\n                                            columnNumber: 151\n                                        }, this),\n                                        \"Auch eine \\xdcbersetzung in andere Sprachen ist geplant. Daf\\xfcr m\\xfcsste ich jedoch noch zus\\xe4tzliche Entwicklungszeit investieren, um den Support daf\\xfcr technisch besser umzusetzen. Falls daran Interesse besteht, k\\xf6nnten wir gerne dar\\xfcber sprechen.\",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 948,\n                                            columnNumber: 258\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 948,\n                                            columnNumber: 263\n                                        }, this),\n                                        \"Wenn ihr mich zus\\xe4tzlich unterst\\xfctzen m\\xf6chtet, schaut gerne bei meinen Spielen vorbei oder setzt sie auf eure Wunschliste:\",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 949,\n                                            columnNumber: 139\n                                        }, this),\n                                        \"\\uD83D\\uDC49 Meine Entwicklerseite auf Steam \",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                            href: \"https://store.steampowered.com/curator/33183467\",\n                                            target: \"_blank\",\n                                            rel: \"noopener noreferrer\",\n                                            children: \"@https://store.steampowered.com/curator/33183467\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 950,\n                                            columnNumber: 52\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 950,\n                                            columnNumber: 204\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 950,\n                                            columnNumber: 209\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"b\", {\n                                            children: \"Technischer Hinweis & Attribution:\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 951,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 951,\n                                            columnNumber: 58\n                                        }, this),\n                                        \"Dieses Lexikon wurde mit Hilfe von K\\xfcnstlicher Intelligenz erstellt:\",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 952,\n                                            columnNumber: 85\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"b\", {\n                                            children: \"Bilder:\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 953,\n                                            columnNumber: 17\n                                        }, this),\n                                        \" generiert mit OpenAI\",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 953,\n                                            columnNumber: 52\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"b\", {\n                                            children: \"Voiceover:\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 954,\n                                            columnNumber: 17\n                                        }, this),\n                                        \" erstellt mit ElevenLabs\",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 954,\n                                            columnNumber: 58\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"b\", {\n                                            children: \"Code & Umsetzung:\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 955,\n                                            columnNumber: 17\n                                        }, this),\n                                        \" mit Hilfe von Cursor und verschiedenen Language Models (LLMs)\",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 955,\n                                            columnNumber: 103\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"b\", {\n                                            children: \"Soundeffekt:\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 956,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 956,\n                                            columnNumber: 36\n                                        }, this),\n                                        \"Boy Laughing (5 y.o.) von Nakhas  freesound.org/s/506937/  Lizenz: Creative Commons 0\",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 957,\n                                            columnNumber: 106\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 957,\n                                            columnNumber: 111\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"b\", {\n                                            children: \"Bekannte Probleme:\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 958,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 958,\n                                            columnNumber: 42\n                                        }, this),\n                                        \" Bei der Nutzung mit dem Firefox-Browser kann es aktuell zu Bildflackern kommen. Bitte nutzt in diesem Fall vor\\xfcbergehend einen anderen Browser (z.B. Chrome, Edge oder Safari), bis das Problem behoben ist.\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                    lineNumber: 943,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    style: {\n                                        marginTop: 32,\n                                        marginBottom: 16\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: handleDownloadAllAssets,\n                                            style: {\n                                                padding: \"12px 24px\",\n                                                fontSize: 18,\n                                                borderRadius: 8,\n                                                background: \"#4caf50\",\n                                                color: \"white\",\n                                                border: \"none\",\n                                                cursor: \"pointer\",\n                                                marginBottom: 12\n                                            },\n                                            disabled: downloadProgress.status === \"downloading\" || downloadProgress.status === \"preparing\",\n                                            children: downloadProgress.status === \"done\" ? \"Alle Assets offline verf\\xfcgbar!\" : downloadProgress.status === \"downloading\" ? \"Download l\\xe4uft ...\" : downloadProgress.status === \"preparing\" ? \"Vorbereitung ...\" : \"F\\xfcr Offline-Nutzung herunterladen\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 962,\n                                            columnNumber: 17\n                                        }, this),\n                                        (downloadProgress.status === \"downloading\" || downloadProgress.status === \"preparing\" || downloadProgress.status === \"done\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                width: \"100%\",\n                                                maxWidth: 400,\n                                                margin: \"0 auto\",\n                                                marginTop: 8\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        height: 18,\n                                                        background: \"#eee\",\n                                                        borderRadius: 8,\n                                                        overflow: \"hidden\",\n                                                        border: \"1px solid #ccc\"\n                                                    },\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        style: {\n                                                            width: downloadProgress.total > 0 ? `${Math.round(100 * downloadProgress.done / downloadProgress.total)}%` : \"0%\",\n                                                            height: \"100%\",\n                                                            background: downloadProgress.status === \"done\" ? \"#4caf50\" : \"#1976d2\",\n                                                            transition: \"width 0.3s\"\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                                        lineNumber: 984,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                                    lineNumber: 983,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        textAlign: \"center\",\n                                                        fontSize: 14,\n                                                        marginTop: 4\n                                                    },\n                                                    children: downloadProgress.status === \"done\" ? \"Alle Bilder und Audios sind jetzt offline verf\\xfcgbar!\" : downloadProgress.status === \"preparing\" ? \"Vorbereitung ...\" : `${downloadProgress.done} / ${downloadProgress.total} Dateien gespeichert`\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                                    lineNumber: 991,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 982,\n                                            columnNumber: 19\n                                        }, this),\n                                        downloadNotification && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                marginTop: 10,\n                                                color: \"#388e3c\",\n                                                fontWeight: 600,\n                                                textAlign: \"center\"\n                                            },\n                                            children: downloadNotification\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                            lineNumber: 1001,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                    lineNumber: 961,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                            lineNumber: 940,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                        lineNumber: 939,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                lineNumber: 906,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"character-categories-separator\",\n                \"aria-hidden\": \"true\"\n            }, void 0, false, {\n                fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                lineNumber: 1009,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"categories-section\",\n                ref: scrollContainerRef,\n                onScroll: handleScroll,\n                children: [\n                    loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"loading-spinner\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"spinner\"\n                        }, void 0, false, {\n                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                            lineNumber: 1018,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                        lineNumber: 1017,\n                        columnNumber: 11\n                    }, this),\n                    error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"error-message\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                children: \"Oops! \\uD83D\\uDE05\"\n                            }, void 0, false, {\n                                fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                lineNumber: 1025,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: error\n                            }, void 0, false, {\n                                fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                lineNumber: 1026,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: loadCategories,\n                                style: {\n                                    background: \"#4caf50\",\n                                    color: \"white\",\n                                    border: \"none\",\n                                    borderRadius: \"10px\",\n                                    padding: \"12px 24px\",\n                                    fontSize: \"1rem\",\n                                    cursor: \"pointer\",\n                                    marginTop: \"1rem\"\n                                },\n                                children: \"Nochmal versuchen\"\n                            }, void 0, false, {\n                                fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                lineNumber: 1027,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                        lineNumber: 1024,\n                        columnNumber: 11\n                    }, this),\n                    !loading && !error && allImagesLoaded && isGridVisible && // Only render the grid if the main category (first visible tile) has image and image.filename\n                    (tilePool.some((tile)=>tile.isVisible && tile.content && tile.content.image && tile.content.image.filename) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_5__.motion.div, {\n                        className: `tile-grid`,\n                        variants: _utils_animationManager__WEBPACK_IMPORTED_MODULE_6__.animationManager.getGridVariants(currentGridAnimation),\n                        initial: \"hidden\",\n                        animate: \"visible\",\n                        style: {\n                            opacity: tilePool.some((tile)=>tile.isVisible) ? 1 : 0,\n                            transition: \"opacity 0.1s ease\"\n                        },\n                        children: tilePool.map((poolTile, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_CategoryTile__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                tileKey: poolTile.id,\n                                poolTile: poolTile,\n                                delay: poolTile.isVisible ? _utils_animationManager__WEBPACK_IMPORTED_MODULE_6__.animationManager.getTileDelay(tilePool.filter((t, i)=>t.isVisible && i <= index).length - 1, tilePool.filter((t)=>t.isVisible).length, currentGridAnimation) : 0\n                            }, poolTile.id, false, {\n                                fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                                lineNumber: 1062,\n                                columnNumber: 19\n                            }, this))\n                    }, animationKey, false, {\n                        fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                        lineNumber: 1050,\n                        columnNumber: 15\n                    }, this) : null),\n                    selectedCategory && subcategories.length === 0 && currentView === \"category\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            textAlign: \"center\",\n                            padding: \"3rem\"\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            style: {\n                                fontSize: \"1.2rem\",\n                                color: \"#666\"\n                            },\n                            children: \"Hier entstehen bald spannende Unterkategorien! \\uD83D\\uDEA7\"\n                        }, void 0, false, {\n                            fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                            lineNumber: 1081,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                        lineNumber: 1080,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                lineNumber: 1010,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"scroll-indicator\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"scroll-thumb\",\n                    style: {\n                        height: `${Math.max(15, scrollProgress)}%`,\n                        transform: `translateY(${scrollProgress * 0.8}%)`\n                    }\n                }, void 0, false, {\n                    fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                    lineNumber: 1090,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n                lineNumber: 1089,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"D:\\\\gitrepros\\\\Vorschulkinder Lexikon\\\\pages\\\\index.js\",\n        lineNumber: 897,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE1BQU0sRUFDeENlLHdCQUNFOytCQVBDd1AsU0FBU3BRLEVBQUU7Ozs7O3VCQVpmMUI7Ozs7K0JBd0JQLElBQUc7b0JBSVIzQixvQkFBb0JFLGNBQWNnRCxNQUFNLEtBQUssS0FBS3RDLGdCQUFnQiw0QkFDakUsOERBQUNnUTt3QkFBSWdCLE9BQU87NEJBQUVrQixXQUFXOzRCQUFVZixTQUFTO3dCQUFPO2tDQUNqRCw0RUFBQ1A7NEJBQUVJLE9BQU87Z0NBQUVJLFVBQVU7Z0NBQVVHLE9BQU87NEJBQU87c0NBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7OzBCQVF2RCw4REFBQ3ZCO2dCQUFJQyxXQUFVOzBCQUNiLDRFQUFDRDtvQkFDQ0MsV0FBVTtvQkFDVmUsT0FBTzt3QkFDTGMsUUFBUSxDQUFDLEVBQUUzTSxLQUFLOEgsR0FBRyxDQUFDLElBQUk3TSxnQkFBZ0IsQ0FBQyxDQUFDO3dCQUMxQzZTLFdBQVcsQ0FBQyxXQUFXLEVBQUU3UyxpQkFBaUIsSUFBSSxFQUFFLENBQUM7b0JBQ25EOzs7Ozs7Ozs7Ozs7Ozs7OztBQUtWIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va2luZGVybGV4aWtvbi8uL3BhZ2VzL2luZGV4LmpzP2JlZTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBIZWFkIGZyb20gJ25leHQvaGVhZCc7XG5pbXBvcnQgQ2hhcmFjdGVyIGZyb20gJy4uL2NvbXBvbmVudHMvQ2hhcmFjdGVyJztcbmltcG9ydCBDYXRlZ29yeVRpbGUgZnJvbSAnLi4vY29tcG9uZW50cy9DYXRlZ29yeVRpbGUnO1xuaW1wb3J0IHsgbW90aW9uIH0gZnJvbSAnZnJhbWVyLW1vdGlvbic7XG5pbXBvcnQgeyBhbmltYXRpb25NYW5hZ2VyIH0gZnJvbSAnLi4vdXRpbHMvYW5pbWF0aW9uTWFuYWdlcic7XG4vLyBSRU1PVkU6IGltcG9ydCB7IEFuaW1hdGVQcmVzZW5jZSB9IGZyb20gJ2ZyYW1lci1tb3Rpb24nO1xuaW1wb3J0IHsgZ2V0Q2FjaGVkQXNzZXQsIGdldE9mZmxpbmVBc3NldEZpbGVMaXN0LCBnZXRDYWNoZWRKc29uIH0gZnJvbSAnLi4vdXRpbHMvYXNzZXRDYWNoZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEhvbWUoKSB7XG4gIGNvbnN0IFtjYXRlZ29yaWVzLCBzZXRDYXRlZ29yaWVzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW3NlbGVjdGVkQ2F0ZWdvcnksIHNldFNlbGVjdGVkQ2F0ZWdvcnldID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtzdWJjYXRlZ29yaWVzLCBzZXRTdWJjYXRlZ29yaWVzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2FuaW1hbHMsIHNldEFuaW1hbHNdID0gdXNlU3RhdGUoW10pOyBcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtjaGFyYWN0ZXJDb250ZXh0LCBzZXRDaGFyYWN0ZXJDb250ZXh0XSA9IHVzZVN0YXRlKCdpZGxlJyk7XG4gIGNvbnN0IFtjdXJyZW50Vmlldywgc2V0Q3VycmVudFZpZXddID0gdXNlU3RhdGUoJ21haW4nKTsgLy8gJ21haW4nLCAnY2F0ZWdvcnknLCAnYW5pbWFscycsICd0cmFuc2l0aW9uaW5nJ1xuICBjb25zdCBbY2xpY2tlZEl0ZW1JZCwgc2V0Q2xpY2tlZEl0ZW1JZF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW3Njcm9sbFByb2dyZXNzLCBzZXRTY3JvbGxQcm9ncmVzc10gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW3JlY2VudEl0ZW1zLCBzZXRSZWNlbnRJdGVtc10gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IFtwbGF5ZWRBbmltYWxzLCBzZXRQbGF5ZWRBbmltYWxzXSA9IHVzZVN0YXRlKFtdKTsgXG4gIGNvbnN0IFtjdXJyZW50bHlQbGF5aW5nLCBzZXRDdXJyZW50bHlQbGF5aW5nXSA9IHVzZVN0YXRlKG51bGwpOyBcbiAgY29uc3Qgc2Nyb2xsQ29udGFpbmVyUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBbc2hvd0dyaWQsIHNldFNob3dHcmlkXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbYW5pbWF0aW9uS2V5LCBzZXRBbmltYXRpb25LZXldID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFtpc0dyaWRWaXNpYmxlLCBzZXRJc0dyaWRWaXNpYmxlXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbYWxsSW1hZ2VzTG9hZGVkLCBzZXRBbGxJbWFnZXNMb2FkZWRdID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtpc0Z1bGxzY3JlZW4sIHNldElzRnVsbHNjcmVlbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93SW5mbywgc2V0U2hvd0luZm9dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd0JhY2tCdXR0b24sIHNldFNob3dCYWNrQnV0dG9uXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2J1dHRvbnNWaXNpYmxlLCBzZXRCdXR0b25zVmlzaWJsZV0gPSB1c2VTdGF0ZSh0cnVlKTtcblxuICAvLyBJbWFnZSBQcmVsb2FkaW5nIFN0YXRlXG4gIGNvbnN0IFtwcmVsb2FkZWREYXRhLCBzZXRQcmVsb2FkZWREYXRhXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbaXNQcmVsb2FkaW5nLCBzZXRJc1ByZWxvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vIFRpbGUgUG9vbCBTeXN0ZW0gLSAxMDAgZmVzdGUgVGlsZXNcbiAgY29uc3QgVElMRV9QT09MX1NJWkUgPSAxMDA7XG4gIGNvbnN0IFt0aWxlUG9vbCwgc2V0VGlsZVBvb2xdID0gdXNlU3RhdGUoKCkgPT4ge1xuICAgIC8vIEluaXRpYWxpc2llcmUgMTAwIGxlZXJlIFRpbGVzXG4gICAgcmV0dXJuIEFycmF5LmZyb20oeyBsZW5ndGg6IFRJTEVfUE9PTF9TSVpFIH0sIChfLCBpbmRleCkgPT4gKHtcbiAgICAgIGlkOiBgdGlsZS0ke2luZGV4fWAsXG4gICAgICBpc1Zpc2libGU6IGZhbHNlLFxuICAgICAgY29udGVudDogbnVsbCxcbiAgICAgIGFuaW1hdGlvbk1vZGU6IG51bGwsXG4gICAgICBpc0FuaW1hbDogZmFsc2UsXG4gICAgICBpc1BsYXllZDogZmFsc2UsXG4gICAgICBpc0N1cnJlbnRseVBsYXlpbmc6IGZhbHNlLFxuICAgICAgb25DbGljazogbnVsbFxuICAgIH0pKTtcbiAgfSk7XG5cbiAgLy8gSGlsZnNmdW5rdGlvbjogU2V0enQgYWxsZSBhbmltYXRpb25Nb2RlcyBpbSB0aWxlUG9vbCBhdWYgbnVsbFxuICBmdW5jdGlvbiByZXNldEFsbFRpbGVBbmltYXRpb25zKCkge1xuICAgIHNldFRpbGVQb29sKHByZXYgPT4gcHJldi5tYXAodGlsZSA9PiAoe1xuICAgICAgLi4udGlsZSxcbiAgICAgIGFuaW1hdGlvbk1vZGU6IG51bGxcbiAgICB9KSkpO1xuICB9XG5cbiAgLy8gWmVudHJhbGVyIEFuaW1hdGlvbiBTdGF0ZVxuICBjb25zdCBbY3VycmVudEdyaWRBbmltYXRpb24sIHNldEN1cnJlbnRHcmlkQW5pbWF0aW9uXSA9IHVzZVN0YXRlKCdzbGlkZUZyb21MZWZ0Jyk7XG4gIGNvbnN0IFtnbG9iYWxBbmltYXRpb25EaXJlY3Rpb24sIHNldEdsb2JhbEFuaW1hdGlvbkRpcmVjdGlvbl0gPSB1c2VTdGF0ZSgnZG93bicpO1xuXG4gIC8vIExvY2FsIFN0b3JhZ2UgVXRpbGl0eS1GdW5rdGlvbmVuXG4gIGNvbnN0IHNhdmVQbGF5ZWRBbmltYWxzVG9TdG9yYWdlID0gKHBsYXllZExpc3QpID0+IHtcbiAgICB0cnkge1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2tpbmRlcmxleGlrb25fcGxheWVkX2FuaW1hbHMnLCBKU09OLnN0cmluZ2lmeShwbGF5ZWRMaXN0KSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyB0byBsb2NhbFN0b3JhZ2U6JywgZXJyb3IpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBsb2FkUGxheWVkQW5pbWFsc0Zyb21TdG9yYWdlID0gKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzYXZlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdraW5kZXJsZXhpa29uX3BsYXllZF9hbmltYWxzJyk7XG4gICAgICByZXR1cm4gc2F2ZWQgPyBKU09OLnBhcnNlKHNhdmVkKSA6IFtdO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIGZyb20gbG9jYWxTdG9yYWdlOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH07XG5cbiAgLy8gSElFUkFSQ0hJU0NIRVMgUmVjZW50IEl0ZW1zIExvY2FsIFN0b3JhZ2UgU3lzdGVtXG4gIGNvbnN0IGdldFN0b3JhZ2VLZXkgPSAobGV2ZWwsIGNhdGVnb3J5U2x1ZyA9IG51bGwsIHN1YmNhdGVnb3J5U2x1ZyA9IG51bGwpID0+IHtcbiAgICBpZiAobGV2ZWwgPT09ICdtYWluJykgcmV0dXJuICdraW5kZXJsZXhpa29uX3JlY2VudF9tYWluJztcbiAgICBpZiAobGV2ZWwgPT09ICdjYXRlZ29yeScgJiYgY2F0ZWdvcnlTbHVnKSByZXR1cm4gYGtpbmRlcmxleGlrb25fcmVjZW50X2NhdF8ke2NhdGVnb3J5U2x1Z31gO1xuICAgIGlmIChsZXZlbCA9PT0gJ2FuaW1hbHMnICYmIGNhdGVnb3J5U2x1ZyAmJiBzdWJjYXRlZ29yeVNsdWcpIHJldHVybiBga2luZGVybGV4aWtvbl9yZWNlbnRfYW5pbWFsc18ke2NhdGVnb3J5U2x1Z31fJHtzdWJjYXRlZ29yeVNsdWd9YDtcbiAgICByZXR1cm4gJ2tpbmRlcmxleGlrb25fcmVjZW50X2ZhbGxiYWNrJzsgLy8gRmFsbGJhY2tcbiAgfTtcblxuICBjb25zdCBzYXZlUmVjZW50SXRlbXNUb1N0b3JhZ2UgPSAocmVjZW50TGlzdCwgbGV2ZWwsIGNhdGVnb3J5U2x1ZyA9IG51bGwsIHN1YmNhdGVnb3J5U2x1ZyA9IG51bGwpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qga2V5ID0gZ2V0U3RvcmFnZUtleShsZXZlbCwgY2F0ZWdvcnlTbHVnLCBzdWJjYXRlZ29yeVNsdWcpO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeShyZWNlbnRMaXN0KSk7XG4gICAgICBjb25zb2xlLmxvZyhg8J+SviBTYXZlZCByZWNlbnQgaXRlbXMgZm9yICR7bGV2ZWx9OmAsIHJlY2VudExpc3QpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgcmVjZW50IGl0ZW1zIHRvIGxvY2FsU3RvcmFnZTonLCBlcnJvcik7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGxvYWRSZWNlbnRJdGVtc0Zyb21TdG9yYWdlID0gKGxldmVsLCBjYXRlZ29yeVNsdWcgPSBudWxsLCBzdWJjYXRlZ29yeVNsdWcgPSBudWxsKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGtleSA9IGdldFN0b3JhZ2VLZXkobGV2ZWwsIGNhdGVnb3J5U2x1Zywgc3ViY2F0ZWdvcnlTbHVnKTtcbiAgICAgIGNvbnN0IHNhdmVkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHNhdmVkID8gSlNPTi5wYXJzZShzYXZlZCkgOiBbXTtcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OCIExvYWRlZCByZWNlbnQgaXRlbXMgZm9yICR7bGV2ZWx9OmAsIHJlc3VsdCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIHJlY2VudCBpdGVtcyBmcm9tIGxvY2FsU3RvcmFnZTonLCBlcnJvcik7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9O1xuXG4gIC8vIFV0aWxpdHktRnVua3Rpb25lbiBmw7xyIHp1ZsOkbGxpZ2UgQW5vcmRudW5nXG4gIGNvbnN0IHNodWZmbGVBcnJheSA9IChhcnJheSkgPT4ge1xuICAgIGNvbnN0IHNodWZmbGVkID0gWy4uLmFycmF5XTtcbiAgICBmb3IgKGxldCBpID0gc2h1ZmZsZWQubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSkge1xuICAgICAgY29uc3QgaiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChpICsgMSkpO1xuICAgICAgW3NodWZmbGVkW2ldLCBzaHVmZmxlZFtqXV0gPSBbc2h1ZmZsZWRbal0sIHNodWZmbGVkW2ldXTtcbiAgICB9XG4gICAgcmV0dXJuIHNodWZmbGVkO1xuICB9O1xuXG4gIGNvbnN0IGFycmFuZ2VJdGVtc1dpdGhSZWNlbnQgPSAoaXRlbXMsIHJlY2VudElkcyA9IFtdKSA9PiB7XG4gICAgLy8gUmVjZW50IEl0ZW1zIGluIGRlciByaWNodGlnZW4gUmVpaGVuZm9sZ2UgKHp1bGV0enQgZ2VrbGlja3QgenVlcnN0KVxuICAgIGNvbnN0IHJlY2VudEl0ZW1zID0gW107XG4gICAgcmVjZW50SWRzLmZvckVhY2gocmVjZW50SWQgPT4ge1xuICAgICAgY29uc3QgaXRlbSA9IGl0ZW1zLmZpbmQoaXRlbSA9PiBpdGVtLmlkID09PSByZWNlbnRJZCk7XG4gICAgICBpZiAoaXRlbSkgcmVjZW50SXRlbXMucHVzaChpdGVtKTtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBBbmRlcmUgSXRlbXMgenVmw6RsbGlnIGFub3JkbmVuXG4gICAgY29uc3Qgb3RoZXJJdGVtcyA9IGl0ZW1zLmZpbHRlcihpdGVtID0+ICFyZWNlbnRJZHMuaW5jbHVkZXMoaXRlbS5pZCkpO1xuICAgIGNvbnN0IHNodWZmbGVkT3RoZXJzID0gc2h1ZmZsZUFycmF5KG90aGVySXRlbXMpO1xuICAgIFxuICAgIHJldHVybiBbLi4ucmVjZW50SXRlbXMsIC4uLnNodWZmbGVkT3RoZXJzXTtcbiAgfTtcblxuICAvLyBIaWVyYXJjaGlzY2hlcyBBZGQtdG8tUmVjZW50IFN5c3RlbVxuICBjb25zdCBhZGRUb1JlY2VudCA9IChpdGVtSWQsIGxldmVsLCBjYXRlZ29yeVNsdWcgPSBudWxsLCBzdWJjYXRlZ29yeVNsdWcgPSBudWxsKSA9PiB7XG4gICAgc2V0UmVjZW50SXRlbXMocHJldiA9PiB7XG4gICAgICBjb25zdCBuZXdSZWNlbnQgPSBbaXRlbUlkLCAuLi5wcmV2LmZpbHRlcihpZCA9PiBpZCAhPT0gaXRlbUlkKV07XG4gICAgICBjb25zdCBsaW1pdGVkUmVjZW50ID0gbmV3UmVjZW50LnNsaWNlKDAsIDQpOyAvLyBOdXIgbGV0enRlIDQgYmVoYWx0ZW5cbiAgICAgIHNhdmVSZWNlbnRJdGVtc1RvU3RvcmFnZShsaW1pdGVkUmVjZW50LCBsZXZlbCwgY2F0ZWdvcnlTbHVnLCBzdWJjYXRlZ29yeVNsdWcpOyAvLyBIaWVyYXJjaGlzY2ggc3BlaWNoZXJuXG4gICAgICByZXR1cm4gbGltaXRlZFJlY2VudDtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBDb250ZXh0LWFiaMOkbmdpZ2VzIFJlY2VudCBJdGVtcyBsYWRlblxuICBjb25zdCBnZXRDdXJyZW50UmVjZW50SXRlbXMgPSAoKSA9PiB7XG4gICAgaWYgKGN1cnJlbnRWaWV3ID09PSAnbWFpbicpIHtcbiAgICAgIHJldHVybiBsb2FkUmVjZW50SXRlbXNGcm9tU3RvcmFnZSgnbWFpbicpO1xuICAgIH0gZWxzZSBpZiAoY3VycmVudFZpZXcgPT09ICdjYXRlZ29yeScgJiYgc2VsZWN0ZWRDYXRlZ29yeSkge1xuICAgICAgcmV0dXJuIGxvYWRSZWNlbnRJdGVtc0Zyb21TdG9yYWdlKCdjYXRlZ29yeScsIHNlbGVjdGVkQ2F0ZWdvcnkuc2x1Zyk7XG4gICAgfSBlbHNlIGlmIChjdXJyZW50VmlldyA9PT0gJ2FuaW1hbHMnICYmIHNlbGVjdGVkQ2F0ZWdvcnkpIHtcbiAgICAgIC8vIEbDvHIgQW5pbWFsczogQ2F0ZWdvcnkgKyBha3R1ZWxsIGdlbGFkZW5lIFN1YmNhdGVnb3J5IGlkZW50aWZpemllcmVuXG4gICAgICByZXR1cm4gbG9hZFJlY2VudEl0ZW1zRnJvbVN0b3JhZ2UoJ2FuaW1hbHMnLCBzZWxlY3RlZENhdGVnb3J5LnNsdWcsICdjdXJyZW50X3N1YmNhdCcpO1xuICAgIH1cbiAgICByZXR1cm4gW107XG4gIH07XG5cbiAgLy8gS2F0ZWdvcmllbiB2b20gQmFja2VuZCBsYWRlbiBtaXQgenVmw6RsbGlnZXIgQW5pbWF0aW9uXG4gIGNvbnN0IGxvYWRDYXRlZ29yaWVzID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgY29uc29sZS5sb2coJ/CflIQgTG9hZGluZyBjYXRlZ29yaWVzLi4uJyk7XG4gICAgICBcbiAgICAgIC8vIFp1ZsOkbGxpZ2UgQW5pbWF0aW9uIGbDvHIgbmV1ZXMgR3JpZCB3w6RobGVuXG4gICAgICBjb25zdCByYW5kb21BbmltYXRpb24gPSBhbmltYXRpb25NYW5hZ2VyLmdldFJhbmRvbUdyaWRBbmltYXRpb24oKTtcbiAgICAgIHNldEN1cnJlbnRHcmlkQW5pbWF0aW9uKHJhbmRvbUFuaW1hdGlvbik7XG4gICAgICBcbiAgICAgIC8vIFN0YXR0IEFQSTogTGFkZSBhbGxlIEthdGVnb3JpZW4gYXVzIHB1YmxpYy9rYXRlZ29yaWVuL3RpZXJlLmpzb24gKG9kZXIgd2VpdGVyZSwgZmFsbHMgdm9yaGFuZGVuKVxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGdldENhY2hlZEpzb24oJy9rYXRlZ29yaWVuL3RpZXJlLmpzb24nKTtcbiAgICAgIC8vIFBhc3NlIGRpZSBTdHJ1a3R1ciBhbiwgZmFsbHMgbsO2dGlnICh6LkIuIGRhdGEuY2F0ZWdvcmllcyAtPiBbZGF0YV0gZmFsbHMgRWluemVsZGF0ZWkpXG4gICAgICBpZiAoZGF0YSkge1xuICAgICAgICBjb25zdCBjYXRlZ29yaWVzID0gQXJyYXkuaXNBcnJheShkYXRhKSA/IGRhdGEgOiBbZGF0YV07XG4gICAgICAgIC8vIEhJRVJBUkNISVNDSDogS2F0ZWdvcmllbiBtaXQgTWFpbi1SZWNlbnQtTG9naWMgYW5vcmRuZW5cbiAgICAgICAgY29uc3QgbWFpblJlY2VudEl0ZW1zID0gbG9hZFJlY2VudEl0ZW1zRnJvbVN0b3JhZ2UoJ21haW4nKTtcbiAgICAgICAgY29uc3QgYXJyYW5nZWRDYXRlZ29yaWVzID0gYXJyYW5nZUl0ZW1zV2l0aFJlY2VudChjYXRlZ29yaWVzLCBtYWluUmVjZW50SXRlbXMpO1xuICAgICAgICBzZXRSZWNlbnRJdGVtcyhtYWluUmVjZW50SXRlbXMpOyAvLyBTdGF0ZSBha3R1YWxpc2llcmVuXG4gICAgICAgIHNldENhdGVnb3JpZXMoYXJyYW5nZWRDYXRlZ29yaWVzKTtcbiAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGNhdGVnb3JpZXMgZm91bmQnKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgY2F0ZWdvcmllczonLCBlcnIpO1xuICAgICAgc2V0RXJyb3IoJ0ZlaGxlciBiZWltIExhZGVuIGRlciBLYXRlZ29yaWVuLiBCaXR0ZSB2ZXJzdWNoZSBlcyBub2NobWFsIScpO1xuICAgICAgc2V0Q2F0ZWdvcmllcyhbXSk7IC8vIEV4cGxpeml0IGxlZXJlcyBBcnJheSBzZXR6ZW5cbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFNwZXppZmlzY2hlIEthdGVnb3JpZSBtaXQgU3Via2F0ZWdvcmllbiBsYWRlbiBtaXQgQW5pbWF0aW9uXG4gIGNvbnN0IGxvYWRDYXRlZ29yeURldGFpbHMgPSBhc3luYyAoc2x1ZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBOdXIgbmV1ZSBBbmltYXRpb24gd8OkaGxlbiB3ZW5uIG5pY2h0IHNjaG9uIHZvbiBOYXZpZ2F0aW9uIGdlc2V0enRcbiAgICAgIGlmICghY3VycmVudEdyaWRBbmltYXRpb24gfHwgY3VycmVudEdyaWRBbmltYXRpb24gPT09ICdzbGlkZUZyb21MZWZ0Jykge1xuICAgICAgICBjb25zdCByYW5kb21BbmltYXRpb24gPSBhbmltYXRpb25NYW5hZ2VyLmdldFJhbmRvbUdyaWRBbmltYXRpb24oKTtcbiAgICAgICAgc2V0Q3VycmVudEdyaWRBbmltYXRpb24ocmFuZG9tQW5pbWF0aW9uKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gU3RhdHQgQVBJOiBMYWRlIEthdGVnb3JpZS1EZXRhaWxzIGF1cyBwdWJsaWMva2F0ZWdvcmllbi9bc2x1Z10uanNvblxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGdldENhY2hlZEpzb24oYC9rYXRlZ29yaWVuLyR7c2x1Z30uanNvbmApO1xuICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgc2V0U2VsZWN0ZWRDYXRlZ29yeShkYXRhKTtcbiAgICAgICAgLy8gSElFUkFSQ0hJU0NIOiBTdWJrYXRlZ29yaWVuIG1pdCBDYXRlZ29yeS1zcGV6aWZpc2NoZW4gUmVjZW50IEl0ZW1zIGFub3JkbmVuXG4gICAgICAgIGNvbnN0IHN1YmNhdHMgPSBkYXRhLnN1YmNhdGVnb3JpZXMgfHwgW107XG4gICAgICAgIGNvbnN0IGNhdGVnb3J5UmVjZW50SXRlbXMgPSBsb2FkUmVjZW50SXRlbXNGcm9tU3RvcmFnZSgnY2F0ZWdvcnknLCBzbHVnKTtcbiAgICAgICAgY29uc3QgYXJyYW5nZWRTdWJjYXRzID0gYXJyYW5nZUl0ZW1zV2l0aFJlY2VudChzdWJjYXRzLCBjYXRlZ29yeVJlY2VudEl0ZW1zKTtcbiAgICAgICAgc2V0UmVjZW50SXRlbXMoY2F0ZWdvcnlSZWNlbnRJdGVtcyk7IC8vIFN0YXRlIGFrdHVhbGlzaWVyZW5cbiAgICAgICAgc2V0U3ViY2F0ZWdvcmllcyhhcnJhbmdlZFN1YmNhdHMpO1xuICAgICAgICBzZXRFcnJvcihudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2F0ZWdvcnkgbm90IGZvdW5kJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIGNhdGVnb3J5IGRldGFpbHM6JywgZXJyKTtcbiAgICAgIHNldEVycm9yKCdGZWhsZXIgYmVpbSBMYWRlbiBkZXIgS2F0ZWdvcmllLURldGFpbHMhJyk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEF1ZGlvLVdpZWRlcmdhYmUgRnVua3Rpb24gbWl0IFN0b3AtTWFuYWdlbWVudFxuICBjb25zdCBwbGF5QXVkaW8gPSAoYXVkaW9QYXRoKSA9PiB7XG4gICAgaWYgKCFhdWRpb1BhdGggfHwgYXVkaW9QYXRoID09PSAnbnVsbCcgfHwgYXVkaW9QYXRoID09PSAnL251bGwnKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1tBVURJT10gw5xiZXJzcHJpbmdlIHVuZ8O8bHRpZ2VuIEF1ZGlvLVBmYWQ6JywgYXVkaW9QYXRoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGlmICh3aW5kb3cuY3VycmVudEF1ZGlvKSB7XG4gICAgICAgIHdpbmRvdy5jdXJyZW50QXVkaW8ucGF1c2UoKTtcbiAgICAgICAgd2luZG93LmN1cnJlbnRBdWRpby5jdXJyZW50VGltZSA9IDA7XG4gICAgICB9XG4gICAgICBjb25zdCBhdWRpbyA9IG5ldyBBdWRpbyhhdWRpb1BhdGgpO1xuICAgICAgd2luZG93LmN1cnJlbnRBdWRpbyA9IGF1ZGlvO1xuICAgICAgYXVkaW8ucGxheSgpLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdBdWRpbyBhdXRvcGxheSB2ZXJoaW5kZXJ0OicsIGVycik7XG4gICAgICB9KTtcbiAgICAgIGF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgKCkgPT4ge1xuICAgICAgICBpZiAod2luZG93LmN1cnJlbnRBdWRpbyA9PT0gYXVkaW8pIHtcbiAgICAgICAgICB3aW5kb3cuY3VycmVudEF1ZGlvID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0F1ZGlvLUZlaGxlcjonLCBlcnJvcik7XG4gICAgfVxuICB9O1xuXG4gIC8vIEltYWdlIFByZWxvYWRpbmcgRnVua3Rpb25cbiAgY29uc3QgcHJlbG9hZE5leHRDb250ZW50ID0gYXN5bmMgKHNsdWcsIHR5cGUgPSAnY2F0ZWdvcnknKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHNldElzUHJlbG9hZGluZyh0cnVlKTtcbiAgICAgIGNvbnNvbGUubG9nKGDwn5SEIFByZWxvYWRpbmcgJHt0eXBlfTogJHtzbHVnfWApO1xuICAgICAgXG4gICAgICBsZXQgZGF0YTtcbiAgICAgIC8vIFN0YXR0IEFQSTogTGFkZSBLYXRlZ29yaWUtRGV0YWlscyBmw7xyIFByZWxvYWRpbmdcbiAgICAgIGlmICh0eXBlID09PSAnY2F0ZWdvcnknKSB7XG4gICAgICAgIGRhdGEgPSBhd2FpdCBnZXRDYWNoZWRKc29uKGAva2F0ZWdvcmllbi8ke3NsdWd9Lmpzb25gKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2FuaW1hbHMnKSB7XG4gICAgICAgIC8vIExhZGUgYWxsZSBUaWVyZSB1bmQgZmlsdGVyZSBuYWNoIEthdGVnb3JpZVxuICAgICAgICBkYXRhID0gYXdhaXQgZ2V0Q2FjaGVkSnNvbignL2VpbnRyYWVnZS90aWVyRWludHJhZWdlLmpzb24nKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlID09PSAnYW5pbWFscycpIHtcbiAgICAgICAgLy8gRmlsdGVyZSBUaWVyZSBuYWNoIEthdGVnb3JpZVxuICAgICAgICBkYXRhLmFuaW1hbHMgPSBkYXRhLnRpZXJlLmZpbHRlcih0aWVyID0+IHRpZXIuY2F0ZWdvcmllcy5pbmNsdWRlcyhzbHVnKSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgIHNldFByZWxvYWRlZERhdGEoeyB0eXBlLCBzbHVnLCBkYXRhIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhg4pyFIFByZWxvYWRlZCAke3R5cGV9IGRhdGE6YCwgZGF0YSk7XG4gICAgICAgIFxuICAgICAgICAvLyBEeW5hbWlzY2hlIEhvc3QtRXJrZW5udW5nIGbDvHIgbW9iaWxlIElQLVp1Z3JpZmZlXG4gICAgICAgIGNvbnN0IHByb3RvY29sID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgOiAnaHR0cDonO1xuICAgICAgICBjb25zdCBob3N0bmFtZSA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lIDogJ2xvY2FsaG9zdCc7XG4gICAgICAgIGNvbnN0IHBvcnQgPSAnNTAwMCc7XG4gICAgICAgIGNvbnN0IHRpbGVTaXplID0gMzAwOyAvLyBUaWxlLW9wdGltaWVydGUgR3LDtsOfZSAtIGjDtmhlcmUgUXVhbGl0w6R0XG4gICAgICAgIGNvbnN0IHF1YWxpdHkgPSA3NTsgLy8gUGVyZm9ybWFuY2Utb3B0aW1pZXJ0ZSBRdWFsaXTDpHRcbiAgICAgICAgY29uc3QgYmFzZUltYWdlVXJsID0gYCR7cHJvdG9jb2x9Ly8ke2hvc3RuYW1lfToke3BvcnR9L2ltYWdlcy9gO1xuICAgICAgICBcbiAgICAgICAgLy8gUHJlbG9hZCBJbWFnZXMgbWl0IExvd1JlcyB1bmQgRmFsbGJhY2tcbiAgICAgICAgY29uc3QgaW1hZ2VzVG9QcmVsb2FkID0gW107XG4gICAgICAgIGlmICh0eXBlID09PSAnY2F0ZWdvcnknICYmIGRhdGEuc3ViY2F0ZWdvcmllcykge1xuICAgICAgICAgIGltYWdlc1RvUHJlbG9hZC5wdXNoKC4uLmRhdGEuc3ViY2F0ZWdvcmllcy5tYXAoc3ViID0+IGAva2F0ZWdvcmllbi9pbWFnZXMvbG93cmVzLyR7c3ViLmltYWdlLmZpbGVuYW1lfWApKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnYW5pbWFsJyAmJiBkYXRhLmltYWdlKSB7XG4gICAgICAgICAgaW1hZ2VzVG9QcmVsb2FkLnB1c2goYC9pbWFnZXMvbG93cmVzLyR7ZGF0YS5pbWFnZS5maWxlbmFtZX1gKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBQcm9taXNlLmFsbCBmw7xyIGFsbGUgQmlsZGVyIG1pdCBGYWxsYmFjayBhdWYgT3JpZ2luYWxcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoaW1hZ2VzVG9QcmVsb2FkLm1hcChzcmMgPT4ge1xuICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICBpbWcub25sb2FkID0gKCkgPT4gcmVzb2x2ZSgpO1xuICAgICAgICAgICAgaW1nLm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIG9yaWdpbmFsIGltYWdlIGlmIGxvdy1yZXMgbm90IGZvdW5kXG4gICAgICAgICAgICAgIGNvbnN0IGZhbGxiYWNrU3JjID0gc3JjLnJlcGxhY2UoJy9sb3dyZXMvJywgJy8nKTtcbiAgICAgICAgICAgICAgaWYgKGZhbGxiYWNrU3JjICE9PSBzcmMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmYWxsYmFja0ltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgICAgIGZhbGxiYWNrSW1nLm9ubG9hZCA9ICgpID0+IHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICBmYWxsYmFja0ltZy5vbmVycm9yID0gKCkgPT4gcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIGZhbGxiYWNrSW1nLnNyYyA9IGZhbGxiYWNrU3JjO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGltZy5zcmMgPSBzcmM7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5a877iPIFByZWxvYWRlZCAke2ltYWdlc1RvUHJlbG9hZC5sZW5ndGh9IGltYWdlc2ApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdQcmVsb2FkaW5nIGVycm9yOicsIGVycm9yKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNQcmVsb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gSGlsZnNmdW5rdGlvbjogUHJlbG9hZCBtZWhyZXJlIEJpbGRlciwgZ2lidCBQcm9taXNlIHp1csO8Y2tcbiAgYXN5bmMgZnVuY3Rpb24gcHJlbG9hZEltYWdlcyh1cmxzKSB7XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwodXJscy5tYXAodXJsID0+IHtcbiAgICAgIGlmICghdXJsIHx8IHVybCA9PT0gJ251bGwnIHx8IHVybCA9PT0gJy9udWxsJykge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1tQUkVMT0FEXSDDnGJlcnNwcmluZ2UgdW5nw7xsdGlnZSBCaWxkLVVSTDonLCB1cmwpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICB9XG4gICAgICAvLyBQcsO8ZmUsIG9iIHNjaG9uIGltIENhY2hlXG4gICAgICBjb25zdCBjYWNoZUtleSA9IGBpbWdjYWNoZV8ke3VybH1fYDtcbiAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShjYWNoZUtleSkpIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgIC8vIFNvbnN0IEJpbGQgbGFkZW5cbiAgICAgIHJldHVybiBmZXRjaCh1cmwpXG4gICAgICAgIC50aGVuKHIgPT4gci5ibG9iKCkpXG4gICAgICAgIC50aGVuKGJsb2IgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgICAgcmVhZGVyLm9ubG9hZGVuZCA9ICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGNhY2hlS2V5LCByZWFkZXIucmVzdWx0KTtcbiAgICAgICAgICAgIH0gY2F0Y2gge31cbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJlYWRlci5vbmVycm9yID0gcmVqZWN0O1xuICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGJsb2IpO1xuICAgICAgICB9KSk7XG4gICAgfSkpO1xuICB9XG5cbiAgLy8gSGlsZnNmdW5rdGlvbjogU2FtbWxlIGFsbGUgQmlsZC1VUkxzIGbDvHIgS2F0ZWdvcmllL1N1YmthdGVnb3JpZS9UaWVyZVxuICBmdW5jdGlvbiBnZXRBbGxJbWFnZVVybHNGb3JDYXRlZ29yeShjYXRlZ29yeSwgbG93UmVzID0gdHJ1ZSkge1xuICAgIGlmICghY2F0ZWdvcnk/LnN1YmNhdGVnb3JpZXMpIHJldHVybiBbXTtcbiAgICByZXR1cm4gY2F0ZWdvcnkuc3ViY2F0ZWdvcmllcy5tYXAoc3ViID0+IHtcbiAgICAgIGNvbnN0IHVybCA9IGxvd1JlcyA/IGAva2F0ZWdvcmllbi9pbWFnZXMvbG93cmVzLyR7c3ViLmltYWdlLmZpbGVuYW1lfWAgOiBgL2thdGVnb3JpZW4vaW1hZ2VzLyR7c3ViLmltYWdlLmZpbGVuYW1lfWA7XG4gICAgICBpZiAoIXN1Yi5pbWFnZSB8fCAhc3ViLmltYWdlLmZpbGVuYW1lKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignW0lNR1VSTF0gU3Via2F0ZWdvcmllIG9obmUgQmlsZDonLCBzdWIpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1cmw7XG4gICAgfSkuZmlsdGVyKEJvb2xlYW4pO1xuICB9XG4gIC8vIEbDvHIgVGllcmUvRWludHLDpGdlIElNTUVSIC9pbWFnZXMvIHZlcndlbmRlblxuICBmdW5jdGlvbiBnZXRBbGxJbWFnZVVybHNGb3JBbmltYWxzKGFuaW1hbHMsIGxvd1JlcyA9IHRydWUpIHtcbiAgICByZXR1cm4gYW5pbWFscy5tYXAoYW5pbWFsID0+IHtcbiAgICAgIGNvbnN0IHVybCA9IGxvd1JlcyA/IGAvaW1hZ2VzL2xvd3Jlcy8ke2FuaW1hbC5pbWFnZS5maWxlbmFtZX1gIDogYC9pbWFnZXMvJHthbmltYWwuaW1hZ2UuZmlsZW5hbWV9YDtcbiAgICAgIGlmICghYW5pbWFsLmltYWdlIHx8ICFhbmltYWwuaW1hZ2UuZmlsZW5hbWUpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdbSU1HVVJMXSBUaWVyIG9obmUgQmlsZDonLCBhbmltYWwpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1cmw7XG4gICAgfSkuZmlsdGVyKEJvb2xlYW4pO1xuICB9XG5cbiAgLy8gSGlsZnNmdW5rdGlvbjogV2FydGUsIGJpcyBhbGxlIEJhc2U2NC1CaWxkZXIgd2lya2xpY2ggaW0gPGltZz4gZ2VsYWRlbiBzaW5kXG4gIGZ1bmN0aW9uIHdhaXRGb3JBbGxJbWFnZXNUb0xvYWQoaW1hZ2VTcmNzKSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFxuICAgICAgaW1hZ2VTcmNzLm1hcChzcmMgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgIGNvbnN0IGltZyA9IG5ldyB3aW5kb3cuSW1hZ2UoKTtcbiAgICAgICAgaW1nLm9ubG9hZCA9IHJlc29sdmU7XG4gICAgICAgIGltZy5vbmVycm9yID0gcmVzb2x2ZTtcbiAgICAgICAgaW1nLnNyYyA9IHNyYztcbiAgICAgIH0pKVxuICAgICk7XG4gIH1cblxuICAvLyBIYXVwdGthdGVnb3JpZSBhbmdla2xpY2t0IC0gTUlUIEltYWdlIFByZWxvYWRpbmdcbiAgY29uc3QgaGFuZGxlQ2F0ZWdvcnlDbGljayA9IGFzeW5jIChjYXRlZ29yeSkgPT4ge1xuICAgIGlmIChjdXJyZW50VmlldyA9PT0gJ3RyYW5zaXRpb25pbmcnKSByZXR1cm47XG4gICAgc2V0Q3VycmVudFZpZXcoJ3RyYW5zaXRpb25pbmcnKTtcbiAgICBzZXRDbGlja2VkSXRlbUlkKGNhdGVnb3J5LmlkKTtcbiAgICBzZXRHbG9iYWxBbmltYXRpb25EaXJlY3Rpb24oZ2V0UmFuZG9tRGlyZWN0aW9uKCkpO1xuICAgIHNldEN1cnJlbnRHcmlkQW5pbWF0aW9uKGFuaW1hdGlvbk1hbmFnZXIuZ2V0UmFuZG9tR3JpZEFuaW1hdGlvbigpKTtcbiAgICBzZXRDaGFyYWN0ZXJDb250ZXh0KGNhdGVnb3J5LnNsdWcpO1xuICAgIGFkZFRvUmVjZW50KGNhdGVnb3J5LmlkLCAnbWFpbicpO1xuICAgIGlmIChjYXRlZ29yeS5hdWRpbyAmJiBjYXRlZ29yeS5hdWRpby5wYXRoKSBwbGF5QXVkaW8oYC8ke2NhdGVnb3J5LmF1ZGlvLnBhdGh9YCk7XG5cbiAgICAvLyAxLiBMYWRlIERhdGVuIHVuZCBzdGFydGUgUHJlbG9hZGluZyBTT0ZPUlRcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgZ2V0Q2FjaGVkSnNvbihgL2thdGVnb3JpZW4vJHtjYXRlZ29yeS5zbHVnfS5qc29uYCk7XG4gICAgY29uc3QgaW1hZ2VVcmxzID0gZ2V0QWxsSW1hZ2VVcmxzRm9yQ2F0ZWdvcnkoZGF0YS5jYXRlZ29yeSk7XG4gICAgY29uc3QgcHJlbG9hZFByb21pc2UgPSBwcmVsb2FkSW1hZ2VzKGltYWdlVXJscyk7XG5cbiAgICAvLyAyLiBBbmltYXRpb24gYWJ3YXJ0ZW5cbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTgwMCkpO1xuICAgIGlmIChzY3JvbGxDb250YWluZXJSZWYuY3VycmVudCkgc2Nyb2xsQ29udGFpbmVyUmVmLmN1cnJlbnQuc2Nyb2xsVG9wID0gMDtcbiAgICByZXNldEFsbFRpbGVBbmltYXRpb25zKCk7XG5cbiAgICAvLyAzLiBXYXJ0ZSBhdWYgUHJlbG9hZGluZyAoZmFsbHMgbm9jaCBuaWNodCBmZXJ0aWcpXG4gICAgYXdhaXQgcHJlbG9hZFByb21pc2U7XG5cbiAgICAvLyA0LiBQb29sLVVwZGF0ZSBldGMuXG4gICAgc2V0U2VsZWN0ZWRDYXRlZ29yeShkYXRhKTtcbiAgICBjb25zdCBzdWJjYXRzID0gZGF0YS5zdWJjYXRlZ29yaWVzIHx8IFtdO1xuICAgIGNvbnN0IGNhdGVnb3J5UmVjZW50SXRlbXMgPSBsb2FkUmVjZW50SXRlbXNGcm9tU3RvcmFnZSgnY2F0ZWdvcnknLCBjYXRlZ29yeS5zbHVnKTtcbiAgICBjb25zdCBhcnJhbmdlZFN1YmNhdHMgPSBhcnJhbmdlSXRlbXNXaXRoUmVjZW50KHN1YmNhdHMsIGNhdGVnb3J5UmVjZW50SXRlbXMpO1xuICAgIHNldFJlY2VudEl0ZW1zKGNhdGVnb3J5UmVjZW50SXRlbXMpO1xuICAgIHNldFN1YmNhdGVnb3JpZXMoYXJyYW5nZWRTdWJjYXRzKTtcbiAgICBzZXRFcnJvcihudWxsKTtcbiAgICBzZXRDdXJyZW50VmlldygnY2F0ZWdvcnknKTtcbiAgICBzZXRDbGlja2VkSXRlbUlkKG51bGwpO1xuICAgIHNldEFuaW1hdGlvbktleShrID0+IGsgKyAxKTtcblxuICAgIC8vIFdhcnRlLCBiaXMgYWxsZSBCaWxkZXIgd2lya2xpY2ggZ2VsYWRlbiBzaW5kXG4gICAgY29uc3QgYmFzZTY0cyA9IHN1YmNhdHNcbiAgICAgIC5tYXAoc3ViID0+IHtcbiAgICAgICAgY29uc3QgdXJsID0gZ2V0QWxsSW1hZ2VVcmxzRm9yQ2F0ZWdvcnkoeyBzdWJjYXRlZ29yaWVzOiBbc3ViXSB9KVswXTtcbiAgICAgICAgaWYgKCF1cmwgfHwgdXJsID09PSAnbnVsbCcgfHwgdXJsID09PSAnL251bGwnIHx8IHVybCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gbnVsbDtcbiAgICAgICAgY29uc3QgY2FjaGVLZXkgPSBgaW1nY2FjaGVfJHt1cmx9X2A7XG4gICAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShjYWNoZUtleSk7XG4gICAgICB9KVxuICAgICAgLmZpbHRlcihCb29sZWFuKTsgLy8gZW50ZmVybnQgbnVsbC91bmRlZmluZWRcbiAgICBzZXRBbGxJbWFnZXNMb2FkZWQoZmFsc2UpO1xuICAgIHdhaXRGb3JBbGxJbWFnZXNUb0xvYWQoYmFzZTY0cykudGhlbigoKSA9PiBzZXRBbGxJbWFnZXNMb2FkZWQodHJ1ZSkpO1xuICB9O1xuXG4gIC8vIFN1YmthdGVnb3JpZSBhbmdla2xpY2t0IC0gTUlUIEltYWdlIFByZWxvYWRpbmdcbiAgY29uc3QgaGFuZGxlU3ViY2F0ZWdvcnlDbGljayA9IGFzeW5jIChzdWJjYXRlZ29yeSkgPT4ge1xuICAgIGlmIChjdXJyZW50VmlldyA9PT0gJ3RyYW5zaXRpb25pbmcnKSByZXR1cm47XG4gICAgc2V0Q3VycmVudFZpZXcoJ3RyYW5zaXRpb25pbmcnKTtcbiAgICBzZXRDbGlja2VkSXRlbUlkKHN1YmNhdGVnb3J5LmlkKTtcbiAgICBzZXRHbG9iYWxBbmltYXRpb25EaXJlY3Rpb24oZ2V0UmFuZG9tRGlyZWN0aW9uKCkpO1xuICAgIHNldEN1cnJlbnRHcmlkQW5pbWF0aW9uKGFuaW1hdGlvbk1hbmFnZXIuZ2V0UmFuZG9tR3JpZEFuaW1hdGlvbigpKTtcbiAgICBzZXRDaGFyYWN0ZXJDb250ZXh0KHN1YmNhdGVnb3J5LnNsdWcpO1xuICAgIGFkZFRvUmVjZW50KHN1YmNhdGVnb3J5LmlkLCAnY2F0ZWdvcnknLCBzZWxlY3RlZENhdGVnb3J5Py5zbHVnKTtcbiAgICBpZiAoc3ViY2F0ZWdvcnkuYXVkaW8gJiYgc3ViY2F0ZWdvcnkuYXVkaW8ucGF0aCkgcGxheUF1ZGlvKGAvJHtzdWJjYXRlZ29yeS5hdWRpby5wYXRofWApO1xuXG4gICAgLy8gMS4gTGFkZSBEYXRlbiB1bmQgc3RhcnRlIFByZWxvYWRpbmcgU09GT1JUXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IGdldENhY2hlZEpzb24oJy9laW50cmFlZ2UvdGllckVpbnRyYWVnZS5qc29uJyk7XG4gICAgZGF0YS5hbmltYWxzID0gZGF0YS50aWVyZS5maWx0ZXIodGllciA9PiB0aWVyLmNhdGVnb3JpZXMuaW5jbHVkZXMoc3ViY2F0ZWdvcnkuc2x1ZykpO1xuICAgIGNvbnN0IGltYWdlVXJscyA9IGdldEFsbEltYWdlVXJsc0ZvckFuaW1hbHMoZGF0YS5hbmltYWxzIHx8IFtdKTtcbiAgICBjb25zdCBwcmVsb2FkUHJvbWlzZSA9IHByZWxvYWRJbWFnZXMoaW1hZ2VVcmxzKTtcblxuICAgIC8vIDIuIEFuaW1hdGlvbiBhYndhcnRlblxuICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxODAwKSk7XG4gICAgaWYgKHNjcm9sbENvbnRhaW5lclJlZi5jdXJyZW50KSBzY3JvbGxDb250YWluZXJSZWYuY3VycmVudC5zY3JvbGxUb3AgPSAwO1xuICAgIHJlc2V0QWxsVGlsZUFuaW1hdGlvbnMoKTtcblxuICAgIC8vIDMuIFdhcnRlIGF1ZiBQcmVsb2FkaW5nIChmYWxscyBub2NoIG5pY2h0IGZlcnRpZylcbiAgICBhd2FpdCBwcmVsb2FkUHJvbWlzZTtcblxuICAgIC8vIDQuIFBvb2wtVXBkYXRlIGV0Yy5cbiAgICBjb25zdCBhbmltYWxSZWNlbnRJdGVtcyA9IGxvYWRSZWNlbnRJdGVtc0Zyb21TdG9yYWdlKCdhbmltYWxzJywgc2VsZWN0ZWRDYXRlZ29yeT8uc2x1Zywgc3ViY2F0ZWdvcnkuc2x1Zyk7XG4gICAgY29uc3QgYXJyYW5nZWRBbmltYWxzID0gYXJyYW5nZUl0ZW1zV2l0aFJlY2VudChkYXRhLmFuaW1hbHMgfHwgW10sIGFuaW1hbFJlY2VudEl0ZW1zKTtcbiAgICBzZXRSZWNlbnRJdGVtcyhhbmltYWxSZWNlbnRJdGVtcyk7XG4gICAgc2V0QW5pbWFscyhhcnJhbmdlZEFuaW1hbHMpO1xuICAgIHNldEVycm9yKG51bGwpO1xuICAgIHNldEN1cnJlbnRWaWV3KCdhbmltYWxzJyk7XG4gICAgc2V0Q2xpY2tlZEl0ZW1JZChudWxsKTtcbiAgICBzZXRBbmltYXRpb25LZXkoayA9PiBrICsgMSk7XG4gIH07XG5cbiAgLy8gVGllcmUgZsO8ciBzcGV6aWZpc2NoZSBTdWJrYXRlZ29yaWUgbGFkZW4gLSBGSVhFRCBBUEkgQ0FMTFxuICBjb25zdCBsb2FkQW5pbWFsc0ZvckNhdGVnb3J5ID0gYXN5bmMgKHN1YmNhdGVnb3J5U2x1ZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgXG4gICAgICAvLyBTdGF0dCBBUEk6IExhZGUgVGllcmUgZsO8ciBzcGV6aWZpc2NoZSBTdWJrYXRlZ29yaWVcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBnZXRDYWNoZWRKc29uKCcvZWludHJhZWdlL3RpZXJFaW50cmFlZ2UuanNvbicpO1xuICAgICAgZGF0YS5hbmltYWxzID0gZGF0YS50aWVyZS5maWx0ZXIodGllciA9PiB0aWVyLmNhdGVnb3JpZXMuaW5jbHVkZXMoc3ViY2F0ZWdvcnlTbHVnKSk7XG4gICAgICBcbiAgICAgIGlmIChkYXRhLmFuaW1hbHMgJiYgZGF0YS5hbmltYWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gSElFUkFSQ0hJU0NIOiBBbmltYWxzIG1pdCBTdWJjYXRlZ29yeS1zcGV6aWZpc2NoZW4gUmVjZW50IEl0ZW1zIGFub3JkbmVuXG4gICAgICAgIGNvbnN0IGFuaW1hbHNSZWNlbnRJdGVtcyA9IGxvYWRSZWNlbnRJdGVtc0Zyb21TdG9yYWdlKCdhbmltYWxzJywgc2VsZWN0ZWRDYXRlZ29yeT8uc2x1Zywgc3ViY2F0ZWdvcnlTbHVnKTtcbiAgICAgICAgY29uc3QgYXJyYW5nZWRBbmltYWxzID0gYXJyYW5nZUl0ZW1zV2l0aFJlY2VudChkYXRhLmFuaW1hbHMsIGFuaW1hbHNSZWNlbnRJdGVtcyk7XG4gICAgICAgIHNldFJlY2VudEl0ZW1zKGFuaW1hbHNSZWNlbnRJdGVtcyk7IC8vIFN0YXRlIGFrdHVhbGlzaWVyZW5cbiAgICAgICAgXG4gICAgICAgIC8vIEFuaW1hbHMgc2V0emVuXG4gICAgICAgIHNldEFuaW1hbHMoYXJyYW5nZWRBbmltYWxzKTtcbiAgICAgICAgXG4gICAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gS2VpbmUgVGllcmUgZ2VmdW5kZW4gLSBsZWVyZXMgQXJyYXkgc2V0emVuXG4gICAgICAgIHNldEFuaW1hbHMoW10pO1xuICAgICAgICBzZXRFcnJvcignS2VpbmUgVGllcmUgaW4gZGllc2VyIEthdGVnb3JpZSBnZWZ1bmRlbi4nKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKGDihLnvuI8gS2VpbmUgVGllcmUgZsO8ciBTdWJrYXRlZ29yaWUgJyR7c3ViY2F0ZWdvcnlTbHVnfScgZ2VmdW5kZW5gKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgYW5pbWFsczonLCBlcnIpO1xuICAgICAgc2V0RXJyb3IoJ0ZlaGxlciBiZWltIExhZGVuIGRlciBUaWVyLUVpbnRyw6RnZSEnKTtcbiAgICAgIHNldEFuaW1hbHMoW10pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gVGllci1LbGljayBIYW5kbGVyIG1pdCBWb2ljZS1PdmVyIHVuZCBBYnplaWNoZW5cbiAgY29uc3QgaGFuZGxlQW5pbWFsQ2xpY2sgPSAoYW5pbWFsKSA9PiB7XG4gICAgaWYgKGN1cnJlbnRWaWV3ID09PSAndHJhbnNpdGlvbmluZycpIHJldHVybjtcbiAgICBcbiAgICAvLyBTdG9wcGUgdm9yaGVyaWdlcyBBdWRpb1xuICAgIGlmICh3aW5kb3cuY3VycmVudEF1ZGlvKSB7XG4gICAgICB3aW5kb3cuY3VycmVudEF1ZGlvLnBhdXNlKCk7XG4gICAgICB3aW5kb3cuY3VycmVudEF1ZGlvLmN1cnJlbnRUaW1lID0gMDtcbiAgICB9XG4gICAgXG4gICAgLy8gU2V0emUgYWt0dWVsbCBzcGllbGVuZGVzIFRpZXIgKG9obmUgVmVyesO2Z2VydW5nIGbDvHIgc29mb3J0aWdlIGdyw7xuZSBPdXRsaW5lKVxuICAgIGNvbnNvbGUubG9nKGDwn461IE9MRCBjdXJyZW50bHlQbGF5aW5nOiAke2N1cnJlbnRseVBsYXlpbmd9LCBORVc6ICR7YW5pbWFsLmlkfWApO1xuICAgIHNldEN1cnJlbnRseVBsYXlpbmcoYW5pbWFsLmlkKTtcbiAgICAvLyBISUVSQVJDSElTQ0g6IEFuaW1hbCB6dSBBbmltYWxzIFJlY2VudCBJdGVtcyBoaW56dWbDvGdlbiAoYmVzdGltbWUgU3ViY2F0ZWdvcnkgZHluYW1pc2NoKVxuICAgIGNvbnN0IGN1cnJlbnRTdWJjYXRlZ29yeSA9IGFuaW1hbHMuZmluZChhID0+IGEuaWQgPT09IGFuaW1hbC5pZCk/LmNhdGVnb3J5IHx8ICd1bmtub3duJztcbiAgICBhZGRUb1JlY2VudChhbmltYWwuaWQsICdhbmltYWxzJywgc2VsZWN0ZWRDYXRlZ29yeT8uc2x1ZywgY3VycmVudFN1YmNhdGVnb3J5KTtcbiAgICBcbiAgICAvLyBNYXJraWVyZSBhbHMgZ2Vow7ZydCAoZsO8ciBBYnplaWNoZW4pIC0gbWl0IExvY2FsIFN0b3JhZ2VcbiAgICBpZiAoIXBsYXllZEFuaW1hbHMuaW5jbHVkZXMoYW5pbWFsLmlkKSkge1xuICAgICAgY29uc3QgbmV3UGxheWVkQW5pbWFscyA9IFsuLi5wbGF5ZWRBbmltYWxzLCBhbmltYWwuaWRdO1xuICAgICAgc2V0UGxheWVkQW5pbWFscyhuZXdQbGF5ZWRBbmltYWxzKTtcbiAgICAgIHNhdmVQbGF5ZWRBbmltYWxzVG9TdG9yYWdlKG5ld1BsYXllZEFuaW1hbHMpO1xuICAgIH1cbiAgICBcbiAgICAvLyBBdWRpbyBhYnNwaWVsZW5cbiAgICBpZiAoYW5pbWFsLmF1ZGlvICYmIGFuaW1hbC5hdWRpby5wYXRoKSB7XG4gICAgICBwbGF5QXVkaW8oYC8ke2FuaW1hbC5hdWRpby5wYXRofWApO1xuICAgICAgXG4gICAgICAvLyBSZXNldCBjdXJyZW50bHkgcGxheWluZyB3ZW5uIEF1ZGlvIGJlZW5kZXQgaXN0XG4gICAgICBpZiAod2luZG93LmN1cnJlbnRBdWRpbykge1xuICAgICAgICB3aW5kb3cuY3VycmVudEF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgKCkgPT4ge1xuICAgICAgICAgIHNldEN1cnJlbnRseVBsYXlpbmcobnVsbCk7XG4gICAgICAgIH0sIHsgb25jZTogdHJ1ZSB9KTsgLy8gRXZlbnQgbnVyIGVpbm1hbCB2ZXJ3ZW5kZW5cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gS2VpbiBBdWRpbyB2b3JoYW5kZW4gLSBuYWNoIGt1cnplciBaZWl0IHJlc2V0XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgc2V0Q3VycmVudGx5UGxheWluZyhudWxsKTtcbiAgICAgIH0sIDIwMDApO1xuICAgIH1cbiAgfTtcblxuICAvLyBadXLDvGNrIHp1IEhhdXB0a2F0ZWdvcmllbiBtaXQgQW5pbWF0aW9uXG4gIGNvbnN0IGhhbmRsZUJhY2tUb0NhdGVnb3JpZXMgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKGN1cnJlbnRWaWV3ID09PSAndHJhbnNpdGlvbmluZycpIHJldHVybjtcbiAgICBzZXRDdXJyZW50VmlldygndHJhbnNpdGlvbmluZycpO1xuICAgIHNldENsaWNrZWRJdGVtSWQobnVsbCk7XG4gICAgc2V0R2xvYmFsQW5pbWF0aW9uRGlyZWN0aW9uKGdldFJhbmRvbURpcmVjdGlvbigpKTtcbiAgICBzZXRDdXJyZW50R3JpZEFuaW1hdGlvbihhbmltYXRpb25NYW5hZ2VyLmdldFJhbmRvbUdyaWRBbmltYXRpb24oKSk7XG5cbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTgwMCkpO1xuICAgIGlmIChzY3JvbGxDb250YWluZXJSZWYuY3VycmVudCkgc2Nyb2xsQ29udGFpbmVyUmVmLmN1cnJlbnQuc2Nyb2xsVG9wID0gMDtcbiAgICByZXNldEFsbFRpbGVBbmltYXRpb25zKCk7XG5cbiAgICBzZXRTZWxlY3RlZENhdGVnb3J5KG51bGwpO1xuICAgIHNldFN1YmNhdGVnb3JpZXMoW10pO1xuICAgIHNldEFuaW1hbHMoW10pO1xuICAgIHNldENoYXJhY3RlckNvbnRleHQoJ2lkbGUnKTtcbiAgICBzZXRDdXJyZW50bHlQbGF5aW5nKG51bGwpO1xuICAgIHNldEN1cnJlbnRWaWV3KCdtYWluJyk7XG4gICAgYXdhaXQgbG9hZENhdGVnb3JpZXMoKTtcbiAgICBzZXRBbmltYXRpb25LZXkoayA9PiBrICsgMSk7IC8vIEFuaW1hdGlvbktleSBuYWNoIFBvb2wtVXBkYXRlIGVyaMO2aGVuXG4gIH07XG5cbiAgLy8gWnVyw7xjayB6dSBTdWJrYXRlZ29yaWVuIHZvbiBBbmltYWwtQW5zaWNodCBtaXQgQW5pbWF0aW9uXG4gIGNvbnN0IGhhbmRsZUJhY2tUb1N1YmNhdGVnb3JpZXMgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKGN1cnJlbnRWaWV3ID09PSAndHJhbnNpdGlvbmluZycpIHJldHVybjtcbiAgICBzZXRDdXJyZW50VmlldygndHJhbnNpdGlvbmluZycpO1xuICAgIHNldENsaWNrZWRJdGVtSWQobnVsbCk7XG4gICAgc2V0R2xvYmFsQW5pbWF0aW9uRGlyZWN0aW9uKGdldFJhbmRvbURpcmVjdGlvbigpKTtcbiAgICBzZXRDdXJyZW50R3JpZEFuaW1hdGlvbihhbmltYXRpb25NYW5hZ2VyLmdldFJhbmRvbUdyaWRBbmltYXRpb24oKSk7XG5cbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTgwMCkpO1xuICAgIGlmIChzY3JvbGxDb250YWluZXJSZWYuY3VycmVudCkgc2Nyb2xsQ29udGFpbmVyUmVmLmN1cnJlbnQuc2Nyb2xsVG9wID0gMDtcbiAgICByZXNldEFsbFRpbGVBbmltYXRpb25zKCk7XG5cbiAgICBzZXRJc0dyaWRWaXNpYmxlKGZhbHNlKTsgLy8gR3JpZCBzb2ZvcnQgdW5zaWNodGJhciBtYWNoZW5cblxuICAgIHNldEFuaW1hbHMoW10pO1xuICAgIHNldEN1cnJlbnRseVBsYXlpbmcobnVsbCk7XG4gICAgc2V0Q2hhcmFjdGVyQ29udGV4dChzZWxlY3RlZENhdGVnb3J5ID8gc2VsZWN0ZWRDYXRlZ29yeS5zbHVnIDogJ2lkbGUnKTtcbiAgICBzZXRDdXJyZW50VmlldygnY2F0ZWdvcnknKTtcbiAgICBsZXQgcHJlbG9hZFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICBpZiAoc2VsZWN0ZWRDYXRlZ29yeSkge1xuICAgICAgLy8gU3RhdHQgQVBJOiBMYWRlIEthdGVnb3JpZS1EZXRhaWxzIGbDvHIgQmFjay1OYXZpZ2F0aW9uXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgZ2V0Q2FjaGVkSnNvbihgL2thdGVnb3JpZW4vJHtzZWxlY3RlZENhdGVnb3J5LnNsdWd9Lmpzb25gKTtcbiAgICAgIGNvbnN0IGltYWdlVXJscyA9IGdldEFsbEltYWdlVXJsc0ZvckNhdGVnb3J5KGRhdGEpO1xuICAgICAgcHJlbG9hZFByb21pc2UgPSBwcmVsb2FkSW1hZ2VzKGltYWdlVXJscyk7XG4gICAgICBhd2FpdCBsb2FkQ2F0ZWdvcnlEZXRhaWxzKHNlbGVjdGVkQ2F0ZWdvcnkuc2x1Zyk7XG4gICAgfVxuICAgIHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgcHJlbG9hZFByb21pc2U7XG4gICAgICBzZXRBbmltYXRpb25LZXkoayA9PiBrICsgMSk7XG4gICAgICBzZXRJc0dyaWRWaXNpYmxlKHRydWUpO1xuICAgIH0sIDApO1xuICB9O1xuXG4gIC8vIENoYXJhY3RlciBFbW90aW9uLUNoYW5nZSBIYW5kbGVyXG4gIGNvbnN0IGhhbmRsZUNoYXJhY3RlckVtb3Rpb25DaGFuZ2UgPSAoZW1vdGlvbikgPT4ge1xuICAgIGNvbnNvbGUubG9nKGBDaGFyYWN0ZXIgZW1vdGlvbiBjaGFuZ2VkIHRvOiAke2Vtb3Rpb259YCk7XG4gICAgLy8gSGllciBrw7ZubmVuIHNww6R0ZXIgU291bmRzIG9kZXIgYW5kZXJlIEVmZmVrdGUgZ2V0cmlnZ2VydCB3ZXJkZW5cbiAgfTtcblxuICAvLyBTY3JvbGwgSGFuZGxlciBmw7xyIFNjcm9sbC1JbmRpa2F0b3JcbiAgY29uc3QgaGFuZGxlU2Nyb2xsID0gKCkgPT4ge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IHNjcm9sbENvbnRhaW5lclJlZi5jdXJyZW50O1xuICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgIGNvbnN0IHNjcm9sbFRvcCA9IGNvbnRhaW5lci5zY3JvbGxUb3A7XG4gICAgICBjb25zdCBzY3JvbGxIZWlnaHQgPSBjb250YWluZXIuc2Nyb2xsSGVpZ2h0IC0gY29udGFpbmVyLmNsaWVudEhlaWdodDtcbiAgICAgIGNvbnN0IHByb2dyZXNzID0gc2Nyb2xsSGVpZ2h0ID4gMCA/IChzY3JvbGxUb3AgLyBzY3JvbGxIZWlnaHQpICogMTAwIDogMDtcbiAgICAgIHNldFNjcm9sbFByb2dyZXNzKE1hdGgubWluKDEwMCwgTWF0aC5tYXgoMCwgcHJvZ3Jlc3MpKSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFp1ZsOkbGxpZ2UgUmljaHR1bmcgZsO8ciBBTExFIFRpbGVzIGdlbWVpbnNhbVxuICBjb25zdCBnZXRSYW5kb21EaXJlY3Rpb24gPSAoKSA9PiB7XG4gICAgY29uc3QgZGlyZWN0aW9ucyA9IFsnZG93bicsICd1cCcsICdsZWZ0JywgJ3JpZ2h0JywgJ3VwLWxlZnQnLCAndXAtcmlnaHQnLCAnZG93bi1sZWZ0JywgJ2Rvd24tcmlnaHQnXTtcbiAgICByZXR1cm4gZGlyZWN0aW9uc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBkaXJlY3Rpb25zLmxlbmd0aCldO1xuICB9O1xuXG4gIC8vIEJlc3RpbW1lIEFuaW1hdGlvbi1Nb2RlIGbDvHIgZWluIFRpbGVcbiAgY29uc3QgZ2V0QW5pbWF0aW9uTW9kZSA9IChpdGVtSWQpID0+IHtcbiAgICBpZiAoY3VycmVudFZpZXcgPT09ICd0cmFuc2l0aW9uaW5nJykge1xuICAgICAgaWYgKGNsaWNrZWRJdGVtSWQgPT09IGl0ZW1JZCkge1xuICAgICAgICBjb25zb2xlLmxvZyhg8J+OryBDTElDS0VEIFRJTEU6ICR7aXRlbUlkfSAobWF0Y2hlcyBjbGlja2VkSXRlbUlkOiAke2NsaWNrZWRJdGVtSWR9KWApO1xuICAgICAgICByZXR1cm4gJ2NsaWNrZWQnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGBmYWxsLW91dC0ke2dsb2JhbEFuaW1hdGlvbkRpcmVjdGlvbn1gO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBOb3JtYWxlIFBvc2l0aW9uIC0ga2VpbmUgaW5kaXZpZHVlbGxlIEFuaW1hdGlvblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIC8vIFRpbGUgUG9vbCBNYW5hZ2VtZW50IC0gQWt0dWFsaXNpZXJlIG51ciBJbmhhbHRlXG4gIGNvbnN0IHVwZGF0ZVRpbGVQb29sID0gKGl0ZW1zKSA9PiB7XG4gICAgLy8gU1BFWklBTDogV8OkaHJlbmQgVHJhbnNpdGlvbiBudXIgQW5pbWF0aW9uLU1vZGkgdXBkYXRlbiwgS0VJTkUgQ29udGVudC1DaGFuZ2VzIVxuICAgIGlmIChjdXJyZW50VmlldyA9PT0gJ3RyYW5zaXRpb25pbmcnKSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+OrSBVcGRhdGluZyBPTkxZIGFuaW1hdGlvbiBtb2RlcyBkdXJpbmcgdHJhbnNpdGlvbicpO1xuICAgICAgc2V0VGlsZVBvb2wocHJldiA9PiB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBbLi4ucHJldl07XG4gICAgICAgIC8vIE51ciBBbmltYXRpb24tTW9kaSB1cGRhdGVuLCBDb250ZW50IHVuZCBvbkNsaWNrIE5JQ0hUIMOkbmRlcm4hXG4gICAgICAgIHVwZGF0ZWQuZm9yRWFjaCh0aWxlID0+IHtcbiAgICAgICAgICBpZiAodGlsZS5pc1Zpc2libGUgJiYgdGlsZS5jb250ZW50KSB7XG4gICAgICAgICAgICBjb25zdCBuZXdBbmltYXRpb25Nb2RlID0gZ2V0QW5pbWF0aW9uTW9kZSh0aWxlLmNvbnRlbnQuaWQpO1xuICAgICAgICAgICAgaWYgKHRpbGUuYW5pbWF0aW9uTW9kZSAhPT0gbmV3QW5pbWF0aW9uTW9kZSkge1xuICAgICAgICAgICAgICB0aWxlLmFuaW1hdGlvbk1vZGUgPSBuZXdBbmltYXRpb25Nb2RlO1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhg8J+OryBVcGRhdGVkIGFuaW1hdGlvbiBmb3IgJHt0aWxlLmNvbnRlbnQubmFtZX06ICR7bmV3QW5pbWF0aW9uTW9kZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdXBkYXRlZDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNldFRpbGVQb29sKHByZXYgPT4ge1xuICAgICAgY29uc3QgdXBkYXRlZCA9IFsuLi5wcmV2XTtcbiAgICAgIC8vIDEuIE1hcmsgYWxsIHRpbGVzIGFzIG5vdCB1cGRhdGVkXG4gICAgICB1cGRhdGVkLmZvckVhY2godGlsZSA9PiB7IHRpbGUuX3VwZGF0ZWQgPSBmYWxzZTsgfSk7XG4gICAgICAvLyAyLiBVcGRhdGUgb3IgcmV1c2UgdGlsZXMgZm9yIG5ldyBpdGVtc1xuICAgICAgaXRlbXMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgaWYgKGluZGV4IDwgVElMRV9QT09MX1NJWkUpIHtcbiAgICAgICAgICBjb25zdCB0aWxlID0gdXBkYXRlZFtpbmRleF07XG4gICAgICAgICAgY29uc3QgcHJldkNvbnRlbnRJZCA9IHRpbGUuY29udGVudD8uaWQ7XG4gICAgICAgICAgaWYgKHRpbGUuaXNWaXNpYmxlICYmIHByZXZDb250ZW50SWQgPT09IGl0ZW0uaWQpIHtcbiAgICAgICAgICAgIC8vIE9ubHkgdXBkYXRlIGFuaW1hdGlvbk1vZGUgYW5kIG90aGVyIGR5bmFtaWMgZmllbGRzXG4gICAgICAgICAgICAvLyBEZWJ1ZzogUmV1c2luZyB0aWxlXG4gICAgICAgICAgICBpZiAoaW5kZXggPCA1KSBjb25zb2xlLmxvZyhgW1BPT0xdIFJFVVNFIHRpbGUtJHtpbmRleH06IGNvbnRlbnRJZD0ke2l0ZW0uaWR9YCk7XG4gICAgICAgICAgICB0aWxlLmFuaW1hdGlvbk1vZGUgPSBnZXRBbmltYXRpb25Nb2RlKGl0ZW0uaWQpO1xuICAgICAgICAgICAgdGlsZS5vbkNsaWNrID1cbiAgICAgICAgICAgICAgY3VycmVudFZpZXcgPT09ICdtYWluJyA/IGhhbmRsZUNhdGVnb3J5Q2xpY2sgOlxuICAgICAgICAgICAgICBjdXJyZW50VmlldyA9PT0gJ2NhdGVnb3J5JyA/IGhhbmRsZVN1YmNhdGVnb3J5Q2xpY2sgOlxuICAgICAgICAgICAgICBjdXJyZW50VmlldyA9PT0gJ2FuaW1hbHMnID8gaGFuZGxlQW5pbWFsQ2xpY2sgOiBudWxsO1xuICAgICAgICAgICAgdGlsZS5pc0FuaW1hbCA9IGN1cnJlbnRWaWV3ID09PSAnYW5pbWFscyc7XG4gICAgICAgICAgICB0aWxlLmlzUGxheWVkID0gY3VycmVudFZpZXcgPT09ICdhbmltYWxzJyA/IHBsYXllZEFuaW1hbHMuaW5jbHVkZXMoaXRlbS5pZCkgOiBmYWxzZTtcbiAgICAgICAgICAgIHRpbGUuaXNDdXJyZW50bHlQbGF5aW5nID0gY3VycmVudFZpZXcgPT09ICdhbmltYWxzJyA/IGN1cnJlbnRseVBsYXlpbmcgPT09IGl0ZW0uaWQgOiBmYWxzZTtcbiAgICAgICAgICAgIHRpbGUuX3VwZGF0ZWQgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBEZWJ1ZzogQXNzaWduaW5nIG5ldyBjb250ZW50IHRvIHRpbGVcbiAgICAgICAgICAgIGlmIChpbmRleCA8IDUpIGNvbnNvbGUubG9nKGBbUE9PTF0gQVNTSUdOIHRpbGUtJHtpbmRleH06IGNvbnRlbnRJZD0ke2l0ZW0uaWR9ICh3YXMgJHtwcmV2Q29udGVudElkfSlgKTtcbiAgICAgICAgICAgIHRpbGUuaXNWaXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRpbGUuY29udGVudCA9IGl0ZW07XG4gICAgICAgICAgICB0aWxlLmFuaW1hdGlvbk1vZGUgPSBnZXRBbmltYXRpb25Nb2RlKGl0ZW0uaWQpO1xuICAgICAgICAgICAgdGlsZS5vbkNsaWNrID1cbiAgICAgICAgICAgICAgY3VycmVudFZpZXcgPT09ICdtYWluJyA/IGhhbmRsZUNhdGVnb3J5Q2xpY2sgOlxuICAgICAgICAgICAgICBjdXJyZW50VmlldyA9PT0gJ2NhdGVnb3J5JyA/IGhhbmRsZVN1YmNhdGVnb3J5Q2xpY2sgOlxuICAgICAgICAgICAgICBjdXJyZW50VmlldyA9PT0gJ2FuaW1hbHMnID8gaGFuZGxlQW5pbWFsQ2xpY2sgOiBudWxsO1xuICAgICAgICAgICAgdGlsZS5pc0FuaW1hbCA9IGN1cnJlbnRWaWV3ID09PSAnYW5pbWFscyc7XG4gICAgICAgICAgICB0aWxlLmlzUGxheWVkID0gY3VycmVudFZpZXcgPT09ICdhbmltYWxzJyA/IHBsYXllZEFuaW1hbHMuaW5jbHVkZXMoaXRlbS5pZCkgOiBmYWxzZTtcbiAgICAgICAgICAgIHRpbGUuaXNDdXJyZW50bHlQbGF5aW5nID0gY3VycmVudFZpZXcgPT09ICdhbmltYWxzJyA/IGN1cnJlbnRseVBsYXlpbmcgPT09IGl0ZW0uaWQgOiBmYWxzZTtcbiAgICAgICAgICAgIHRpbGUuX3VwZGF0ZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyAzLiBIaWRlIHRpbGVzIHRoYXQgYXJlIG5vdCB1c2VkXG4gICAgICB1cGRhdGVkLmZvckVhY2goKHRpbGUsIGluZGV4KSA9PiB7XG4gICAgICAgIGlmICghdGlsZS5fdXBkYXRlZCkge1xuICAgICAgICAgIGlmIChpbmRleCA8IDUpIGNvbnNvbGUubG9nKGBbUE9PTF0gUkVTRVQgdGlsZS0ke2luZGV4fTogd2FzIGNvbnRlbnRJZD0ke3RpbGUuY29udGVudD8uaWR9YCk7XG4gICAgICAgICAgdGlsZS5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICB0aWxlLmNvbnRlbnQgPSBudWxsO1xuICAgICAgICAgIHRpbGUuYW5pbWF0aW9uTW9kZSA9IG51bGw7XG4gICAgICAgICAgdGlsZS5vbkNsaWNrID0gbnVsbDtcbiAgICAgICAgICB0aWxlLmlzQW5pbWFsID0gZmFsc2U7XG4gICAgICAgICAgdGlsZS5pc1BsYXllZCA9IGZhbHNlO1xuICAgICAgICAgIHRpbGUuaXNDdXJyZW50bHlQbGF5aW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIHRpbGUuX3VwZGF0ZWQ7XG4gICAgICB9KTtcbiAgICAgIC8vIE9ubHkga2VlcCB0aGlzIHN1bW1hcnkgbG9nIGZvciBwb29sXG4gICAgICBjb25zb2xlLmxvZyhg8J+OryBUaWxlIHBvb2wgdXBkYXRlZDogJHtpdGVtcy5sZW5ndGh9IHZpc2libGUgdGlsZXMsIHZpZXc6ICR7Y3VycmVudFZpZXd9YCk7XG4gICAgICByZXR1cm4gdXBkYXRlZDtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBaZW50cmFsZSBGdW5rdGlvbjogV2VsY2hlIEl0ZW1zIHNvbGxlbiBha3R1ZWxsIGdlcmVuZGVydCB3ZXJkZW4/XG4gIGNvbnN0IGdldEN1cnJlbnRJdGVtcyA9ICgpID0+IHtcbiAgICBpZiAoY3VycmVudFZpZXcgPT09ICdtYWluJyB8fCAoIXNlbGVjdGVkQ2F0ZWdvcnkgJiYgY3VycmVudFZpZXcgIT09ICdhbmltYWxzJykpIHtcbiAgICAgIC8vIEFsd2F5cyB1c2UgdGhlIGZ1bGwgbWFpbiBjYXRlZ29yeSBkYXRhIGZvciB0aGUgbWFpbiB0aWxlXG4gICAgICBpZiAoY2F0ZWdvcmllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIEZpbmQgdGhlIG1haW4gY2F0ZWdvcnkgKGUuZy4sIGJ5IHNsdWcgb3IgaWQpXG4gICAgICAgIGNvbnN0IG1haW5DYXQgPSBjYXRlZ29yaWVzLmZpbmQoY2F0ID0+IGNhdC5zbHVnID09PSAndGllcmUnIHx8IGNhdC5pZCA9PT0gJ2NhdF8wMDEnKTtcbiAgICAgICAgaWYgKG1haW5DYXQpIHtcbiAgICAgICAgICAvLyBKdXN0IHJldHVybiB0aGUgbWFpbkNhdDsgZG8gbm90IGZldGNoIHN5bmNocm9ub3VzbHlcbiAgICAgICAgICByZXR1cm4gW21haW5DYXRdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gY2F0ZWdvcmllcztcbiAgICB9IGVsc2UgaWYgKGN1cnJlbnRWaWV3ID09PSAnY2F0ZWdvcnknIHx8IChzZWxlY3RlZENhdGVnb3J5ICYmIHN1YmNhdGVnb3JpZXMubGVuZ3RoID4gMCAmJiBjdXJyZW50VmlldyA9PT0gJ3RyYW5zaXRpb25pbmcnKSkge1xuICAgICAgcmV0dXJuIHN1YmNhdGVnb3JpZXM7XG4gICAgfSBlbHNlIGlmIChjdXJyZW50VmlldyA9PT0gJ2FuaW1hbHMnKSB7XG4gICAgICAvLyBBbmltYWxzIGluIENhdGVnb3J5VGlsZS1Gb3JtYXQga29udmVydGllcmVuXG4gICAgICBjb25zdCBtYXBwZWQgPSBhbmltYWxzLm1hcChhbmltYWwgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnW0RFQlVHXSBBbmltYWwgZm9yIHRpbGU6JywgYW5pbWFsKTtcbiAgICAgICAgaWYgKCFhbmltYWwuaW1hZ2UgfHwgIWFuaW1hbC5pbWFnZS5maWxlbmFtZSkge1xuICAgICAgICAgIGNvbnNvbGUud2FybignW0RFQlVHXSBBbmltYWwgbWlzc2luZyBpbWFnZSBvciBmaWxlbmFtZTonLCBhbmltYWwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaWQ6IGFuaW1hbC5pZCxcbiAgICAgICAgICBuYW1lOiBhbmltYWwubmFtZSxcbiAgICAgICAgICBzbHVnOiBhbmltYWwuc2x1ZyxcbiAgICAgICAgICBpbWFnZTogYW5pbWFsLmltYWdlLFxuICAgICAgICAgIGF1ZGlvOiBhbmltYWwuYXVkaW9cbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG1hcHBlZDtcbiAgICB9XG4gICAgcmV0dXJuIFtdO1xuICB9O1xuXG4gIC8vIFplbnRyYWxlIEZ1bmt0aW9uOiBTb2xsIEdyaWQtQW5pbWF0aW9uIGxhdWZlbj9cbiAgY29uc3Qgc2hvdWxkVXNlR3JpZEFuaW1hdGlvbiA9ICgpID0+IHtcbiAgICByZXR1cm4gY3VycmVudFZpZXcgIT09ICd0cmFuc2l0aW9uaW5nJztcbiAgfTtcblxuICAvLyBUaWxlIFBvb2wgYWt0dWFsaXNpZXJlbiB3ZW5uIHNpY2ggSW5oYWx0ZSDDpG5kZXJuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY3VycmVudEl0ZW1zID0gZ2V0Q3VycmVudEl0ZW1zKCk7XG4gICAgY29uc29sZS5sb2coYPCflIQgVXBkYXRpbmcgdGlsZSBwb29sIGZvciAke2N1cnJlbnRWaWV3fTpgLCBjdXJyZW50SXRlbXMubGVuZ3RoLCAnaXRlbXMnLCBjdXJyZW50SXRlbXMpO1xuICAgIFxuICAgIC8vIE51ciB1cGRhdGVuIHdlbm4gd2lyIHRhdHPDpGNobGljaCBJdGVtcyBoYWJlbiBvZGVyIGV4cGxpeml0IGxlZXJlbiB3b2xsZW5cbiAgICBpZiAoY3VycmVudEl0ZW1zLmxlbmd0aCA+IDAgfHwgKGN1cnJlbnRWaWV3ID09PSAnbWFpbicgJiYgY2F0ZWdvcmllcy5sZW5ndGggPT09IDApKSB7XG4gICAgICB1cGRhdGVUaWxlUG9vbChjdXJyZW50SXRlbXMpO1xuICAgIH1cbiAgfSwgW2NhdGVnb3JpZXMsIHN1YmNhdGVnb3JpZXMsIGFuaW1hbHMsIGN1cnJlbnRWaWV3LCBwbGF5ZWRBbmltYWxzLCBjdXJyZW50bHlQbGF5aW5nLCBjbGlja2VkSXRlbUlkLCBnbG9iYWxBbmltYXRpb25EaXJlY3Rpb25dKTtcblxuICAvLyBEZWJ1ZyB1c2VFZmZlY3QgZsO8ciBCYWNrIE5hdmlnYXRpb25cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zb2xlLmxvZyhg8J+TiiBTdGF0ZSBVcGRhdGUgLSBWaWV3OiAke2N1cnJlbnRWaWV3fSwgQ2F0ZWdvcmllczogJHtjYXRlZ29yaWVzLmxlbmd0aH0sIFN1YmNhdGVnb3JpZXM6ICR7c3ViY2F0ZWdvcmllcy5sZW5ndGh9LCBBbmltYWxzOiAke2FuaW1hbHMubGVuZ3RofWApO1xuICAgIHRpbGVQb29sLmZpbHRlcih0ID0+IHQuaXNWaXNpYmxlKS5mb3JFYWNoKCh0aWxlLCBpbmRleCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coYCAgVGlsZSAke2luZGV4fTogJHt0aWxlLmNvbnRlbnQ/Lm5hbWUgfHwgJ05vIG5hbWUnfWApO1xuICAgIH0pO1xuICB9LCBbY3VycmVudFZpZXcsIGNhdGVnb3JpZXMsIHN1YmNhdGVnb3JpZXMsIGFuaW1hbHMsIHRpbGVQb29sXSk7XG5cbiAgLy8gSW5pdGlhbCBLYXRlZ29yaWVuIGxhZGVuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbG9hZENhdGVnb3JpZXMoKTtcbiAgICBzZXRDdXJyZW50VmlldygnbWFpbicpO1xuICB9LCBbXSk7XG5cbiAgLy8gTGFkZSBnZXNwZWljaGVydGUgZ2Vow7ZydGUgVGllcmUgYmVpbSBTdGFydFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHNhdmVkUGxheWVkQW5pbWFscyA9IGxvYWRQbGF5ZWRBbmltYWxzRnJvbVN0b3JhZ2UoKTtcbiAgICBzZXRQbGF5ZWRBbmltYWxzKHNhdmVkUGxheWVkQW5pbWFscyk7XG4gICAgXG4gICAgLy8gSElFUkFSQ0hJU0NIOiBMYWRlIEluaXRpYWwgUmVjZW50IEl0ZW1zIGbDvHIgTWFpbi1WaWV3XG4gICAgY29uc3Qgc2F2ZWRSZWNlbnRJdGVtcyA9IGxvYWRSZWNlbnRJdGVtc0Zyb21TdG9yYWdlKCdtYWluJyk7XG4gICAgc2V0UmVjZW50SXRlbXMoc2F2ZWRSZWNlbnRJdGVtcyk7XG4gIH0sIFtdKTtcblxuICAvLyBLYXRlZ29yaWVuLCBTdWJrYXRlZ29yaWVuIHVuZCBBbmltYWxzIHdlcmRlbiBhdXRvbWF0aXNjaCBtaXQgUmVjZW50IEl0ZW1zIGFuZ2VvcmRuZXRcbiAgLy8gYmVpbSBMYWRlbiBkdXJjaCBhcnJhbmdlSXRlbXNXaXRoUmVjZW50KCkgLSBrZWluIHNlcGFyYXRlcyB1c2VFZmZlY3QgbsO2dGlnXG5cbiAgLy8gRnVsbHNjcmVlbiBsb2dpY1xuICBjb25zdCBoYW5kbGVUb2dnbGVGdWxsc2NyZWVuID0gKCkgPT4ge1xuICAgIGlmICghaXNGdWxsc2NyZWVuKSB7XG4gICAgICBjb25zdCBlbGVtID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgaWYgKGVsZW0ucmVxdWVzdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgZWxlbS5yZXF1ZXN0RnVsbHNjcmVlbigpO1xuICAgICAgfSBlbHNlIGlmIChlbGVtLm1velJlcXVlc3RGdWxsU2NyZWVuKSB7XG4gICAgICAgIGVsZW0ubW96UmVxdWVzdEZ1bGxTY3JlZW4oKTtcbiAgICAgIH0gZWxzZSBpZiAoZWxlbS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICBlbGVtLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgICB9IGVsc2UgaWYgKGVsZW0ubXNSZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICBlbGVtLm1zUmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKSB7XG4gICAgICAgIGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKCk7XG4gICAgICB9IGVsc2UgaWYgKGRvY3VtZW50Lm1vekNhbmNlbEZ1bGxTY3JlZW4pIHtcbiAgICAgICAgZG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbigpO1xuICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC53ZWJraXRFeGl0RnVsbHNjcmVlbikge1xuICAgICAgICBkb2N1bWVudC53ZWJraXRFeGl0RnVsbHNjcmVlbigpO1xuICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5tc0V4aXRGdWxsc2NyZWVuKSB7XG4gICAgICAgIGRvY3VtZW50Lm1zRXhpdEZ1bGxzY3JlZW4oKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBmdWxsc2NyZWVuQ2hhbmdlSGFuZGxlciA9ICgpID0+IHtcbiAgICAgIHNldElzRnVsbHNjcmVlbighIShkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCB8fCBkb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRWxlbWVudCB8fCBkb2N1bWVudC5tb3pGdWxsU2NyZWVuRWxlbWVudCB8fCBkb2N1bWVudC5tc0Z1bGxzY3JlZW5FbGVtZW50KSk7XG4gICAgfTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdmdWxsc2NyZWVuY2hhbmdlJywgZnVsbHNjcmVlbkNoYW5nZUhhbmRsZXIpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UnLCBmdWxsc2NyZWVuQ2hhbmdlSGFuZGxlcik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW96ZnVsbHNjcmVlbmNoYW5nZScsIGZ1bGxzY3JlZW5DaGFuZ2VIYW5kbGVyKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdNU0Z1bGxzY3JlZW5DaGFuZ2UnLCBmdWxsc2NyZWVuQ2hhbmdlSGFuZGxlcik7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Z1bGxzY3JlZW5jaGFuZ2UnLCBmdWxsc2NyZWVuQ2hhbmdlSGFuZGxlcik7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd3ZWJraXRmdWxsc2NyZWVuY2hhbmdlJywgZnVsbHNjcmVlbkNoYW5nZUhhbmRsZXIpO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW96ZnVsbHNjcmVlbmNoYW5nZScsIGZ1bGxzY3JlZW5DaGFuZ2VIYW5kbGVyKTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ01TRnVsbHNjcmVlbkNoYW5nZScsIGZ1bGxzY3JlZW5DaGFuZ2VIYW5kbGVyKTtcbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBzaG91bGRTaG93ID0gc2VsZWN0ZWRDYXRlZ29yeSB8fCBjdXJyZW50VmlldyA9PT0gJ2FuaW1hbHMnO1xuICAgIGlmIChzaG91bGRTaG93ICE9PSBzaG93QmFja0J1dHRvbikge1xuICAgICAgc2V0QnV0dG9uc1Zpc2libGUoZmFsc2UpOyAvLyBmYWRlIG91dCBhbGxcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBzZXRTaG93QmFja0J1dHRvbihzaG91bGRTaG93KTsgLy8gdXBkYXRlIGxheW91dFxuICAgICAgICBzZXRCdXR0b25zVmlzaWJsZSh0cnVlKTsgLy8gZmFkZSBpbiBhbGxcbiAgICAgIH0sIDQ1MCk7IC8vIG1hdGNoIENTUyB0cmFuc2l0aW9uICh3YXMgMjUwKVxuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgfSwgW3NlbGVjdGVkQ2F0ZWdvcnksIGN1cnJlbnRWaWV3XSk7XG5cbiAgY29uc3QgW2Rvd25sb2FkUHJvZ3Jlc3MsIHNldERvd25sb2FkUHJvZ3Jlc3NdID0gdXNlU3RhdGUoeyB0b3RhbDogMCwgZG9uZTogMCwgc3RhdHVzOiAnaWRsZScgfSk7XG4gIGNvbnN0IFtkb3dubG9hZE5vdGlmaWNhdGlvbiwgc2V0RG93bmxvYWROb3RpZmljYXRpb25dID0gdXNlU3RhdGUobnVsbCk7XG5cbiAgLy8gUmVzdG9yZSBwcm9ncmVzcyBmcm9tIGxvY2FsU3RvcmFnZSBvbiBtb3VudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc3Qgc2F2ZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgna2xleF9kb3dubG9hZF9wcm9ncmVzcycpO1xuICAgICAgaWYgKHNhdmVkKSBzZXREb3dubG9hZFByb2dyZXNzKEpTT04ucGFyc2Uoc2F2ZWQpKTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICAvLyBQZXJzaXN0IHByb2dyZXNzIHRvIGxvY2FsU3RvcmFnZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2tsZXhfZG93bmxvYWRfcHJvZ3Jlc3MnLCBKU09OLnN0cmluZ2lmeShkb3dubG9hZFByb2dyZXNzKSk7XG4gICAgfVxuICB9LCBbZG93bmxvYWRQcm9ncmVzc10pO1xuXG4gIC8vIERvd25sb2FkIGFsbCBvZmZsaW5lIGFzc2V0IGZpbGVzIGZvciBvZmZsaW5lIHVzZVxuICBjb25zdCBoYW5kbGVEb3dubG9hZEFsbEFzc2V0cyA9IGFzeW5jICgpID0+IHtcbiAgICBzZXREb3dubG9hZE5vdGlmaWNhdGlvbignRG93bmxvYWQgZ2VzdGFydGV0IC4uLicpO1xuICAgIHNldERvd25sb2FkUHJvZ3Jlc3MoeyB0b3RhbDogMCwgZG9uZTogMCwgc3RhdHVzOiAncHJlcGFyaW5nJyB9KTtcbiAgICB0cnkge1xuICAgICAgLy8gRmV0Y2ggdGhlIG9mZmxpbmUgYXNzZXQgZmlsZSBsaXN0XG4gICAgICBjb25zdCBhc3NldFVybHMgPSBhd2FpdCBnZXRPZmZsaW5lQXNzZXRGaWxlTGlzdCgpO1xuICAgICAgc2V0RG93bmxvYWRQcm9ncmVzcyh7IHRvdGFsOiBhc3NldFVybHMubGVuZ3RoLCBkb25lOiAwLCBzdGF0dXM6ICdkb3dubG9hZGluZycgfSk7XG4gICAgICBsZXQgZG9uZSA9IDA7XG4gICAgICBmb3IgKGNvbnN0IHVybCBvZiBhc3NldFVybHMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCBnZXRDYWNoZWRBc3NldCh1cmwpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gSWdub3JlIGluZGl2aWR1YWwgZXJyb3JzLCBjb250aW51ZVxuICAgICAgICB9XG4gICAgICAgIGRvbmUrKztcbiAgICAgICAgc2V0RG93bmxvYWRQcm9ncmVzcyhwcmV2ID0+ICh7IC4uLnByZXYsIGRvbmUsIHN0YXR1czogJ2Rvd25sb2FkaW5nJyB9KSk7XG4gICAgICB9XG4gICAgICBzZXREb3dubG9hZFByb2dyZXNzKHByZXYgPT4gKHsgLi4ucHJldiwgZG9uZTogcHJldi50b3RhbCwgc3RhdHVzOiAnZG9uZScgfSkpO1xuICAgICAgc2V0RG93bmxvYWROb3RpZmljYXRpb24oJ0FsbGUgQmlsZGVyIHVuZCBBdWRpb3Mgc2luZCBqZXR6dCBvZmZsaW5lIHZlcmbDvGdiYXIhJyk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHNldERvd25sb2FkTm90aWZpY2F0aW9uKG51bGwpLCAzNTAwKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBzZXREb3dubG9hZFByb2dyZXNzKHsgdG90YWw6IDAsIGRvbmU6IDAsIHN0YXR1czogJ2Vycm9yJyB9KTtcbiAgICAgIHNldERvd25sb2FkTm90aWZpY2F0aW9uKCdGZWhsZXIgYmVpbSBEb3dubG9hZC4gQml0dGUgdmVyc3VjaGUgZXMgZXJuZXV0LicpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXREb3dubG9hZE5vdGlmaWNhdGlvbihudWxsKSwgMzUwMCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cbiAgICAgIDxIZWFkPlxuICAgICAgICA8dGl0bGU+S2luZGVybGV4aWtvbiAtIEVudGRlY2tlIGRpZSBXZWx0ITwvdGl0bGU+XG4gICAgICAgIDxtZXRhIG5hbWU9XCJkZXNjcmlwdGlvblwiIGNvbnRlbnQ9XCJJbnRlcmFrdGl2ZXMgS2luZGVybGV4aWtvbiBmw7xyIFZvcnNjaHVsa2luZGVyICgzLTcgSmFocmUpXCIgLz5cbiAgICAgICAgPG1ldGEgbmFtZT1cInZpZXdwb3J0XCIgY29udGVudD1cIndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xXCIgLz5cbiAgICAgICAgPGxpbmsgcmVsPVwiaWNvblwiIGhyZWY9XCIvZmF2aWNvbi5pY29cIiAvPlxuICAgICAgPC9IZWFkPlxuXG4gICAgICB7LyogQ2hhcmFjdGVyIFNlY3Rpb24gLSBJTU1FUiBnZXJlbmRlcnQgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXJhY3Rlci1zZWN0aW9uXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgY2hhcmFjdGVyLWJ1dHRvbnMtcm93JHshYnV0dG9uc1Zpc2libGUgPyAnIGJ1dHRvbnMtZmFkZS1vdXQnIDogJyd9YH0+XG4gICAgICAgICAge3Nob3dCYWNrQnV0dG9uICYmIChcbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmFjay1idXR0b25cIlxuICAgICAgICAgICAgICBvbkNsaWNrPXtjdXJyZW50VmlldyA9PT0gJ2FuaW1hbHMnID8gaGFuZGxlQmFja1RvU3ViY2F0ZWdvcmllcyA6IGhhbmRsZUJhY2tUb0NhdGVnb3JpZXN9XG4gICAgICAgICAgICAgIHRpdGxlPXtjdXJyZW50VmlldyA9PT0gJ2FuaW1hbHMnID8gJ1p1csO8Y2sgenUgZGVuIFVudGVya2F0ZWdvcmllbicgOiAnWnVyw7xjayB6dSBkZW4gSGF1cHRrYXRlZ29yaWVuJ31cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGltZyBzcmM9XCIvd2Vic2l0ZUJhc2VJbWFnZXMvYmFjayBidXR0b24ucG5nXCIgYWx0PVwiWnVyw7xja1wiIC8+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICApfVxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImZ1bGxzY3JlZW4tYnV0dG9uXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVRvZ2dsZUZ1bGxzY3JlZW59XG4gICAgICAgICAgICB0aXRsZT17aXNGdWxsc2NyZWVuID8gJ1ZvbGxiaWxkbW9kdXMgdmVybGFzc2VuJyA6ICdWb2xsYmlsZG1vZHVzIGFrdGl2aWVyZW4nfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxpbWcgc3JjPXtpc0Z1bGxzY3JlZW4gPyBcIi93ZWJzaXRlQmFzZUltYWdlcy9jbG9zZUJ1dHRvbi5wbmdcIiA6IFwiL3dlYnNpdGVCYXNlSW1hZ2VzL0Z1bGxzY3JlZW4ucG5nXCJ9IGFsdD17aXNGdWxsc2NyZWVuID8gXCJTY2hsaWXDn2VuXCIgOiBcIkZ1bGxzY3JlZW5cIn0gLz5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJpbmZvLWJ1dHRvblwiXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93SW5mbyh0cnVlKX1cbiAgICAgICAgICAgIHRpdGxlPVwiSW5mbyDDvGJlciBkYXMgTGV4aWtvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGltZyBzcmM9XCIvd2Vic2l0ZUJhc2VJbWFnZXMvaW5mby5wbmdcIiBhbHQ9XCJJbmZvXCIgLz5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxDaGFyYWN0ZXIgXG4gICAgICAgICAga2V5PVwibWFpbi1jaGFyYWN0ZXJcIiAvLyBGZXN0ZXIgS2V5IC0gd2lyZCBudXIgRUlOTUFMIGdlbW91bnRldFxuICAgICAgICAgIGN1cnJlbnRDb250ZXh0PXtsb2FkaW5nIHx8IGVycm9yID8gJ2lkbGUnIDogY2hhcmFjdGVyQ29udGV4dH1cbiAgICAgICAgICBvbkVtb3Rpb25DaGFuZ2U9e2hhbmRsZUNoYXJhY3RlckVtb3Rpb25DaGFuZ2V9XG4gICAgICAgIC8+XG4gICAgICAgIHsvKiBJbmZvIE92ZXJsYXkgTW9kYWwgKi99XG4gICAgICAgIHtzaG93SW5mbyAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLW92ZXJsYXktbW9kYWxcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby1vdmVybGF5LWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJpbmZvLW92ZXJsYXktY2xvc2VcIiBvbkNsaWNrPXsoKSA9PiBzZXRTaG93SW5mbyhmYWxzZSl9IHRpdGxlPVwiU2NobGllw59lblwiPsOXPC9idXR0b24+XG4gICAgICAgICAgICAgIDxoMj5XYXJ1bSBpY2ggZGllc2VzIEtpbmRlcmxleGlrb24gZ2VtYWNodCBoYWJlPC9oMj5cbiAgICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAgSWNoIGhhYmUgZGllc2VzIEtpbmRlcmxleGlrb24gZsO8ciBtZWluZSBlaWdlbmVuIEtpbmRlciBlcnN0ZWxsdCwgd2VpbCBzaWUgZWluIGdyb8OfZXMgSW50ZXJlc3NlIGFuIFRpZXJlbiB1bmQgV2lzc2VuIGltIEFsbGdlbWVpbmVuIGhhYmVuLiBMZWlkZXIgaGFiZW4gd2lyIGJpc2hlciBrZWluIExleGlrb24gZ2VmdW5kZW4sIGRhcyBhdWNoIGbDvHIgS2luZGVyIGdlZWlnbmV0IGlzdCwgZGllIG5vY2ggbmljaHQgbGVzZW4ga8O2bm5lbi4gRGVzaGFsYiBoYWJlIGljaCBhbmdlZmFuZ2VuLCBlaW4gaW50ZXJha3RpdmVzLCBnZXNwcm9jaGVuZXMgTGV4aWtvbiB6dSBlbnR3aWNrZWxuIOKAkyBtaXQgQmlsZGVybiwgZWluZmFjaGVyIFNwcmFjaGUgdW5kIEF1ZGlvdW50ZXJzdMO8dHp1bmcuPGJyLz48YnIvPlxuICAgICAgICAgICAgICAgIERlcnplaXQgZ2lidCBlcyBudXIgZGllIEthdGVnb3JpZSDigJ5UaWVyZeKAnCwgYWJlciB3ZW5uIG1laW5lIEtpbmRlciBvZGVyIGF1Y2ggYW5kZXJlIEtpbmRlciBJbnRlcmVzc2UgYW4gd2VpdGVyZW4gS2F0ZWdvcmllbiBoYWJlbiwgd8O8cmRlIGljaCBkYXMgTGV4aWtvbiBnZXJuZSBlcndlaXRlcm4uIElociBrw7ZubnQgbWlyIGdlcm5lIG1pdHRlaWxlbiwgd2VsY2hlIFRoZW1lbiBpaHIgZXVjaCB3w7xuc2NodCDigJMgaWNoIGZyZXVlIG1pY2ggw7xiZXIgVm9yc2NobMOkZ2UhPGJyLz48YnIvPlxuICAgICAgICAgICAgICAgIEplZGUgbmV1ZSBIYXVwdGthdGVnb3JpZSBrb3N0ZXQgbWljaCBqZWRvY2ggcnVuZCA1MOKAr+KCrCwgZGEgaWNoIGRpZSBCaWxkZXIsIFRleHRlIHVuZCBWb2ljZW92ZXJzIG1pdGhpbGZlIHZvbiBLSSBnZW5lcmllcmVuIGxhc3NlLiBEaWVzZSBLb3N0ZW4ga2FubiBpY2ggYWt0dWVsbCBuaWNodCBzZWxic3QgdHJhZ2VuLiBGYWxscyBpaHIgZGFzIFByb2pla3QgdW50ZXJzdMO8dHplbiBtw7ZjaHRldCwgc2NocmVpYnQgbWlyIGdlcm5lIGVpbmUgRS1NYWlsIGFuIDxiPm5pa2lAcGFydHRpbWVpbmRpZS5jb208L2I+LiBJY2ggZnJldWUgbWljaCDDvGJlciBqZWRlIE5hY2hyaWNodCB1bmQgd2lyIGvDtm5uZW4gZGFubiBnZXJuZSBiZXNwcmVjaGVuLCB3aWUgaWhyIGRhcyBQcm9qZWt0IHVudGVyc3TDvHR6ZW4ga8O2bm50Ljxici8+PGJyLz5cbiAgICAgICAgICAgICAgICBNZWluIFppZWwgaXN0IGVzLCBlaW4gcmljaHRpZ2VzIExleGlrb24gZsO8ciBLaW5kZXIgenUgc2NoYWZmZW4g4oCTIHp1Z8OkbmdsaWNoLCB1bnRlcmhhbHRzYW0gdW5kIGtpbmRnZXJlY2h0LCBhdWNoIGbDvHIgZGllIErDvG5nc3Rlbi48YnIvPjxici8+XG4gICAgICAgICAgICAgICAgQXVjaCBlaW5lIMOcYmVyc2V0enVuZyBpbiBhbmRlcmUgU3ByYWNoZW4gaXN0IGdlcGxhbnQuIERhZsO8ciBtw7xzc3RlIGljaCBqZWRvY2ggbm9jaCB6dXPDpHR6bGljaGUgRW50d2lja2x1bmdzemVpdCBpbnZlc3RpZXJlbiwgdW0gZGVuIFN1cHBvcnQgZGFmw7xyIHRlY2huaXNjaCBiZXNzZXIgdW16dXNldHplbi4gRmFsbHMgZGFyYW4gSW50ZXJlc3NlIGJlc3RlaHQsIGvDtm5udGVuIHdpciBnZXJuZSBkYXLDvGJlciBzcHJlY2hlbi48YnIvPjxici8+XG4gICAgICAgICAgICAgICAgV2VubiBpaHIgbWljaCB6dXPDpHR6bGljaCB1bnRlcnN0w7x0emVuIG3DtmNodGV0LCBzY2hhdXQgZ2VybmUgYmVpIG1laW5lbiBTcGllbGVuIHZvcmJlaSBvZGVyIHNldHp0IHNpZSBhdWYgZXVyZSBXdW5zY2hsaXN0ZTo8YnIvPlxuICAgICAgICAgICAgICAgIPCfkYkgTWVpbmUgRW50d2lja2xlcnNlaXRlIGF1ZiBTdGVhbSA8YSBocmVmPVwiaHR0cHM6Ly9zdG9yZS5zdGVhbXBvd2VyZWQuY29tL2N1cmF0b3IvMzMxODM0NjdcIiB0YXJnZXQ9XCJfYmxhbmtcIiByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCI+QGh0dHBzOi8vc3RvcmUuc3RlYW1wb3dlcmVkLmNvbS9jdXJhdG9yLzMzMTgzNDY3PC9hPjxici8+PGJyLz5cbiAgICAgICAgICAgICAgICA8Yj5UZWNobmlzY2hlciBIaW53ZWlzICYgQXR0cmlidXRpb246PC9iPjxici8+XG4gICAgICAgICAgICAgICAgRGllc2VzIExleGlrb24gd3VyZGUgbWl0IEhpbGZlIHZvbiBLw7xuc3RsaWNoZXIgSW50ZWxsaWdlbnogZXJzdGVsbHQ6PGJyLz5cbiAgICAgICAgICAgICAgICA8Yj5CaWxkZXI6PC9iPiBnZW5lcmllcnQgbWl0IE9wZW5BSTxici8+XG4gICAgICAgICAgICAgICAgPGI+Vm9pY2VvdmVyOjwvYj4gZXJzdGVsbHQgbWl0IEVsZXZlbkxhYnM8YnIvPlxuICAgICAgICAgICAgICAgIDxiPkNvZGUgJiBVbXNldHp1bmc6PC9iPiBtaXQgSGlsZmUgdm9uIEN1cnNvciB1bmQgdmVyc2NoaWVkZW5lbiBMYW5ndWFnZSBNb2RlbHMgKExMTXMpPGJyLz5cbiAgICAgICAgICAgICAgICA8Yj5Tb3VuZGVmZmVrdDo8L2I+PGJyLz5cbiAgICAgICAgICAgICAgICDigJ5Cb3kgTGF1Z2hpbmcgKDUgeS5vLinigJwgdm9uIE5ha2hhcyDigJMgZnJlZXNvdW5kLm9yZy9zLzUwNjkzNy8g4oCTIExpemVuejogQ3JlYXRpdmUgQ29tbW9ucyAwPGJyLz48YnIvPlxuICAgICAgICAgICAgICAgIDxiPkJla2FubnRlIFByb2JsZW1lOjwvYj48YnIvPlxuICAgICAgICAgICAgICAgIOKaoO+4jyBCZWkgZGVyIE51dHp1bmcgbWl0IGRlbSBGaXJlZm94LUJyb3dzZXIga2FubiBlcyBha3R1ZWxsIHp1IEJpbGRmbGFja2VybiBrb21tZW4uIEJpdHRlIG51dHp0IGluIGRpZXNlbSBGYWxsIHZvcsO8YmVyZ2VoZW5kIGVpbmVuIGFuZGVyZW4gQnJvd3NlciAoei7igK9CLiBDaHJvbWUsIEVkZ2Ugb2RlciBTYWZhcmkpLCBiaXMgZGFzIFByb2JsZW0gYmVob2JlbiBpc3QuXG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Ub3A6IDMyLCBtYXJnaW5Cb3R0b206IDE2IH19PlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZURvd25sb2FkQWxsQXNzZXRzfVxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzEycHggMjRweCcsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAxOCxcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA4LFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAnIzRjYWY1MCcsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogMTJcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZG93bmxvYWRQcm9ncmVzcy5zdGF0dXMgPT09ICdkb3dubG9hZGluZycgfHwgZG93bmxvYWRQcm9ncmVzcy5zdGF0dXMgPT09ICdwcmVwYXJpbmcnfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtkb3dubG9hZFByb2dyZXNzLnN0YXR1cyA9PT0gJ2RvbmUnID8gJ0FsbGUgQXNzZXRzIG9mZmxpbmUgdmVyZsO8Z2JhciEnIDpcbiAgICAgICAgICAgICAgICAgICBkb3dubG9hZFByb2dyZXNzLnN0YXR1cyA9PT0gJ2Rvd25sb2FkaW5nJyA/ICdEb3dubG9hZCBsw6R1ZnQgLi4uJyA6XG4gICAgICAgICAgICAgICAgICAgZG93bmxvYWRQcm9ncmVzcy5zdGF0dXMgPT09ICdwcmVwYXJpbmcnID8gJ1ZvcmJlcmVpdHVuZyAuLi4nIDpcbiAgICAgICAgICAgICAgICAgICAnRsO8ciBPZmZsaW5lLU51dHp1bmcgaGVydW50ZXJsYWRlbid9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgeyhkb3dubG9hZFByb2dyZXNzLnN0YXR1cyA9PT0gJ2Rvd25sb2FkaW5nJyB8fCBkb3dubG9hZFByb2dyZXNzLnN0YXR1cyA9PT0gJ3ByZXBhcmluZycgfHwgZG93bmxvYWRQcm9ncmVzcy5zdGF0dXMgPT09ICdkb25lJykgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyB3aWR0aDogJzEwMCUnLCBtYXhXaWR0aDogNDAwLCBtYXJnaW46ICcwIGF1dG8nLCBtYXJnaW5Ub3A6IDggfX0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgaGVpZ2h0OiAxOCwgYmFja2dyb3VuZDogJyNlZWUnLCBib3JkZXJSYWRpdXM6IDgsIG92ZXJmbG93OiAnaGlkZGVuJywgYm9yZGVyOiAnMXB4IHNvbGlkICNjY2MnIH19PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBkb3dubG9hZFByb2dyZXNzLnRvdGFsID4gMCA/IGAke01hdGgucm91bmQoMTAwICogZG93bmxvYWRQcm9ncmVzcy5kb25lIC8gZG93bmxvYWRQcm9ncmVzcy50b3RhbCl9JWAgOiAnMCUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBkb3dubG9hZFByb2dyZXNzLnN0YXR1cyA9PT0gJ2RvbmUnID8gJyM0Y2FmNTAnIDogJyMxOTc2ZDInLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ3dpZHRoIDAuM3MnXG4gICAgICAgICAgICAgICAgICAgICAgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgdGV4dEFsaWduOiAnY2VudGVyJywgZm9udFNpemU6IDE0LCBtYXJnaW5Ub3A6IDQgfX0+XG4gICAgICAgICAgICAgICAgICAgICAge2Rvd25sb2FkUHJvZ3Jlc3Muc3RhdHVzID09PSAnZG9uZSdcbiAgICAgICAgICAgICAgICAgICAgICAgID8gJ0FsbGUgQmlsZGVyIHVuZCBBdWRpb3Mgc2luZCBqZXR6dCBvZmZsaW5lIHZlcmbDvGdiYXIhJ1xuICAgICAgICAgICAgICAgICAgICAgICAgOiBkb3dubG9hZFByb2dyZXNzLnN0YXR1cyA9PT0gJ3ByZXBhcmluZydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnVm9yYmVyZWl0dW5nIC4uLidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBgJHtkb3dubG9hZFByb2dyZXNzLmRvbmV9IC8gJHtkb3dubG9hZFByb2dyZXNzLnRvdGFsfSBEYXRlaWVuIGdlc3BlaWNoZXJ0YH1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIHtkb3dubG9hZE5vdGlmaWNhdGlvbiAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpblRvcDogMTAsIGNvbG9yOiAnIzM4OGUzYycsIGZvbnRXZWlnaHQ6IDYwMCwgdGV4dEFsaWduOiAnY2VudGVyJyB9fT57ZG93bmxvYWROb3RpZmljYXRpb259PC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICAgey8qIFNlcGFyYXRvciBiZXR3ZWVuIGNoYXJhY3RlciBhbmQgY2F0ZWdvcmllcyAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhcmFjdGVyLWNhdGVnb3JpZXMtc2VwYXJhdG9yXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9kaXY+XG4gICAgICA8ZGl2IFxuICAgICAgICBjbGFzc05hbWU9XCJjYXRlZ29yaWVzLXNlY3Rpb25cIlxuICAgICAgICByZWY9e3Njcm9sbENvbnRhaW5lclJlZn1cbiAgICAgICAgb25TY3JvbGw9e2hhbmRsZVNjcm9sbH1cbiAgICAgID5cbiAgICAgICAgey8qIExvYWRpbmcgU3RhdGUgKi99XG4gICAgICAgIHtsb2FkaW5nICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxvYWRpbmctc3Bpbm5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGlubmVyXCI+PC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAgey8qIEVycm9yIFN0YXRlICovfVxuICAgICAgICB7ZXJyb3IgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZXJyb3ItbWVzc2FnZVwiPlxuICAgICAgICAgICAgPGgyPk9vcHMhIPCfmIU8L2gyPlxuICAgICAgICAgICAgPHA+e2Vycm9yfTwvcD5cbiAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2xvYWRDYXRlZ29yaWVzfVxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICcjNGNhZjUwJyxcbiAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJyxcbiAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcbiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICcxMHB4JyxcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMTJweCAyNHB4JyxcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogJzFyZW0nLFxuICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgICAgICAgICAgIG1hcmdpblRvcDogJzFyZW0nXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIE5vY2htYWwgdmVyc3VjaGVuXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICB7LyogTm9ybWFsIENvbnRlbnQgLSBudXIgd2VubiBuaWNodCBsb2FkaW5nL2Vycm9yICovfVxuICAgICAgICB7IWxvYWRpbmcgJiYgIWVycm9yICYmIGFsbEltYWdlc0xvYWRlZCAmJiBpc0dyaWRWaXNpYmxlICYmIChcbiAgICAgICAgICAvLyBPbmx5IHJlbmRlciB0aGUgZ3JpZCBpZiB0aGUgbWFpbiBjYXRlZ29yeSAoZmlyc3QgdmlzaWJsZSB0aWxlKSBoYXMgaW1hZ2UgYW5kIGltYWdlLmZpbGVuYW1lXG4gICAgICAgICAgdGlsZVBvb2wuc29tZSh0aWxlID0+IHRpbGUuaXNWaXNpYmxlICYmIHRpbGUuY29udGVudCAmJiB0aWxlLmNvbnRlbnQuaW1hZ2UgJiYgdGlsZS5jb250ZW50LmltYWdlLmZpbGVuYW1lKVxuICAgICAgICAgICAgPyAoXG4gICAgICAgICAgICAgIDxtb3Rpb24uZGl2XG4gICAgICAgICAgICAgICAga2V5PXthbmltYXRpb25LZXl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdGlsZS1ncmlkYH1cbiAgICAgICAgICAgICAgICB2YXJpYW50cz17YW5pbWF0aW9uTWFuYWdlci5nZXRHcmlkVmFyaWFudHMoY3VycmVudEdyaWRBbmltYXRpb24pfVxuICAgICAgICAgICAgICAgIGluaXRpYWw9XCJoaWRkZW5cIlxuICAgICAgICAgICAgICAgIGFuaW1hdGU9XCJ2aXNpYmxlXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBcbiAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IHRpbGVQb29sLnNvbWUodGlsZSA9PiB0aWxlLmlzVmlzaWJsZSkgPyAxIDogMCxcbiAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246ICdvcGFjaXR5IDAuMXMgZWFzZScgXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHt0aWxlUG9vbC5tYXAoKHBvb2xUaWxlLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgPENhdGVnb3J5VGlsZVxuICAgICAgICAgICAgICAgICAgICBrZXk9e3Bvb2xUaWxlLmlkfVxuICAgICAgICAgICAgICAgICAgICB0aWxlS2V5PXtwb29sVGlsZS5pZH1cbiAgICAgICAgICAgICAgICAgICAgcG9vbFRpbGU9e3Bvb2xUaWxlfVxuICAgICAgICAgICAgICAgICAgICBkZWxheT17cG9vbFRpbGUuaXNWaXNpYmxlID8gYW5pbWF0aW9uTWFuYWdlci5nZXRUaWxlRGVsYXkoXG4gICAgICAgICAgICAgICAgICAgICAgdGlsZVBvb2wuZmlsdGVyKCh0LCBpKSA9PiB0LmlzVmlzaWJsZSAmJiBpIDw9IGluZGV4KS5sZW5ndGggLSAxLCBcbiAgICAgICAgICAgICAgICAgICAgICB0aWxlUG9vbC5maWx0ZXIodCA9PiB0LmlzVmlzaWJsZSkubGVuZ3RoLCBcbiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JpZEFuaW1hdGlvblxuICAgICAgICAgICAgICAgICAgICApIDogMH1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogbnVsbFxuICAgICAgICApfVxuXG4gICAgICAgIHsvKiBQbGFjZWhvbGRlciBmw7xyIGxlZXJlIFN1YmthdGVnb3JpZW4gKi99XG4gICAgICAgIHtzZWxlY3RlZENhdGVnb3J5ICYmIHN1YmNhdGVnb3JpZXMubGVuZ3RoID09PSAwICYmIGN1cnJlbnRWaWV3ID09PSAnY2F0ZWdvcnknICYmIChcbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHRleHRBbGlnbjogJ2NlbnRlcicsIHBhZGRpbmc6ICczcmVtJyB9fT5cbiAgICAgICAgICAgIDxwIHN0eWxlPXt7IGZvbnRTaXplOiAnMS4ycmVtJywgY29sb3I6ICcjNjY2JyB9fT5cbiAgICAgICAgICAgICAgSGllciBlbnRzdGVoZW4gYmFsZCBzcGFubmVuZGUgVW50ZXJrYXRlZ29yaWVuISDwn5qnXG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIFNjcm9sbCBJbmRpa2F0b3IgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNjcm9sbC1pbmRpY2F0b3JcIj5cbiAgICAgICAgPGRpdiBcbiAgICAgICAgICBjbGFzc05hbWU9XCJzY3JvbGwtdGh1bWJcIiBcbiAgICAgICAgICBzdHlsZT17eyBcbiAgICAgICAgICAgIGhlaWdodDogYCR7TWF0aC5tYXgoMTUsIHNjcm9sbFByb2dyZXNzKX0lYCxcbiAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVkoJHtzY3JvbGxQcm9ncmVzcyAqIDAuOH0lKWBcbiAgICAgICAgICB9fVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59ICJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwiSGVhZCIsIkNoYXJhY3RlciIsIkNhdGVnb3J5VGlsZSIsIm1vdGlvbiIsImFuaW1hdGlvbk1hbmFnZXIiLCJnZXRDYWNoZWRBc3NldCIsImdldE9mZmxpbmVBc3NldEZpbGVMaXN0IiwiZ2V0Q2FjaGVkSnNvbiIsIkhvbWUiLCJjYXRlZ29yaWVzIiwic2V0Q2F0ZWdvcmllcyIsInNlbGVjdGVkQ2F0ZWdvcnkiLCJzZXRTZWxlY3RlZENhdGVnb3J5Iiwic3ViY2F0ZWdvcmllcyIsInNldFN1YmNhdGVnb3JpZXMiLCJhbmltYWxzIiwic2V0QW5pbWFscyIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsImNoYXJhY3RlckNvbnRleHQiLCJzZXRDaGFyYWN0ZXJDb250ZXh0IiwiY3VycmVudFZpZXciLCJzZXRDdXJyZW50VmlldyIsImNsaWNrZWRJdGVtSWQiLCJzZXRDbGlja2VkSXRlbUlkIiwic2Nyb2xsUHJvZ3Jlc3MiLCJzZXRTY3JvbGxQcm9ncmVzcyIsInJlY2VudEl0ZW1zIiwic2V0UmVjZW50SXRlbXMiLCJwbGF5ZWRBbmltYWxzIiwic2V0UGxheWVkQW5pbWFscyIsImN1cnJlbnRseVBsYXlpbmciLCJzZXRDdXJyZW50bHlQbGF5aW5nIiwic2Nyb2xsQ29udGFpbmVyUmVmIiwic2hvd0dyaWQiLCJzZXRTaG93R3JpZCIsImFuaW1hdGlvbktleSIsInNldEFuaW1hdGlvbktleSIsImlzR3JpZFZpc2libGUiLCJzZXRJc0dyaWRWaXNpYmxlIiwiYWxsSW1hZ2VzTG9hZGVkIiwic2V0QWxsSW1hZ2VzTG9hZGVkIiwiaXNGdWxsc2NyZWVuIiwic2V0SXNGdWxsc2NyZWVuIiwic2hvd0luZm8iLCJzZXRTaG93SW5mbyIsInNob3dCYWNrQnV0dG9uIiwic2V0U2hvd0JhY2tCdXR0b24iLCJidXR0b25zVmlzaWJsZSIsInNldEJ1dHRvbnNWaXNpYmxlIiwicHJlbG9hZGVkRGF0YSIsInNldFByZWxvYWRlZERhdGEiLCJpc1ByZWxvYWRpbmciLCJzZXRJc1ByZWxvYWRpbmciLCJUSUxFX1BPT0xfU0laRSIsInRpbGVQb29sIiwic2V0VGlsZVBvb2wiLCJBcnJheSIsImZyb20iLCJsZW5ndGgiLCJfIiwiaW5kZXgiLCJpZCIsImlzVmlzaWJsZSIsImNvbnRlbnQiLCJhbmltYXRpb25Nb2RlIiwiaXNBbmltYWwiLCJpc1BsYXllZCIsImlzQ3VycmVudGx5UGxheWluZyIsIm9uQ2xpY2siLCJyZXNldEFsbFRpbGVBbmltYXRpb25zIiwicHJldiIsIm1hcCIsInRpbGUiLCJjdXJyZW50R3JpZEFuaW1hdGlvbiIsInNldEN1cnJlbnRHcmlkQW5pbWF0aW9uIiwiZ2xvYmFsQW5pbWF0aW9uRGlyZWN0aW9uIiwic2V0R2xvYmFsQW5pbWF0aW9uRGlyZWN0aW9uIiwic2F2ZVBsYXllZEFuaW1hbHNUb1N0b3JhZ2UiLCJwbGF5ZWRMaXN0IiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjb25zb2xlIiwibG9hZFBsYXllZEFuaW1hbHNGcm9tU3RvcmFnZSIsInNhdmVkIiwiZ2V0SXRlbSIsInBhcnNlIiwiZ2V0U3RvcmFnZUtleSIsImxldmVsIiwiY2F0ZWdvcnlTbHVnIiwic3ViY2F0ZWdvcnlTbHVnIiwic2F2ZVJlY2VudEl0ZW1zVG9TdG9yYWdlIiwicmVjZW50TGlzdCIsImtleSIsImxvZyIsImxvYWRSZWNlbnRJdGVtc0Zyb21TdG9yYWdlIiwicmVzdWx0Iiwic2h1ZmZsZUFycmF5IiwiYXJyYXkiLCJzaHVmZmxlZCIsImkiLCJqIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiYXJyYW5nZUl0ZW1zV2l0aFJlY2VudCIsIml0ZW1zIiwicmVjZW50SWRzIiwiZm9yRWFjaCIsInJlY2VudElkIiwiaXRlbSIsImZpbmQiLCJwdXNoIiwib3RoZXJJdGVtcyIsImZpbHRlciIsImluY2x1ZGVzIiwic2h1ZmZsZWRPdGhlcnMiLCJhZGRUb1JlY2VudCIsIml0ZW1JZCIsIm5ld1JlY2VudCIsImxpbWl0ZWRSZWNlbnQiLCJzbGljZSIsImdldEN1cnJlbnRSZWNlbnRJdGVtcyIsInNsdWciLCJsb2FkQ2F0ZWdvcmllcyIsInJhbmRvbUFuaW1hdGlvbiIsImdldFJhbmRvbUdyaWRBbmltYXRpb24iLCJkYXRhIiwiaXNBcnJheSIsIm1haW5SZWNlbnRJdGVtcyIsImFycmFuZ2VkQ2F0ZWdvcmllcyIsIkVycm9yIiwiZXJyIiwibG9hZENhdGVnb3J5RGV0YWlscyIsInN1YmNhdHMiLCJjYXRlZ29yeVJlY2VudEl0ZW1zIiwiYXJyYW5nZWRTdWJjYXRzIiwicGxheUF1ZGlvIiwiYXVkaW9QYXRoIiwid2FybiIsIndpbmRvdyIsImN1cnJlbnRBdWRpbyIsInBhdXNlIiwiY3VycmVudFRpbWUiLCJhdWRpbyIsIkF1ZGlvIiwicGxheSIsImNhdGNoIiwiYWRkRXZlbnRMaXN0ZW5lciIsInByZWxvYWROZXh0Q29udGVudCIsInR5cGUiLCJ0aWVyZSIsInRpZXIiLCJwcm90b2NvbCIsImxvY2F0aW9uIiwiaG9zdG5hbWUiLCJwb3J0IiwidGlsZVNpemUiLCJxdWFsaXR5IiwiYmFzZUltYWdlVXJsIiwiaW1hZ2VzVG9QcmVsb2FkIiwic3ViIiwiaW1hZ2UiLCJmaWxlbmFtZSIsIlByb21pc2UiLCJhbGwiLCJzcmMiLCJyZXNvbHZlIiwiaW1nIiwiSW1hZ2UiLCJvbmxvYWQiLCJvbmVycm9yIiwiZmFsbGJhY2tTcmMiLCJyZXBsYWNlIiwiZmFsbGJhY2tJbWciLCJwcmVsb2FkSW1hZ2VzIiwidXJscyIsInVybCIsImNhY2hlS2V5IiwiZmV0Y2giLCJ0aGVuIiwiciIsImJsb2IiLCJyZWplY3QiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkZW5kIiwicmVhZEFzRGF0YVVSTCIsImdldEFsbEltYWdlVXJsc0ZvckNhdGVnb3J5IiwiY2F0ZWdvcnkiLCJsb3dSZXMiLCJCb29sZWFuIiwiZ2V0QWxsSW1hZ2VVcmxzRm9yQW5pbWFscyIsImFuaW1hbCIsIndhaXRGb3JBbGxJbWFnZXNUb0xvYWQiLCJpbWFnZVNyY3MiLCJoYW5kbGVDYXRlZ29yeUNsaWNrIiwiZ2V0UmFuZG9tRGlyZWN0aW9uIiwicGF0aCIsImltYWdlVXJscyIsInByZWxvYWRQcm9taXNlIiwic2V0VGltZW91dCIsImN1cnJlbnQiLCJzY3JvbGxUb3AiLCJrIiwiYmFzZTY0cyIsInVuZGVmaW5lZCIsImhhbmRsZVN1YmNhdGVnb3J5Q2xpY2siLCJzdWJjYXRlZ29yeSIsImFuaW1hbFJlY2VudEl0ZW1zIiwiYXJyYW5nZWRBbmltYWxzIiwibG9hZEFuaW1hbHNGb3JDYXRlZ29yeSIsImFuaW1hbHNSZWNlbnRJdGVtcyIsImhhbmRsZUFuaW1hbENsaWNrIiwiY3VycmVudFN1YmNhdGVnb3J5IiwiYSIsIm5ld1BsYXllZEFuaW1hbHMiLCJvbmNlIiwiaGFuZGxlQmFja1RvQ2F0ZWdvcmllcyIsImhhbmRsZUJhY2tUb1N1YmNhdGVnb3JpZXMiLCJoYW5kbGVDaGFyYWN0ZXJFbW90aW9uQ2hhbmdlIiwiZW1vdGlvbiIsImhhbmRsZVNjcm9sbCIsImNvbnRhaW5lciIsInNjcm9sbEhlaWdodCIsImNsaWVudEhlaWdodCIsInByb2dyZXNzIiwibWluIiwibWF4IiwiZGlyZWN0aW9ucyIsImdldEFuaW1hdGlvbk1vZGUiLCJ1cGRhdGVUaWxlUG9vbCIsInVwZGF0ZWQiLCJuZXdBbmltYXRpb25Nb2RlIiwibmFtZSIsIl91cGRhdGVkIiwicHJldkNvbnRlbnRJZCIsImdldEN1cnJlbnRJdGVtcyIsIm1haW5DYXQiLCJjYXQiLCJtYXBwZWQiLCJzaG91bGRVc2VHcmlkQW5pbWF0aW9uIiwiY3VycmVudEl0ZW1zIiwidCIsInNhdmVkUGxheWVkQW5pbWFscyIsInNhdmVkUmVjZW50SXRlbXMiLCJoYW5kbGVUb2dnbGVGdWxsc2NyZWVuIiwiZWxlbSIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwicmVxdWVzdEZ1bGxzY3JlZW4iLCJtb3pSZXF1ZXN0RnVsbFNjcmVlbiIsIndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuIiwibXNSZXF1ZXN0RnVsbHNjcmVlbiIsImV4aXRGdWxsc2NyZWVuIiwibW96Q2FuY2VsRnVsbFNjcmVlbiIsIndlYmtpdEV4aXRGdWxsc2NyZWVuIiwibXNFeGl0RnVsbHNjcmVlbiIsImZ1bGxzY3JlZW5DaGFuZ2VIYW5kbGVyIiwiZnVsbHNjcmVlbkVsZW1lbnQiLCJ3ZWJraXRGdWxsc2NyZWVuRWxlbWVudCIsIm1vekZ1bGxTY3JlZW5FbGVtZW50IiwibXNGdWxsc2NyZWVuRWxlbWVudCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzaG91bGRTaG93IiwiZG93bmxvYWRQcm9ncmVzcyIsInNldERvd25sb2FkUHJvZ3Jlc3MiLCJ0b3RhbCIsImRvbmUiLCJzdGF0dXMiLCJkb3dubG9hZE5vdGlmaWNhdGlvbiIsInNldERvd25sb2FkTm90aWZpY2F0aW9uIiwiaGFuZGxlRG93bmxvYWRBbGxBc3NldHMiLCJhc3NldFVybHMiLCJlIiwiZGl2IiwiY2xhc3NOYW1lIiwidGl0bGUiLCJtZXRhIiwibGluayIsInJlbCIsImhyZWYiLCJidXR0b24iLCJhbHQiLCJjdXJyZW50Q29udGV4dCIsIm9uRW1vdGlvbkNoYW5nZSIsImgyIiwicCIsImJyIiwiYiIsInRhcmdldCIsInN0eWxlIiwibWFyZ2luVG9wIiwibWFyZ2luQm90dG9tIiwicGFkZGluZyIsImZvbnRTaXplIiwiYm9yZGVyUmFkaXVzIiwiYmFja2dyb3VuZCIsImNvbG9yIiwiYm9yZGVyIiwiY3Vyc29yIiwiZGlzYWJsZWQiLCJ3aWR0aCIsIm1heFdpZHRoIiwibWFyZ2luIiwiaGVpZ2h0Iiwib3ZlcmZsb3ciLCJyb3VuZCIsInRyYW5zaXRpb24iLCJ0ZXh0QWxpZ24iLCJmb250V2VpZ2h0IiwiYXJpYS1oaWRkZW4iLCJyZWYiLCJvblNjcm9sbCIsInNvbWUiLCJ2YXJpYW50cyIsImdldEdyaWRWYXJpYW50cyIsImluaXRpYWwiLCJhbmltYXRlIiwib3BhY2l0eSIsInBvb2xUaWxlIiwidGlsZUtleSIsImRlbGF5IiwiZ2V0VGlsZURlbGF5IiwidHJhbnNmb3JtIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./pages/index.js\n");

/***/ }),

/***/ "./utils/animationManager.js":
/*!***********************************!*\
  !*** ./utils/animationManager.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AnimationManager: () => (/* binding */ AnimationManager),\n/* harmony export */   animationManager: () => (/* binding */ animationManager)\n/* harmony export */ });\n// Zentraler Animation Manager fr choreographierte Tile-Animationen\nclass AnimationManager {\n    constructor(){\n        this.animationTypes = [\n            \"slideFromLeft\",\n            \"slideFromRight\",\n            \"slideFromTop\",\n            \"slideFromBottom\",\n            \"slideFromTopLeft\",\n            \"slideFromTopRight\",\n            \"slideFromBottomLeft\",\n            \"slideFromBottomRight\",\n            \"spiralInward\",\n            \"spiralOutward\",\n            \"scatterIn\",\n            \"waveIn\"\n        ];\n    }\n    // Zufllige Animation fr das gesamte Grid whlen\n    getRandomGridAnimation() {\n        const randomIndex = Math.floor(Math.random() * this.animationTypes.length);\n        return this.animationTypes[randomIndex];\n    }\n    // Animation-Varianten fr Framer Motion definieren\n    getGridVariants(animationType) {\n        const viewportWidth =  false ? 0 : 1200;\n        const viewportHeight =  false ? 0 : 800;\n        const variants = {\n            // Einfache Richtungen\n            slideFromLeft: {\n                hidden: {\n                    x: -viewportWidth,\n                    opacity: 0\n                },\n                visible: {\n                    x: 0,\n                    opacity: 1,\n                    transition: {\n                        duration: 0.8,\n                        ease: \"easeOut\"\n                    }\n                },\n                exit: {\n                    x: -viewportWidth,\n                    opacity: 0,\n                    transition: {\n                        duration: 0.6,\n                        ease: \"easeIn\"\n                    }\n                }\n            },\n            slideFromRight: {\n                hidden: {\n                    x: viewportWidth,\n                    opacity: 0\n                },\n                visible: {\n                    x: 0,\n                    opacity: 1,\n                    transition: {\n                        duration: 0.8,\n                        ease: \"easeOut\"\n                    }\n                },\n                exit: {\n                    x: viewportWidth,\n                    opacity: 0,\n                    transition: {\n                        duration: 0.6,\n                        ease: \"easeIn\"\n                    }\n                }\n            },\n            slideFromTop: {\n                hidden: {\n                    y: -viewportHeight,\n                    opacity: 0\n                },\n                visible: {\n                    y: 0,\n                    opacity: 1,\n                    transition: {\n                        duration: 0.8,\n                        ease: \"easeOut\"\n                    }\n                },\n                exit: {\n                    y: -viewportHeight,\n                    opacity: 0,\n                    transition: {\n                        duration: 0.6,\n                        ease: \"easeIn\"\n                    }\n                }\n            },\n            slideFromBottom: {\n                hidden: {\n                    y: viewportHeight,\n                    opacity: 0\n                },\n                visible: {\n                    y: 0,\n                    opacity: 1,\n                    transition: {\n                        duration: 0.8,\n                        ease: \"easeOut\"\n                    }\n                },\n                exit: {\n                    y: viewportHeight,\n                    opacity: 0,\n                    transition: {\n                        duration: 0.6,\n                        ease: \"easeIn\"\n                    }\n                }\n            },\n            // Diagonale Animationen\n            slideFromTopLeft: {\n                hidden: {\n                    x: -viewportWidth,\n                    y: -viewportHeight,\n                    opacity: 0\n                },\n                visible: {\n                    x: 0,\n                    y: 0,\n                    opacity: 1,\n                    transition: {\n                        duration: 0.9,\n                        ease: \"easeOut\"\n                    }\n                },\n                exit: {\n                    x: -viewportWidth,\n                    y: -viewportHeight,\n                    opacity: 0,\n                    transition: {\n                        duration: 0.7,\n                        ease: \"easeIn\"\n                    }\n                }\n            },\n            slideFromTopRight: {\n                hidden: {\n                    x: viewportWidth,\n                    y: -viewportHeight,\n                    opacity: 0\n                },\n                visible: {\n                    x: 0,\n                    y: 0,\n                    opacity: 1,\n                    transition: {\n                        duration: 0.9,\n                        ease: \"easeOut\"\n                    }\n                },\n                exit: {\n                    x: viewportWidth,\n                    y: -viewportHeight,\n                    opacity: 0,\n                    transition: {\n                        duration: 0.7,\n                        ease: \"easeIn\"\n                    }\n                }\n            },\n            slideFromBottomLeft: {\n                hidden: {\n                    x: -viewportWidth,\n                    y: viewportHeight,\n                    opacity: 0\n                },\n                visible: {\n                    x: 0,\n                    y: 0,\n                    opacity: 1,\n                    transition: {\n                        duration: 0.9,\n                        ease: \"easeOut\"\n                    }\n                },\n                exit: {\n                    x: -viewportWidth,\n                    y: viewportHeight,\n                    opacity: 0,\n                    transition: {\n                        duration: 0.7,\n                        ease: \"easeIn\"\n                    }\n                }\n            },\n            slideFromBottomRight: {\n                hidden: {\n                    x: viewportWidth,\n                    y: viewportHeight,\n                    opacity: 0\n                },\n                visible: {\n                    x: 0,\n                    y: 0,\n                    opacity: 1,\n                    transition: {\n                        duration: 0.9,\n                        ease: \"easeOut\"\n                    }\n                },\n                exit: {\n                    x: viewportWidth,\n                    y: viewportHeight,\n                    opacity: 0,\n                    transition: {\n                        duration: 0.7,\n                        ease: \"easeIn\"\n                    }\n                }\n            },\n            // Spezial-Animationen ohne Rotation\n            spiralInward: {\n                hidden: {\n                    scale: 0,\n                    opacity: 0\n                },\n                visible: {\n                    scale: 1,\n                    opacity: 1,\n                    transition: {\n                        duration: 1.0,\n                        ease: \"easeOut\",\n                        scale: {\n                            type: \"spring\",\n                            stiffness: 80,\n                            damping: 15\n                        }\n                    }\n                },\n                exit: {\n                    scale: 0,\n                    opacity: 0,\n                    transition: {\n                        duration: 0.8,\n                        ease: \"easeIn\"\n                    }\n                }\n            },\n            spiralOutward: {\n                hidden: {\n                    scale: 2,\n                    opacity: 0\n                },\n                visible: {\n                    scale: 1,\n                    opacity: 1,\n                    transition: {\n                        duration: 1.0,\n                        ease: \"easeOut\",\n                        scale: {\n                            type: \"spring\",\n                            stiffness: 100,\n                            damping: 20\n                        }\n                    }\n                },\n                exit: {\n                    scale: 2,\n                    opacity: 0,\n                    transition: {\n                        duration: 0.8,\n                        ease: \"easeIn\"\n                    }\n                }\n            },\n            scatterIn: {\n                hidden: {\n                    scale: 0.3,\n                    x: Math.random() * 400 - 200,\n                    y: Math.random() * 400 - 200,\n                    opacity: 0\n                },\n                visible: {\n                    scale: 1,\n                    x: 0,\n                    y: 0,\n                    opacity: 1,\n                    transition: {\n                        duration: 1.0,\n                        ease: \"easeOut\"\n                    }\n                },\n                exit: {\n                    scale: 0.3,\n                    x: Math.random() * 400 - 200,\n                    y: Math.random() * 400 - 200,\n                    opacity: 0,\n                    transition: {\n                        duration: 0.7,\n                        ease: \"easeIn\"\n                    }\n                }\n            },\n            waveIn: {\n                hidden: {\n                    y: viewportHeight,\n                    opacity: 0,\n                    skewY: 10\n                },\n                visible: {\n                    y: 0,\n                    opacity: 1,\n                    skewY: 0,\n                    transition: {\n                        duration: 1.0,\n                        ease: \"easeOut\",\n                        y: {\n                            type: \"spring\",\n                            stiffness: 100,\n                            damping: 15\n                        }\n                    }\n                },\n                exit: {\n                    y: -viewportHeight,\n                    opacity: 0,\n                    skewY: -10,\n                    transition: {\n                        duration: 0.8,\n                        ease: \"easeIn\"\n                    }\n                }\n            }\n        };\n        return variants[animationType] || variants.slideFromLeft;\n    }\n    // Clicked Tile Animation - Tile wchst und verblasst\n    getClickedTileVariants() {\n        return {\n            normal: {\n                scale: 1,\n                opacity: 1,\n                transition: {\n                    duration: 0.2\n                }\n            },\n            clicked: {\n                scale: 1.2,\n                opacity: 0,\n                transition: {\n                    duration: 1.8,\n                    ease: \"easeInOut\",\n                    scale: {\n                        duration: 0.6\n                    },\n                    opacity: {\n                        delay: 1.2,\n                        duration: 0.6\n                    }\n                }\n            }\n        };\n    }\n    // Fly-Out Animationen fr einzelne Tiles (nicht geklickte)\n    getFlyOutTileVariants(direction) {\n        const viewportWidth =  false ? 0 : 1200;\n        const viewportHeight =  false ? 0 : 800;\n        const directions = {\n            \"down\": {\n                x: 0,\n                y: viewportHeight,\n                opacity: 0\n            },\n            \"up\": {\n                x: 0,\n                y: -viewportHeight,\n                opacity: 0\n            },\n            \"left\": {\n                x: -viewportWidth,\n                y: 0,\n                opacity: 0\n            },\n            \"right\": {\n                x: viewportWidth,\n                y: 0,\n                opacity: 0\n            },\n            \"up-left\": {\n                x: -viewportWidth,\n                y: -viewportHeight,\n                opacity: 0\n            },\n            \"up-right\": {\n                x: viewportWidth,\n                y: -viewportHeight,\n                opacity: 0\n            },\n            \"down-left\": {\n                x: -viewportWidth,\n                y: viewportHeight,\n                opacity: 0\n            },\n            \"down-right\": {\n                x: viewportWidth,\n                y: viewportHeight,\n                opacity: 0\n            }\n        };\n        return {\n            normal: {\n                x: 0,\n                y: 0,\n                opacity: 1,\n                scale: 1,\n                transition: {\n                    duration: 0.2\n                }\n            },\n            flyOut: {\n                ...directions[direction] || directions[\"down\"],\n                scale: 0.8,\n                transition: {\n                    duration: 1.8,\n                    ease: \"easeIn\"\n                }\n            }\n        };\n    }\n    // Choreographierte Tile-Delays fr gestaffelte Animationen\n    getTileDelay(index, totalTiles, animationType) {\n        switch(animationType){\n            case \"waveIn\":\n                return index * 100; // Welleneffekt\n            case \"spiralInward\":\n            case \"spiralOutward\":\n                return index * 150; // Spiral-Staffelung\n            case \"scatterIn\":\n                return Math.random() * 500; // Zufllige Streuung\n            default:\n                return index * 80; // Standard-Staffelung\n        }\n    }\n}\n// Singleton Export\nconst animationManager = new AnimationManager();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LG1CQUFtQixJQUFJdEQsbUJBQW1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va2luZGVybGV4aWtvbi8uL3V0aWxzL2FuaW1hdGlvbk1hbmFnZXIuanM/ZTIzNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBaZW50cmFsZXIgQW5pbWF0aW9uIE1hbmFnZXIgZsO8ciBjaG9yZW9ncmFwaGllcnRlIFRpbGUtQW5pbWF0aW9uZW5cblxuZXhwb3J0IGNsYXNzIEFuaW1hdGlvbk1hbmFnZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmFuaW1hdGlvblR5cGVzID0gW1xuICAgICAgJ3NsaWRlRnJvbUxlZnQnLFxuICAgICAgJ3NsaWRlRnJvbVJpZ2h0JywgXG4gICAgICAnc2xpZGVGcm9tVG9wJyxcbiAgICAgICdzbGlkZUZyb21Cb3R0b20nLFxuICAgICAgJ3NsaWRlRnJvbVRvcExlZnQnLFxuICAgICAgJ3NsaWRlRnJvbVRvcFJpZ2h0JyxcbiAgICAgICdzbGlkZUZyb21Cb3R0b21MZWZ0JyxcbiAgICAgICdzbGlkZUZyb21Cb3R0b21SaWdodCcsXG4gICAgICAnc3BpcmFsSW53YXJkJyxcbiAgICAgICdzcGlyYWxPdXR3YXJkJyxcbiAgICAgICdzY2F0dGVySW4nLFxuICAgICAgJ3dhdmVJbidcbiAgICBdO1xuICB9XG5cbiAgLy8gWnVmw6RsbGlnZSBBbmltYXRpb24gZsO8ciBkYXMgZ2VzYW10ZSBHcmlkIHfDpGhsZW5cbiAgZ2V0UmFuZG9tR3JpZEFuaW1hdGlvbigpIHtcbiAgICBjb25zdCByYW5kb21JbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMuYW5pbWF0aW9uVHlwZXMubGVuZ3RoKTtcbiAgICByZXR1cm4gdGhpcy5hbmltYXRpb25UeXBlc1tyYW5kb21JbmRleF07XG4gIH1cblxuICAvLyBBbmltYXRpb24tVmFyaWFudGVuIGbDvHIgRnJhbWVyIE1vdGlvbiBkZWZpbmllcmVuXG4gIGdldEdyaWRWYXJpYW50cyhhbmltYXRpb25UeXBlKSB7XG4gICAgY29uc3Qgdmlld3BvcnRXaWR0aCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93LmlubmVyV2lkdGggOiAxMjAwO1xuICAgIGNvbnN0IHZpZXdwb3J0SGVpZ2h0ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cuaW5uZXJIZWlnaHQgOiA4MDA7XG5cbiAgICBjb25zdCB2YXJpYW50cyA9IHtcbiAgICAgIC8vIEVpbmZhY2hlIFJpY2h0dW5nZW5cbiAgICAgIHNsaWRlRnJvbUxlZnQ6IHtcbiAgICAgICAgaGlkZGVuOiB7IHg6IC12aWV3cG9ydFdpZHRoLCBvcGFjaXR5OiAwIH0sXG4gICAgICAgIHZpc2libGU6IHsgeDogMCwgb3BhY2l0eTogMSwgdHJhbnNpdGlvbjogeyBkdXJhdGlvbjogMC44LCBlYXNlOiBcImVhc2VPdXRcIiB9IH0sXG4gICAgICAgIGV4aXQ6IHsgeDogLXZpZXdwb3J0V2lkdGgsIG9wYWNpdHk6IDAsIHRyYW5zaXRpb246IHsgZHVyYXRpb246IDAuNiwgZWFzZTogXCJlYXNlSW5cIiB9IH1cbiAgICAgIH0sXG4gICAgICBzbGlkZUZyb21SaWdodDoge1xuICAgICAgICBoaWRkZW46IHsgeDogdmlld3BvcnRXaWR0aCwgb3BhY2l0eTogMCB9LFxuICAgICAgICB2aXNpYmxlOiB7IHg6IDAsIG9wYWNpdHk6IDEsIHRyYW5zaXRpb246IHsgZHVyYXRpb246IDAuOCwgZWFzZTogXCJlYXNlT3V0XCIgfSB9LFxuICAgICAgICBleGl0OiB7IHg6IHZpZXdwb3J0V2lkdGgsIG9wYWNpdHk6IDAsIHRyYW5zaXRpb246IHsgZHVyYXRpb246IDAuNiwgZWFzZTogXCJlYXNlSW5cIiB9IH1cbiAgICAgIH0sXG4gICAgICBzbGlkZUZyb21Ub3A6IHtcbiAgICAgICAgaGlkZGVuOiB7IHk6IC12aWV3cG9ydEhlaWdodCwgb3BhY2l0eTogMCB9LFxuICAgICAgICB2aXNpYmxlOiB7IHk6IDAsIG9wYWNpdHk6IDEsIHRyYW5zaXRpb246IHsgZHVyYXRpb246IDAuOCwgZWFzZTogXCJlYXNlT3V0XCIgfSB9LFxuICAgICAgICBleGl0OiB7IHk6IC12aWV3cG9ydEhlaWdodCwgb3BhY2l0eTogMCwgdHJhbnNpdGlvbjogeyBkdXJhdGlvbjogMC42LCBlYXNlOiBcImVhc2VJblwiIH0gfVxuICAgICAgfSxcbiAgICAgIHNsaWRlRnJvbUJvdHRvbToge1xuICAgICAgICBoaWRkZW46IHsgeTogdmlld3BvcnRIZWlnaHQsIG9wYWNpdHk6IDAgfSxcbiAgICAgICAgdmlzaWJsZTogeyB5OiAwLCBvcGFjaXR5OiAxLCB0cmFuc2l0aW9uOiB7IGR1cmF0aW9uOiAwLjgsIGVhc2U6IFwiZWFzZU91dFwiIH0gfSxcbiAgICAgICAgZXhpdDogeyB5OiB2aWV3cG9ydEhlaWdodCwgb3BhY2l0eTogMCwgdHJhbnNpdGlvbjogeyBkdXJhdGlvbjogMC42LCBlYXNlOiBcImVhc2VJblwiIH0gfVxuICAgICAgfSxcblxuICAgICAgLy8gRGlhZ29uYWxlIEFuaW1hdGlvbmVuXG4gICAgICBzbGlkZUZyb21Ub3BMZWZ0OiB7XG4gICAgICAgIGhpZGRlbjogeyB4OiAtdmlld3BvcnRXaWR0aCwgeTogLXZpZXdwb3J0SGVpZ2h0LCBvcGFjaXR5OiAwIH0sXG4gICAgICAgIHZpc2libGU6IHsgeDogMCwgeTogMCwgb3BhY2l0eTogMSwgdHJhbnNpdGlvbjogeyBkdXJhdGlvbjogMC45LCBlYXNlOiBcImVhc2VPdXRcIiB9IH0sXG4gICAgICAgIGV4aXQ6IHsgeDogLXZpZXdwb3J0V2lkdGgsIHk6IC12aWV3cG9ydEhlaWdodCwgb3BhY2l0eTogMCwgdHJhbnNpdGlvbjogeyBkdXJhdGlvbjogMC43LCBlYXNlOiBcImVhc2VJblwiIH0gfVxuICAgICAgfSxcbiAgICAgIHNsaWRlRnJvbVRvcFJpZ2h0OiB7XG4gICAgICAgIGhpZGRlbjogeyB4OiB2aWV3cG9ydFdpZHRoLCB5OiAtdmlld3BvcnRIZWlnaHQsIG9wYWNpdHk6IDAgfSxcbiAgICAgICAgdmlzaWJsZTogeyB4OiAwLCB5OiAwLCBvcGFjaXR5OiAxLCB0cmFuc2l0aW9uOiB7IGR1cmF0aW9uOiAwLjksIGVhc2U6IFwiZWFzZU91dFwiIH0gfSxcbiAgICAgICAgZXhpdDogeyB4OiB2aWV3cG9ydFdpZHRoLCB5OiAtdmlld3BvcnRIZWlnaHQsIG9wYWNpdHk6IDAsIHRyYW5zaXRpb246IHsgZHVyYXRpb246IDAuNywgZWFzZTogXCJlYXNlSW5cIiB9IH1cbiAgICAgIH0sXG4gICAgICBzbGlkZUZyb21Cb3R0b21MZWZ0OiB7XG4gICAgICAgIGhpZGRlbjogeyB4OiAtdmlld3BvcnRXaWR0aCwgeTogdmlld3BvcnRIZWlnaHQsIG9wYWNpdHk6IDAgfSxcbiAgICAgICAgdmlzaWJsZTogeyB4OiAwLCB5OiAwLCBvcGFjaXR5OiAxLCB0cmFuc2l0aW9uOiB7IGR1cmF0aW9uOiAwLjksIGVhc2U6IFwiZWFzZU91dFwiIH0gfSxcbiAgICAgICAgZXhpdDogeyB4OiAtdmlld3BvcnRXaWR0aCwgeTogdmlld3BvcnRIZWlnaHQsIG9wYWNpdHk6IDAsIHRyYW5zaXRpb246IHsgZHVyYXRpb246IDAuNywgZWFzZTogXCJlYXNlSW5cIiB9IH1cbiAgICAgIH0sXG4gICAgICBzbGlkZUZyb21Cb3R0b21SaWdodDoge1xuICAgICAgICBoaWRkZW46IHsgeDogdmlld3BvcnRXaWR0aCwgeTogdmlld3BvcnRIZWlnaHQsIG9wYWNpdHk6IDAgfSxcbiAgICAgICAgdmlzaWJsZTogeyB4OiAwLCB5OiAwLCBvcGFjaXR5OiAxLCB0cmFuc2l0aW9uOiB7IGR1cmF0aW9uOiAwLjksIGVhc2U6IFwiZWFzZU91dFwiIH0gfSxcbiAgICAgICAgZXhpdDogeyB4OiB2aWV3cG9ydFdpZHRoLCB5OiB2aWV3cG9ydEhlaWdodCwgb3BhY2l0eTogMCwgdHJhbnNpdGlvbjogeyBkdXJhdGlvbjogMC43LCBlYXNlOiBcImVhc2VJblwiIH0gfVxuICAgICAgfSxcblxuICAgICAgLy8gU3BlemlhbC1BbmltYXRpb25lbiBvaG5lIFJvdGF0aW9uXG4gICAgICBzcGlyYWxJbndhcmQ6IHtcbiAgICAgICAgaGlkZGVuOiB7IHNjYWxlOiAwLCBvcGFjaXR5OiAwIH0sXG4gICAgICAgIHZpc2libGU6IHsgXG4gICAgICAgICAgc2NhbGU6IDEsIFxuICAgICAgICAgIG9wYWNpdHk6IDEsIFxuICAgICAgICAgIHRyYW5zaXRpb246IHsgXG4gICAgICAgICAgICBkdXJhdGlvbjogMS4wLCBcbiAgICAgICAgICAgIGVhc2U6IFwiZWFzZU91dFwiLFxuICAgICAgICAgICAgc2NhbGU6IHsgdHlwZTogXCJzcHJpbmdcIiwgc3RpZmZuZXNzOiA4MCwgZGFtcGluZzogMTUgfVxuICAgICAgICAgIH0gXG4gICAgICAgIH0sXG4gICAgICAgIGV4aXQ6IHsgXG4gICAgICAgICAgc2NhbGU6IDAsIFxuICAgICAgICAgIG9wYWNpdHk6IDAsIFxuICAgICAgICAgIHRyYW5zaXRpb246IHsgXG4gICAgICAgICAgICBkdXJhdGlvbjogMC44LCBcbiAgICAgICAgICAgIGVhc2U6IFwiZWFzZUluXCIgXG4gICAgICAgICAgfSBcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHNwaXJhbE91dHdhcmQ6IHtcbiAgICAgICAgaGlkZGVuOiB7IHNjYWxlOiAyLCBvcGFjaXR5OiAwIH0sXG4gICAgICAgIHZpc2libGU6IHsgXG4gICAgICAgICAgc2NhbGU6IDEsIFxuICAgICAgICAgIG9wYWNpdHk6IDEsIFxuICAgICAgICAgIHRyYW5zaXRpb246IHsgXG4gICAgICAgICAgICBkdXJhdGlvbjogMS4wLCBcbiAgICAgICAgICAgIGVhc2U6IFwiZWFzZU91dFwiLFxuICAgICAgICAgICAgc2NhbGU6IHsgdHlwZTogXCJzcHJpbmdcIiwgc3RpZmZuZXNzOiAxMDAsIGRhbXBpbmc6IDIwIH1cbiAgICAgICAgICB9IFxuICAgICAgICB9LFxuICAgICAgICBleGl0OiB7IFxuICAgICAgICAgIHNjYWxlOiAyLCBcbiAgICAgICAgICBvcGFjaXR5OiAwLCBcbiAgICAgICAgICB0cmFuc2l0aW9uOiB7IFxuICAgICAgICAgICAgZHVyYXRpb246IDAuOCwgXG4gICAgICAgICAgICBlYXNlOiBcImVhc2VJblwiIFxuICAgICAgICAgIH0gXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzY2F0dGVySW46IHtcbiAgICAgICAgaGlkZGVuOiB7IHNjYWxlOiAwLjMsIHg6IE1hdGgucmFuZG9tKCkgKiA0MDAgLSAyMDAsIHk6IE1hdGgucmFuZG9tKCkgKiA0MDAgLSAyMDAsIG9wYWNpdHk6IDAgfSxcbiAgICAgICAgdmlzaWJsZTogeyBcbiAgICAgICAgICBzY2FsZTogMSwgXG4gICAgICAgICAgeDogMCwgXG4gICAgICAgICAgeTogMCwgXG4gICAgICAgICAgb3BhY2l0eTogMSwgXG4gICAgICAgICAgdHJhbnNpdGlvbjogeyBcbiAgICAgICAgICAgIGR1cmF0aW9uOiAxLjAsIFxuICAgICAgICAgICAgZWFzZTogXCJlYXNlT3V0XCIgXG4gICAgICAgICAgfSBcbiAgICAgICAgfSxcbiAgICAgICAgZXhpdDogeyBcbiAgICAgICAgICBzY2FsZTogMC4zLCBcbiAgICAgICAgICB4OiBNYXRoLnJhbmRvbSgpICogNDAwIC0gMjAwLCBcbiAgICAgICAgICB5OiBNYXRoLnJhbmRvbSgpICogNDAwIC0gMjAwLCBcbiAgICAgICAgICBvcGFjaXR5OiAwLCBcbiAgICAgICAgICB0cmFuc2l0aW9uOiB7IFxuICAgICAgICAgICAgZHVyYXRpb246IDAuNywgXG4gICAgICAgICAgICBlYXNlOiBcImVhc2VJblwiIFxuICAgICAgICAgIH0gXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB3YXZlSW46IHtcbiAgICAgICAgaGlkZGVuOiB7IHk6IHZpZXdwb3J0SGVpZ2h0LCBvcGFjaXR5OiAwLCBza2V3WTogMTAgfSxcbiAgICAgICAgdmlzaWJsZTogeyBcbiAgICAgICAgICB5OiAwLCBcbiAgICAgICAgICBvcGFjaXR5OiAxLCBcbiAgICAgICAgICBza2V3WTogMCxcbiAgICAgICAgICB0cmFuc2l0aW9uOiB7IFxuICAgICAgICAgICAgZHVyYXRpb246IDEuMCwgXG4gICAgICAgICAgICBlYXNlOiBcImVhc2VPdXRcIixcbiAgICAgICAgICAgIHk6IHsgdHlwZTogXCJzcHJpbmdcIiwgc3RpZmZuZXNzOiAxMDAsIGRhbXBpbmc6IDE1IH1cbiAgICAgICAgICB9IFxuICAgICAgICB9LFxuICAgICAgICBleGl0OiB7IFxuICAgICAgICAgIHk6IC12aWV3cG9ydEhlaWdodCwgXG4gICAgICAgICAgb3BhY2l0eTogMCwgXG4gICAgICAgICAgc2tld1k6IC0xMCxcbiAgICAgICAgICB0cmFuc2l0aW9uOiB7IFxuICAgICAgICAgICAgZHVyYXRpb246IDAuOCwgXG4gICAgICAgICAgICBlYXNlOiBcImVhc2VJblwiIFxuICAgICAgICAgIH0gXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIHZhcmlhbnRzW2FuaW1hdGlvblR5cGVdIHx8IHZhcmlhbnRzLnNsaWRlRnJvbUxlZnQ7XG4gIH1cblxuICAvLyBDbGlja2VkIFRpbGUgQW5pbWF0aW9uIC0gVGlsZSB3w6RjaHN0IHVuZCB2ZXJibGFzc3RcbiAgZ2V0Q2xpY2tlZFRpbGVWYXJpYW50cygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbm9ybWFsOiB7XG4gICAgICAgIHNjYWxlOiAxLFxuICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICB0cmFuc2l0aW9uOiB7IGR1cmF0aW9uOiAwLjIgfVxuICAgICAgfSxcbiAgICAgIGNsaWNrZWQ6IHtcbiAgICAgICAgc2NhbGU6IDEuMixcbiAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgdHJhbnNpdGlvbjogeyBcbiAgICAgICAgICBkdXJhdGlvbjogMS44LFxuICAgICAgICAgIGVhc2U6IFwiZWFzZUluT3V0XCIsXG4gICAgICAgICAgc2NhbGU6IHsgZHVyYXRpb246IDAuNiB9LFxuICAgICAgICAgIG9wYWNpdHk6IHsgZGVsYXk6IDEuMiwgZHVyYXRpb246IDAuNiB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gRmx5LU91dCBBbmltYXRpb25lbiBmw7xyIGVpbnplbG5lIFRpbGVzIChuaWNodCBnZWtsaWNrdGUpXG4gIGdldEZseU91dFRpbGVWYXJpYW50cyhkaXJlY3Rpb24pIHtcbiAgICBjb25zdCB2aWV3cG9ydFdpZHRoID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cuaW5uZXJXaWR0aCA6IDEyMDA7XG4gICAgY29uc3Qgdmlld3BvcnRIZWlnaHQgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdy5pbm5lckhlaWdodCA6IDgwMDtcblxuICAgIGNvbnN0IGRpcmVjdGlvbnMgPSB7XG4gICAgICAnZG93bic6IHsgeDogMCwgeTogdmlld3BvcnRIZWlnaHQsIG9wYWNpdHk6IDAgfSxcbiAgICAgICd1cCc6IHsgeDogMCwgeTogLXZpZXdwb3J0SGVpZ2h0LCBvcGFjaXR5OiAwIH0sXG4gICAgICAnbGVmdCc6IHsgeDogLXZpZXdwb3J0V2lkdGgsIHk6IDAsIG9wYWNpdHk6IDAgfSxcbiAgICAgICdyaWdodCc6IHsgeDogdmlld3BvcnRXaWR0aCwgeTogMCwgb3BhY2l0eTogMCB9LFxuICAgICAgJ3VwLWxlZnQnOiB7IHg6IC12aWV3cG9ydFdpZHRoLCB5OiAtdmlld3BvcnRIZWlnaHQsIG9wYWNpdHk6IDAgfSxcbiAgICAgICd1cC1yaWdodCc6IHsgeDogdmlld3BvcnRXaWR0aCwgeTogLXZpZXdwb3J0SGVpZ2h0LCBvcGFjaXR5OiAwIH0sXG4gICAgICAnZG93bi1sZWZ0JzogeyB4OiAtdmlld3BvcnRXaWR0aCwgeTogdmlld3BvcnRIZWlnaHQsIG9wYWNpdHk6IDAgfSxcbiAgICAgICdkb3duLXJpZ2h0JzogeyB4OiB2aWV3cG9ydFdpZHRoLCB5OiB2aWV3cG9ydEhlaWdodCwgb3BhY2l0eTogMCB9XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICBub3JtYWw6IHtcbiAgICAgICAgeDogMCxcbiAgICAgICAgeTogMCxcbiAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgc2NhbGU6IDEsXG4gICAgICAgIHRyYW5zaXRpb246IHsgZHVyYXRpb246IDAuMiB9XG4gICAgICB9LFxuICAgICAgZmx5T3V0OiB7XG4gICAgICAgIC4uLmRpcmVjdGlvbnNbZGlyZWN0aW9uXSB8fCBkaXJlY3Rpb25zWydkb3duJ10sXG4gICAgICAgIHNjYWxlOiAwLjgsXG4gICAgICAgIHRyYW5zaXRpb246IHsgXG4gICAgICAgICAgZHVyYXRpb246IDEuOCxcbiAgICAgICAgICBlYXNlOiBcImVhc2VJblwiXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gQ2hvcmVvZ3JhcGhpZXJ0ZSBUaWxlLURlbGF5cyBmw7xyIGdlc3RhZmZlbHRlIEFuaW1hdGlvbmVuXG4gIGdldFRpbGVEZWxheShpbmRleCwgdG90YWxUaWxlcywgYW5pbWF0aW9uVHlwZSkge1xuICAgIHN3aXRjaCAoYW5pbWF0aW9uVHlwZSkge1xuICAgICAgY2FzZSAnd2F2ZUluJzpcbiAgICAgICAgcmV0dXJuIGluZGV4ICogMTAwOyAvLyBXZWxsZW5lZmZla3RcbiAgICAgIGNhc2UgJ3NwaXJhbElud2FyZCc6XG4gICAgICBjYXNlICdzcGlyYWxPdXR3YXJkJzpcbiAgICAgICAgcmV0dXJuIGluZGV4ICogMTUwOyAvLyBTcGlyYWwtU3RhZmZlbHVuZ1xuICAgICAgY2FzZSAnc2NhdHRlckluJzpcbiAgICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiA1MDA7IC8vIFp1ZsOkbGxpZ2UgU3RyZXV1bmdcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBpbmRleCAqIDgwOyAvLyBTdGFuZGFyZC1TdGFmZmVsdW5nXG4gICAgfVxuICB9XG59XG5cbi8vIFNpbmdsZXRvbiBFeHBvcnRcbmV4cG9ydCBjb25zdCBhbmltYXRpb25NYW5hZ2VyID0gbmV3IEFuaW1hdGlvbk1hbmFnZXIoKTsgIl0sIm5hbWVzIjpbIkFuaW1hdGlvbk1hbmFnZXIiLCJjb25zdHJ1Y3RvciIsImFuaW1hdGlvblR5cGVzIiwiZ2V0UmFuZG9tR3JpZEFuaW1hdGlvbiIsInJhbmRvbUluZGV4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwibGVuZ3RoIiwiZ2V0R3JpZFZhcmlhbnRzIiwiYW5pbWF0aW9uVHlwZSIsInZpZXdwb3J0V2lkdGgiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwidmlld3BvcnRIZWlnaHQiLCJpbm5lckhlaWdodCIsInZhcmlhbnRzIiwic2xpZGVGcm9tTGVmdCIsImhpZGRlbiIsIngiLCJvcGFjaXR5IiwidmlzaWJsZSIsInRyYW5zaXRpb24iLCJkdXJhdGlvbiIsImVhc2UiLCJleGl0Iiwic2xpZGVGcm9tUmlnaHQiLCJzbGlkZUZyb21Ub3AiLCJ5Iiwic2xpZGVGcm9tQm90dG9tIiwic2xpZGVGcm9tVG9wTGVmdCIsInNsaWRlRnJvbVRvcFJpZ2h0Iiwic2xpZGVGcm9tQm90dG9tTGVmdCIsInNsaWRlRnJvbUJvdHRvbVJpZ2h0Iiwic3BpcmFsSW53YXJkIiwic2NhbGUiLCJ0eXBlIiwic3RpZmZuZXNzIiwiZGFtcGluZyIsInNwaXJhbE91dHdhcmQiLCJzY2F0dGVySW4iLCJ3YXZlSW4iLCJza2V3WSIsImdldENsaWNrZWRUaWxlVmFyaWFudHMiLCJub3JtYWwiLCJjbGlja2VkIiwiZGVsYXkiLCJnZXRGbHlPdXRUaWxlVmFyaWFudHMiLCJkaXJlY3Rpb24iLCJkaXJlY3Rpb25zIiwiZmx5T3V0IiwiZ2V0VGlsZURlbGF5IiwiaW5kZXgiLCJ0b3RhbFRpbGVzIiwiYW5pbWF0aW9uTWFuYWdlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./utils/animationManager.js\n");

/***/ }),

/***/ "./utils/assetCache.js":
/*!*****************************!*\
  !*** ./utils/assetCache.js ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearCachedAsset: () => (/* binding */ clearCachedAsset),\n/* harmony export */   extractAllReferencedAssetUrls: () => (/* binding */ extractAllReferencedAssetUrls),\n/* harmony export */   getCachedAsset: () => (/* binding */ getCachedAsset),\n/* harmony export */   getCachedJson: () => (/* binding */ getCachedJson),\n/* harmony export */   getOfflineAssetFileList: () => (/* binding */ getOfflineAssetFileList)\n/* harmony export */ });\n/* harmony import */ var idb_keyval__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! idb-keyval */ \"idb-keyval\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([idb_keyval__WEBPACK_IMPORTED_MODULE_0__]);\nidb_keyval__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nfunction getCacheKey(url, version = \"\") {\n    return `assetcache_${url}_${version}`;\n}\n/**\r\n * Fetches an asset (image, audio, etc.) from cache or downloads and stores it as a Base64 string.\r\n * @param {string} url - The asset URL.\r\n * @param {string} version - Optional version string for cache busting.\r\n * @returns {Promise<string>} - Base64 string of the asset.\r\n */ async function getCachedAsset(url, version = \"\") {\n    if (!url || url === \"null\" || url === \"/null\") return null;\n    const cacheKey = getCacheKey(url, version);\n    try {\n        const cached = await (0,idb_keyval__WEBPACK_IMPORTED_MODULE_0__.get)(cacheKey);\n        if (cached) return cached;\n    } catch (e) {\n        console.warn(\"AssetCache: IndexedDB not available\", e);\n    }\n    // Fetch and cache asset as Base64\n    const response = await fetch(url);\n    if (!response.ok) throw new Error(\"Asset download failed: \" + url);\n    const blob = await response.blob();\n    const base64 = await new Promise((resolve, reject)=>{\n        const reader = new FileReader();\n        reader.onloadend = ()=>resolve(reader.result);\n        reader.onerror = reject;\n        reader.readAsDataURL(blob);\n    });\n    try {\n        await (0,idb_keyval__WEBPACK_IMPORTED_MODULE_0__.set)(cacheKey, base64);\n    } catch (e) {\n        console.warn(\"AssetCache: IndexedDB full or error, cannot cache asset\", e);\n    }\n    return base64;\n}\n/**\r\n * Removes a cached asset from IndexedDB.\r\n * @param {string} url - The asset URL.\r\n * @param {string} version - Optional version string for cache busting.\r\n */ async function clearCachedAsset(url, version = \"\") {\n    const cacheKey = getCacheKey(url, version);\n    await (0,idb_keyval__WEBPACK_IMPORTED_MODULE_0__.del)(cacheKey);\n}\n/**\r\n * Fetches a JSON file from cache or downloads and stores it as a string.\r\n * @param {string} url - The JSON URL.\r\n * @param {string} version - Optional version string for cache busting.\r\n * @returns {Promise<any>} - Parsed JSON object.\r\n */ async function getCachedJson(url, version = \"\") {\n    const cacheKey = getCacheKey(url, version) + \"_json\";\n    try {\n        const cached = await (0,idb_keyval__WEBPACK_IMPORTED_MODULE_0__.get)(cacheKey);\n        if (cached) return JSON.parse(cached);\n    } catch (e) {\n        console.warn(\"AssetCache: IndexedDB not available\", e);\n    }\n    // Fetch and cache JSON as text\n    const response = await fetch(url);\n    if (!response.ok) throw new Error(\"JSON download failed: \" + url);\n    const text = await response.text();\n    try {\n        await (0,idb_keyval__WEBPACK_IMPORTED_MODULE_0__.set)(cacheKey, text);\n    } catch (e) {\n        console.warn(\"AssetCache: IndexedDB full or error, cannot cache JSON\", e);\n    }\n    return JSON.parse(text);\n}\n/**\r\n * Extracts all referenced image and audio asset URLs from category and animal data.\r\n * @param {object} categoryData - The main category JSON (with subcategories).\r\n * @param {object} animalData - The animal entries JSON (with tiere array).\r\n * @returns {string[]} Array of asset URLs (relative to public/)\r\n */ function extractAllReferencedAssetUrls(categoryData, animalData) {\n    const urls = new Set();\n    // Main category image/audio\n    if (categoryData.image && categoryData.image.path) urls.add(categoryData.image.path);\n    if (categoryData.audio && categoryData.audio.path) urls.add(categoryData.audio.path);\n    // Subcategories\n    if (Array.isArray(categoryData.subcategories)) {\n        for (const sub of categoryData.subcategories){\n            if (sub.image && sub.image.path) urls.add(sub.image.path);\n            if (sub.audio && sub.audio.path) urls.add(sub.audio.path);\n        }\n    }\n    // Animals\n    if (animalData && Array.isArray(animalData.tiere)) {\n        for (const animal of animalData.tiere){\n            if (animal.image && animal.image.path) urls.add(animal.image.path);\n            if (animal.audio && animal.audio.path) urls.add(animal.audio.path);\n        }\n    }\n    // Return as array, prefix with '/' for fetch\n    return Array.from(urls).map((path)=>path.startsWith(\"/\") ? path : \"/\" + path);\n}\n/**\r\n * Fetches the list of all files to be downloaded for offline use.\r\n * @returns {Promise<string[]>} Array of asset URLs (relative to public/)\r\n */ async function getOfflineAssetFileList() {\n    const res = await fetch(\"/offlineAssetFileList.json\");\n    if (!res.ok) throw new Error(\"Failed to fetch offline asset file list\");\n    return await res.json();\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1FBQzdDLEtBQUssTUFBTUMsT0FBT1gsYUFBYVUsYUFBYSxDQUFFO1lBQzVDLElBQUlDLElBQUlQLEtBQUssSUFBSU8sSUFBSVAsS0FBSyxDQUFDQyxJQUFJLEVBQUVILEtBQUtJLEdBQUcsQ0FBQ0ssSUFBSVAsS0FBSyxDQUFDQyxJQUFJO1lBQ3hELElBQUlNLElBQUlKLEtBQUssSUFBSUksSUFBSUosS0FBSyxDQUFDRixJQUFJLEVBQUVILEtBQUtJLEdBQUcsQ0FBQ0ssSUFBSUosS0FBSyxDQUFDRixJQUFJO1FBQzFEO0lBQ0Y7SUFFQSxVQUFVO0lBQ1YsSUFBSUosY0FBY08sTUFBTUMsT0FBTyxDQUFDUixXQUFXVyxLQUFLLEdBQUc7UUFDakQsS0FBSyxNQUFNQyxVQUFVWixXQUFXVyxLQUFLLENBQUU7WUFDckMsSUFBSUMsT0FBT1QsS0FBSyxJQUFJUyxPQUFPVCxLQUFLLENBQUNDLElBQUksRUFBRUgsS0FBS0ksR0FBRyxDQUFDTyxPQUFPVCxLQUFLLENBQUNDLElBQUk7WUFDakUsSUFBSVEsT0FBT04sS0FBSyxJQUFJTSxPQUFPTixLQUFLLENBQUNGLElBQUksRUFBRUgsS0FBS0ksR0FBRyxDQUFDTyxPQUFPTixLQUFLLENBQUNGLElBQUk7UUFDbkU7SUFDRjtJQUVBLDZDQUE2QztJQUM3QyxPQUFPRyxNQUFNTSxJQUFJLENBQUNaLE1BQU1hLEdBQUcsQ0FBQ1YsQ0FBQUEsT0FBUUEsS0FBS1csVUFBVSxDQUFDLE9BQU9YLE9BQU8sTUFBTUE7QUFDMUU7QUFFQTs7O0NBR0MsR0FDTSxlQUFlWTtJQUNwQixNQUFNQyxNQUFNLE1BQU10QyxNQUFNO0lBQ3hCLElBQUksQ0FBQ3NDLElBQUlyQyxFQUFFLEVBQUUsTUFBTSxJQUFJQyxNQUFNO0lBQzdCLE9BQU8sTUFBTW9DLElBQUlDLElBQUk7QUFDdkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9raW5kZXJsZXhpa29uLy4vdXRpbHMvYXNzZXRDYWNoZS5qcz84YWE0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNldCwgZ2V0LCBkZWwgfSBmcm9tICdpZGIta2V5dmFsJztcclxuXHJcbmZ1bmN0aW9uIGdldENhY2hlS2V5KHVybCwgdmVyc2lvbiA9ICcnKSB7XHJcbiAgcmV0dXJuIGBhc3NldGNhY2hlXyR7dXJsfV8ke3ZlcnNpb259YDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEZldGNoZXMgYW4gYXNzZXQgKGltYWdlLCBhdWRpbywgZXRjLikgZnJvbSBjYWNoZSBvciBkb3dubG9hZHMgYW5kIHN0b3JlcyBpdCBhcyBhIEJhc2U2NCBzdHJpbmcuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgYXNzZXQgVVJMLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdmVyc2lvbiAtIE9wdGlvbmFsIHZlcnNpb24gc3RyaW5nIGZvciBjYWNoZSBidXN0aW5nLlxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSAtIEJhc2U2NCBzdHJpbmcgb2YgdGhlIGFzc2V0LlxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENhY2hlZEFzc2V0KHVybCwgdmVyc2lvbiA9ICcnKSB7XHJcbiAgaWYgKCF1cmwgfHwgdXJsID09PSAnbnVsbCcgfHwgdXJsID09PSAnL251bGwnKSByZXR1cm4gbnVsbDtcclxuICBjb25zdCBjYWNoZUtleSA9IGdldENhY2hlS2V5KHVybCwgdmVyc2lvbik7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGNhY2hlZCA9IGF3YWl0IGdldChjYWNoZUtleSk7XHJcbiAgICBpZiAoY2FjaGVkKSByZXR1cm4gY2FjaGVkO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIGNvbnNvbGUud2FybignQXNzZXRDYWNoZTogSW5kZXhlZERCIG5vdCBhdmFpbGFibGUnLCBlKTtcclxuICB9XHJcblxyXG4gIC8vIEZldGNoIGFuZCBjYWNoZSBhc3NldCBhcyBCYXNlNjRcclxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCk7XHJcbiAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKCdBc3NldCBkb3dubG9hZCBmYWlsZWQ6ICcgKyB1cmwpO1xyXG4gIGNvbnN0IGJsb2IgPSBhd2FpdCByZXNwb25zZS5ibG9iKCk7XHJcbiAgY29uc3QgYmFzZTY0ID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgIHJlYWRlci5vbmxvYWRlbmQgPSAoKSA9PiByZXNvbHZlKHJlYWRlci5yZXN1bHQpO1xyXG4gICAgcmVhZGVyLm9uZXJyb3IgPSByZWplY3Q7XHJcbiAgICByZWFkZXIucmVhZEFzRGF0YVVSTChibG9iKTtcclxuICB9KTtcclxuXHJcbiAgdHJ5IHtcclxuICAgIGF3YWl0IHNldChjYWNoZUtleSwgYmFzZTY0KTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICBjb25zb2xlLndhcm4oJ0Fzc2V0Q2FjaGU6IEluZGV4ZWREQiBmdWxsIG9yIGVycm9yLCBjYW5ub3QgY2FjaGUgYXNzZXQnLCBlKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBiYXNlNjQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZW1vdmVzIGEgY2FjaGVkIGFzc2V0IGZyb20gSW5kZXhlZERCLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIGFzc2V0IFVSTC5cclxuICogQHBhcmFtIHtzdHJpbmd9IHZlcnNpb24gLSBPcHRpb25hbCB2ZXJzaW9uIHN0cmluZyBmb3IgY2FjaGUgYnVzdGluZy5cclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbGVhckNhY2hlZEFzc2V0KHVybCwgdmVyc2lvbiA9ICcnKSB7XHJcbiAgY29uc3QgY2FjaGVLZXkgPSBnZXRDYWNoZUtleSh1cmwsIHZlcnNpb24pO1xyXG4gIGF3YWl0IGRlbChjYWNoZUtleSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBGZXRjaGVzIGEgSlNPTiBmaWxlIGZyb20gY2FjaGUgb3IgZG93bmxvYWRzIGFuZCBzdG9yZXMgaXQgYXMgYSBzdHJpbmcuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgSlNPTiBVUkwuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB2ZXJzaW9uIC0gT3B0aW9uYWwgdmVyc2lvbiBzdHJpbmcgZm9yIGNhY2hlIGJ1c3RpbmcuXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59IC0gUGFyc2VkIEpTT04gb2JqZWN0LlxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENhY2hlZEpzb24odXJsLCB2ZXJzaW9uID0gJycpIHtcclxuICBjb25zdCBjYWNoZUtleSA9IGdldENhY2hlS2V5KHVybCwgdmVyc2lvbikgKyAnX2pzb24nO1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBjYWNoZWQgPSBhd2FpdCBnZXQoY2FjaGVLZXkpO1xyXG4gICAgaWYgKGNhY2hlZCkgcmV0dXJuIEpTT04ucGFyc2UoY2FjaGVkKTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICBjb25zb2xlLndhcm4oJ0Fzc2V0Q2FjaGU6IEluZGV4ZWREQiBub3QgYXZhaWxhYmxlJywgZSk7XHJcbiAgfVxyXG5cclxuICAvLyBGZXRjaCBhbmQgY2FjaGUgSlNPTiBhcyB0ZXh0XHJcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwpO1xyXG4gIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcignSlNPTiBkb3dubG9hZCBmYWlsZWQ6ICcgKyB1cmwpO1xyXG4gIGNvbnN0IHRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XHJcblxyXG4gIHRyeSB7XHJcbiAgICBhd2FpdCBzZXQoY2FjaGVLZXksIHRleHQpO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIGNvbnNvbGUud2FybignQXNzZXRDYWNoZTogSW5kZXhlZERCIGZ1bGwgb3IgZXJyb3IsIGNhbm5vdCBjYWNoZSBKU09OJywgZSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gSlNPTi5wYXJzZSh0ZXh0KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEV4dHJhY3RzIGFsbCByZWZlcmVuY2VkIGltYWdlIGFuZCBhdWRpbyBhc3NldCBVUkxzIGZyb20gY2F0ZWdvcnkgYW5kIGFuaW1hbCBkYXRhLlxyXG4gKiBAcGFyYW0ge29iamVjdH0gY2F0ZWdvcnlEYXRhIC0gVGhlIG1haW4gY2F0ZWdvcnkgSlNPTiAod2l0aCBzdWJjYXRlZ29yaWVzKS5cclxuICogQHBhcmFtIHtvYmplY3R9IGFuaW1hbERhdGEgLSBUaGUgYW5pbWFsIGVudHJpZXMgSlNPTiAod2l0aCB0aWVyZSBhcnJheSkuXHJcbiAqIEByZXR1cm5zIHtzdHJpbmdbXX0gQXJyYXkgb2YgYXNzZXQgVVJMcyAocmVsYXRpdmUgdG8gcHVibGljLylcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0QWxsUmVmZXJlbmNlZEFzc2V0VXJscyhjYXRlZ29yeURhdGEsIGFuaW1hbERhdGEpIHtcclxuICBjb25zdCB1cmxzID0gbmV3IFNldCgpO1xyXG5cclxuICAvLyBNYWluIGNhdGVnb3J5IGltYWdlL2F1ZGlvXHJcbiAgaWYgKGNhdGVnb3J5RGF0YS5pbWFnZSAmJiBjYXRlZ29yeURhdGEuaW1hZ2UucGF0aCkgdXJscy5hZGQoY2F0ZWdvcnlEYXRhLmltYWdlLnBhdGgpO1xyXG4gIGlmIChjYXRlZ29yeURhdGEuYXVkaW8gJiYgY2F0ZWdvcnlEYXRhLmF1ZGlvLnBhdGgpIHVybHMuYWRkKGNhdGVnb3J5RGF0YS5hdWRpby5wYXRoKTtcclxuXHJcbiAgLy8gU3ViY2F0ZWdvcmllc1xyXG4gIGlmIChBcnJheS5pc0FycmF5KGNhdGVnb3J5RGF0YS5zdWJjYXRlZ29yaWVzKSkge1xyXG4gICAgZm9yIChjb25zdCBzdWIgb2YgY2F0ZWdvcnlEYXRhLnN1YmNhdGVnb3JpZXMpIHtcclxuICAgICAgaWYgKHN1Yi5pbWFnZSAmJiBzdWIuaW1hZ2UucGF0aCkgdXJscy5hZGQoc3ViLmltYWdlLnBhdGgpO1xyXG4gICAgICBpZiAoc3ViLmF1ZGlvICYmIHN1Yi5hdWRpby5wYXRoKSB1cmxzLmFkZChzdWIuYXVkaW8ucGF0aCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBBbmltYWxzXHJcbiAgaWYgKGFuaW1hbERhdGEgJiYgQXJyYXkuaXNBcnJheShhbmltYWxEYXRhLnRpZXJlKSkge1xyXG4gICAgZm9yIChjb25zdCBhbmltYWwgb2YgYW5pbWFsRGF0YS50aWVyZSkge1xyXG4gICAgICBpZiAoYW5pbWFsLmltYWdlICYmIGFuaW1hbC5pbWFnZS5wYXRoKSB1cmxzLmFkZChhbmltYWwuaW1hZ2UucGF0aCk7XHJcbiAgICAgIGlmIChhbmltYWwuYXVkaW8gJiYgYW5pbWFsLmF1ZGlvLnBhdGgpIHVybHMuYWRkKGFuaW1hbC5hdWRpby5wYXRoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIFJldHVybiBhcyBhcnJheSwgcHJlZml4IHdpdGggJy8nIGZvciBmZXRjaFxyXG4gIHJldHVybiBBcnJheS5mcm9tKHVybHMpLm1hcChwYXRoID0+IHBhdGguc3RhcnRzV2l0aCgnLycpID8gcGF0aCA6ICcvJyArIHBhdGgpO1xyXG59XHJcblxyXG4vKipcclxuICogRmV0Y2hlcyB0aGUgbGlzdCBvZiBhbGwgZmlsZXMgdG8gYmUgZG93bmxvYWRlZCBmb3Igb2ZmbGluZSB1c2UuXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZ1tdPn0gQXJyYXkgb2YgYXNzZXQgVVJMcyAocmVsYXRpdmUgdG8gcHVibGljLylcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRPZmZsaW5lQXNzZXRGaWxlTGlzdCgpIHtcclxuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCgnL29mZmxpbmVBc3NldEZpbGVMaXN0Lmpzb24nKTtcclxuICBpZiAoIXJlcy5vaykgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggb2ZmbGluZSBhc3NldCBmaWxlIGxpc3QnKTtcclxuICByZXR1cm4gYXdhaXQgcmVzLmpzb24oKTtcclxufSAiXSwibmFtZXMiOlsic2V0IiwiZ2V0IiwiZGVsIiwiZ2V0Q2FjaGVLZXkiLCJ1cmwiLCJ2ZXJzaW9uIiwiZ2V0Q2FjaGVkQXNzZXQiLCJjYWNoZUtleSIsImNhY2hlZCIsImUiLCJjb25zb2xlIiwid2FybiIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsIkVycm9yIiwiYmxvYiIsImJhc2U2NCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZGVuZCIsInJlc3VsdCIsIm9uZXJyb3IiLCJyZWFkQXNEYXRhVVJMIiwiY2xlYXJDYWNoZWRBc3NldCIsImdldENhY2hlZEpzb24iLCJKU09OIiwicGFyc2UiLCJ0ZXh0IiwiZXh0cmFjdEFsbFJlZmVyZW5jZWRBc3NldFVybHMiLCJjYXRlZ29yeURhdGEiLCJhbmltYWxEYXRhIiwidXJscyIsIlNldCIsImltYWdlIiwicGF0aCIsImFkZCIsImF1ZGlvIiwiQXJyYXkiLCJpc0FycmF5Iiwic3ViY2F0ZWdvcmllcyIsInN1YiIsInRpZXJlIiwiYW5pbWFsIiwiZnJvbSIsIm1hcCIsInN0YXJ0c1dpdGgiLCJnZXRPZmZsaW5lQXNzZXRGaWxlTGlzdCIsInJlcyIsImpzb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./utils/assetCache.js\n");

/***/ }),

/***/ "./styles/globals.css":
/*!****************************!*\
  !*** ./styles/globals.css ***!
  \****************************/
/***/ (() => {



/***/ }),

/***/ "next/dist/compiled/next-server/pages.runtime.dev.js":
/*!**********************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages.runtime.dev.js" ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/pages.runtime.dev.js");

/***/ }),

/***/ "next/head":
/*!****************************!*\
  !*** external "next/head" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/head");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "react-dom":
/*!****************************!*\
  !*** external "react-dom" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("react-dom");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "react/jsx-runtime":
/*!************************************!*\
  !*** external "react/jsx-runtime" ***!
  \************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-runtime");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "framer-motion":
/*!********************************!*\
  !*** external "framer-motion" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = import("framer-motion");;

/***/ }),

/***/ "idb-keyval":
/*!*****************************!*\
  !*** external "idb-keyval" ***!
  \*****************************/
/***/ ((module) => {

"use strict";
module.exports = import("idb-keyval");;

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@swc"], () => (__webpack_exec__("./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%5Cindex.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();